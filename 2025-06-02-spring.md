# ğŸ“Œ 0. ëŒ€í™”
### ğŸ“Œ 0-1. API
- ê³µì‹ ì •ì˜: APIë€, ì„œë¡œ ë‹¤ë¥¸ ì†Œí”„íŠ¸ì›¨ì–´ êµ¬ì„± ìš”ì†Œë“¤ì´ ìƒí˜¸ì‘ìš©í•  ìˆ˜ ìˆë„ë¡ ë§Œë“¤ì–´ì§„ ëª…í™•í•œ ê·œì¹™, í•¨ìˆ˜, ë„êµ¬ë“¤ì˜ ì§‘í•©
- í’€ì–´ì„œ: APIë€ Application Programming Interfaceì˜ ì•½ìë¡œ, ì–´ë–¤ ì„œë²„ì˜ íŠ¹ì •í•œ ë¶€ë¶„ì— ì ‘ì†í•´ì„œ ê·¸ ì•ˆì— ìˆëŠ” ë°ì´í„°ì™€ ì„œë¹„ìŠ¤ë¥¼ ì´ìš©í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ì†Œí”„íŠ¸ì›¨ì–´ ë„êµ¬
- api ëª…ì„¸: APIëŠ” ë‹¨ìˆœí•œ ì½”ë“œê°€ ì•„ë‹ˆë¼, **â€œì´ APIë¥¼ ì–´ë–»ê²Œ ì‚¬ìš©í•  ê²ƒì¸ì§€ ì •í•´ë‘” ì •í™•í•œ ì„¤ëª…ì„œâ€**ë¥¼ í•¨ê»˜ ì œê³µí•´ì•¼ í•œë‹¤. ì´ê±¸ API ëª…ì„¸ì„œë¼ê³  ë¶ˆëŸ¬.

### ğŸ“Œ 0-2. ìŠ¤í”„ë§ ì¹œí™” vs code ì„¤ì •
- í”„ë¡œì íŠ¸ ê¸°ë³¸ê°’ ì„¤ì •ê³¼ ë©”ëª¨ë¦¬ ì‚¬ì´ì¦ˆ ì •ì˜
- ê¸°ë³¸ ë„¤íŠ¸ì›Œí¬ ì„¤ì •ì„ IPv6 ëŒ€ì‹  IPv4ë¡œ: Djava.net.preferIPv4Stack=true
- jvmì´ í™•ë³´í•  ë©”ëª¨ë¦¬ ê¸°ë³¸ê°’ì€ ë³´í†µ ë‚«ê²Œ ì¡í˜€ìˆëŠ”ë° ë©”ëª¨ë¦¬ ê¸°ë³¸ê°’ì´ -Xms5120më¡œ ë†’ì•„ì§€ë©´ í”„ë¡œê·¸ë¨ì„ ë” ì•ˆì •ì ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
- "-XX:PermSize=512m" ëŠ” ìë°” 7ì´ì „ì— ì“°ë˜ ë©”ëª¨ë¦¬ë¼ ì–´ì§œí”¼ ì ìš©ë˜ì§€ ì•Šìœ¼ë¯€ë¡œ ì‚­ì œí•œë‹¤.
```json
    "spring.initializr.defaultGroupId": "kr.hyungyu",
    "spring.initializr.defaultLanguage": "Java",
    "spring.initializr.defaultOpenProjectMethod": "Open",
    "spring.initializr.defaultPackaging": "JAR",
    "spring-boot.ls.java.vmargs": 
    ["-Djava.net.preferIPv4Stack=true",
    "-Xms5120m",
    "-Xmx5120m",
    "-XX:PermSize=512m",
    "-XX:MaxPermSize=512m"],
```
- ìœ„ì™€ ê°™ì´ ì„¤ì •í–ˆì„ë•Œ ì˜¤ë¥˜ê°€ ë°œìƒí•´ì„œ springì´ ì‹¤í–‰ì´ ì•ˆë˜ì—ˆëŠ”ë° ì´ìœ ëŠ” ë‚´ ì»´í“¨í„°(ë…¸íŠ¸ë¶/PC)ê°€ ì‹¤ì œë¡œ 5GBë¥¼ í•œ ë²ˆì— ìë°” í”„ë¡œê·¸ë¨ì— ëª» ì¤„ ìˆ˜ë„ ìˆê¸° ë•Œë¬¸ì¸ ê²ƒ ê°™ë‹¤.ì¦‰ ìµœì†Œë©”ëª¨ë¦¬ë¥¼ í• ë‹¹í•˜ì§€ ëª»í•œ ìƒí™©ì´ ë˜ë©´ vs codeê°€ ì•„ì˜ˆ ì‘ë™í•˜ì§€ ì•ŠëŠ”ë‹¤.
- ì—„ë°€í•˜ê²Œ ë§í•˜ë©´ "-Xms5120m"ì´ ë¬¸ì œì˜€ë˜ ê²ƒì´ë‹¤.

### ğŸ“Œ 0-3. IntelliJë¡œ ì˜®ê¸°ë©´ì„œ spring ì¸ì‹
- build.gradleì— spring-boot-starterê°€ ë“¤ì–´ ìˆì—ˆê¸° ë•Œë¬¸ì— ì´ í”„ë¡œì íŠ¸ê°€ springì„ì„ ideê°€ ë°”ë¡œ ì¸ì‹í•  ìˆ˜ ìˆì—ˆë‹¤.

# ğŸ“Œ 1. ì¿ í‚¤
### ğŸ“Œ 1-1. ë¸Œë¼ìš°ì €ì—ì„œ ì¿ í‚¤í™•ì¸
- ê°œë°œìë„êµ¬ ì• í”Œë¦¬ì¼€ì´ì…˜ì— ë“¤ì–´ìˆìŒ
- ì¿ í‚¤ëŠ” ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì¤‘ìš”í•œ ìƒíƒœ ë°ì´í„°ì´ê¸° ë•Œë¬¸ì— Application(ì• í”Œë¦¬ì¼€ì´ì…˜) íƒ­ì—ì„œ ê´€ë¦¬í•˜ëŠ” ê²Œ ë…¼ë¦¬ì ìœ¼ë¡œ ë”± ë§ë‹¤.
- SameSite ì†ì„±ì€ ì¿ í‚¤ê°€ "ë‹¤ë¥¸ ì‚¬ì´íŠ¸"ì—ì„œ ìš”ì²­ì´ ì˜¬ ë•Œë„ ê°™ì´ ì „ì†¡ë ì§€ë¥¼ ì •í•˜ëŠ” ì˜µì…˜
- ì›ë˜ ì¿ í‚¤ëŠ” ì„œë²„ë¼ë¦¬ ì „í•´ì£¼ëŠ” ê²Œ ì•„ë‹ˆê³ , ë¸Œë¼ìš°ì €ê°€ ìš”ì²­ë§ˆë‹¤ ì•Œì•„ì„œ ì¿ í‚¤ë¥¼ ìë™ ì „ì†¡í•´ì£¼ëŠ” êµ¬ì¡°ì´ê¸° ë•Œë¬¸ì— ë§Œì•½ ë„¤ì´ë²„ì— ë°©ë¬¸í–ˆëŠ”ë° ë„¤ì´ë²„ì—ì„œ êµ¬ê¸€ì˜ ì´ë¯¸ì§€ë¥¼ ëŒì–´ì™€ ì“°ê³  ìˆìœ¼ë©´ êµ¬ê¸€ì— ì´ë¯¸ì§€ ìš”ì²­ì„ ë³´ë‚¼ ë•Œ ë‚´ê°€ ì˜›ë‚ ì— ë°©ë¬¸í–ˆë˜ google.comì´ë¦„ìœ¼ë¡œ ì €ì¥ëœ ì¿ í‚¤ê°€ êµ¬ê¸€ì— ê°™ì´ ì „ì†¡ë˜ì–´ êµ¬ê¸€ì´ ë‚´ê°€ ë„¤ì´ë²„ì—ë„ ë°©ë¬¸í–ˆë‹¤ëŠ” ì‚¬ì‹¤ì„ ì•Œ ìˆ˜ ìˆì—ˆë‹¤.
- ìµœê·¼ì—ëŠ” 3rd-party ì¿ í‚¤ë¥¼ ì°¨ë‹¨í•˜ëŠ” ì¶”ì„¸ì´ë‹¤. -> ì´ì œ ë¸Œë¼ìš°ì €ê°€ ìš”ì²­ì´ ì™€ë„ 3rd-party ì¿ í‚¤ëŠ” ì „ì†¡í•˜ì§€ ì•ŠëŠ”ë‹¤.
- 3rd-party ì¿ í‚¤: **ë‚´ê°€ 'í˜„ì¬' ë°©ë¬¸í•œ ì‚¬ì´íŠ¸ê°€ ì•„ë‹Œ, â€œì™¸ë¶€ ì„œë¹„ìŠ¤(ë‹¤ë¥¸ ë„ë©”ì¸)â€**ì—ì„œ ë§Œë“¤ì–´ì§„ ì¿ í‚¤
- "ì‚¬ì´íŠ¸"ë¥¼ ê²°ì •í•˜ëŠ” ê¸°ì¤€ (ë¸Œë¼ìš°ì € ê´€ì ): ìŠ¤í‚´: http, https + ë“±ë¡ ë„ë©”ì¸: naver.com, google.com (ì„œë¸Œë„ë©”ì¸ì€ ë¬´ì‹œ, naver.com ì „ì²´ë¥¼ í•˜ë‚˜ë¡œ ë´„) + í¬íŠ¸: :80, :443 ë“± (ë‹¤ë¥´ë©´ ë‹¤ë¥¸ ì‚¬ì´íŠ¸ë¡œ ì¸ì‹)
- ê°™ì€ ë„ë©”ì¸(google.com)ì´ì–´ë„ â€œì–´ë–¤ ìµœìƒìœ„(íƒ‘ë ˆë²¨) ì‚¬ì´íŠ¸ ì»¨í…ìŠ¤íŠ¸â€ì—ì„œ ì™”ëƒì— ë”°ë¼ ì¿ í‚¤ ê°’ì´ ë‹¤ë¥´ê³ , ê³µìœ ë˜ì§€ ì•ŠëŠ”ë‹¤.
- íƒ‘ë ˆë²¨ ì‚¬ì´íŠ¸(Top-level site): íƒ‘ë ˆë²¨ ì‚¬ì´íŠ¸ë€ ë¸Œë¼ìš°ì € ì£¼ì†Œì°½ì— ì§ì ‘ ë³´ì´ëŠ” "ì§„ì§œ ì ‘ì†í•œ" ì›¹ì‚¬ì´íŠ¸ë¥¼ ì˜ë¯¸í•œë‹¤.
- í˜„ì¬ ì‹¤ì œë¡œ íƒ‘ë ˆë²¨ ì‚¬ì´íŠ¸ê°€ ë‹¤ë¥´ë©´, ê·¸ ì•ˆì— ë“¤ì–´ì˜¤ëŠ” ì™¸ë¶€(ë‹¤ë¥¸ ë„ë©”ì¸)ì˜ ë¦¬ì†ŒìŠ¤ë‚˜ ì¿ í‚¤ëŠ” â€œì„œë“œíŒŒí‹°(3rd-party)â€ë¡œ ê°„ì£¼í•˜ê²Œ ëœë‹¤.
- ì¿ í‚¤ëŠ” ê°™ì€ ì‚¬ì´íŠ¸ ë‚´ì—ì„œëŠ” ì–´ë””ì„œë“  ì ‘ê·¼ ê°€ëŠ¥í•˜ë‹ˆê¹Œ ì „ì—­ë³€ìˆ˜ì²˜ëŸ¼ ì“¸ ìˆ˜ ìˆë‹¤ë¼ëŠ” ë¹„ìœ ë¥¼ í•˜ëŠ” ê²ƒì´ë‹¤. í•˜ì§€ë§Œ ê°™ì€ ë„ë©”ì¸ì˜ ì‘ë‹µ, ìš”ì²­ì— í¬í•¨ë  ë¿ì´ì§€ ì§„ì§œ ì „ì—­ë³€ìˆ˜ëŠ” ì•„ë‹ˆë‹¤.
- ì¿ í‚¤ëŠ” stateless í†µì‹ ì—ì„œ â€œì ê¹ ë™ì•ˆ ìƒíƒœë¥¼ ê¸°ì–µâ€í•˜ê¸° ìœ„í•´ ë‚˜ì˜¨ ì„ì‹œ ë°ì´í„° ì €ì¥ ë°©ì‹ì´ê¸° ë•Œë¬¸ì— ì˜êµ¬ì ì´ì§€ ì•Šë‹¤.

| ë©”ë‰´(ì»¬ëŸ¼)               | í•œê¸€ ì„¤ëª…             | ì˜ë¯¸/ì—­í•  ìš”ì•½                                     |
| -------------------- | ----------------- | -------------------------------------------- |
| ì´ë¦„(Name)             | ì¿ í‚¤ ì´ë¦„             | ì¿ í‚¤ë¥¼ ì‹ë³„í•˜ëŠ” ì´ë¦„                                  |
| ê°’(Value)             | ì¿ í‚¤ì— ì €ì¥ëœ ê°’         | ì‹¤ì œ ë°ì´í„°(ë¬¸ì, ìˆ«ì ë“±)                             |
| ë„ë©”ì¸(Domain)          | ì ìš©ë˜ëŠ” ì‚¬ì´íŠ¸ ì£¼ì†Œ       | ì¿ í‚¤ê°€ ì ìš©ë˜ëŠ” ì›¹ì‚¬ì´íŠ¸ì˜ ë„ë©”ì¸                           |
| ê²½ë¡œ(Path)             | ì¿ í‚¤ê°€ ìœ íš¨í•œ ê²½ë¡œ        | íŠ¹ì • ê²½ë¡œë‚˜ ì „ì²´(`/`)ì— ëŒ€í•´ ì¿ í‚¤ë¥¼ ì ìš©                    |
| ë§Œë£Œì¼(Expires/Max-Age) | ì¿ í‚¤ ë§Œë£Œ ì‹œê° ë˜ëŠ” ì§€ì† ì‹œê°„ | ë§Œë£Œ ì‹œê°„ì´ ìˆìœ¼ë©´ ê·¸ë•Œê¹Œì§€, ì—†ìœ¼ë©´ ë¸Œë¼ìš°ì € ì¢…ë£Œ ì‹œê¹Œì§€(ì„¸ì…˜ ì¿ í‚¤)      |
| í¬ê¸°(Size)             | ì¿ í‚¤ì˜ ë°ì´í„° í¬ê¸°(ë°”ì´íŠ¸)   | ì¿ í‚¤ì— ì €ì¥ëœ ë°ì´í„°ì˜ í¬ê¸°                              |
| HttpOnly             | HttpOnly ì†ì„±       | ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ì ‘ê·¼ ë¶ˆê°€, ì„œë²„ì—ì„œë§Œ ì‚¬ìš©                     |
| Secure               | Secure ì†ì„±         | HTTPS(ë³´ì•ˆ ì—°ê²°)ì—ì„œë§Œ ì „ì†¡ ê°€ëŠ¥                        |
| SameSite             | SameSite ì†ì„±       | í¬ë¡œìŠ¤ì‚¬ì´íŠ¸ ì¿ í‚¤ ì „ì†¡ ì •ì±… (`Lax`, `Strict`, `None`)    |
| Partitioned          | íŒŒí‹°ì…”ë‹ ì¿ í‚¤ ì—¬ë¶€        | ì‚¬ì´íŠ¸ë³„ ê²©ë¦¬ ì €ì¥ ì—¬ë¶€                                |
| Cross Site           | í¬ë¡œìŠ¤ì‚¬ì´íŠ¸ í—ˆìš© ì—¬ë¶€      | ì¿ í‚¤ê°€ í¬ë¡œìŠ¤ì‚¬ì´íŠ¸ ìƒí™©ì—ì„œ ì‚¬ìš©ë  ìˆ˜ ìˆëŠ”ì§€                    |
| Priority             | ì¿ í‚¤ ìš°ì„ ìˆœìœ„           | `High`, `Medium`, `Low` ë¸Œë¼ìš°ì €ê°€ ê³µê°„ ë¶€ì¡±ì‹œ ì‚­ì œ ìš°ì„ ìˆœìœ„ |

### ğŸ“Œ 1-2. ì¿ í‚¤ ë§Œë“¤ê¸°
- ì—ëŸ¬: Thymeleafì—ì„œ í…œí”Œë¦¿ íŒŒì¼ëª… ë¦¬í„´í•  ë•Œ "templates/" í´ë”ëª…ì„ ë·° ì´ë¦„ì— í¬í•¨ì‹œí‚¤ë©´ ì•ˆëœë‹¤.
- HttpServletResponse: ì¿ í‚¤, íŒŒì¼ ë‹¤ìš´ë¡œë“œ, ì§ì ‘ì ì¸ í—¤ë” ì¡°ì‘ ë“± ê¸°ë³¸ì ì¸ í™”ë©´ ë°˜í™˜ ë§ê³  ì¶”ê°€ì ì¸ â€œì‘ë‹µ ì œì–´â€ê°€ í•„ìš”í•  ë•Œ ì´ ê°ì²´ê°€ ê¼­ í•„ìš”í•¨!
- ì¦‰ ì¿ í‚¤ë¥¼ ì¶”ê°€í•˜ëŠ”ê±´ ì‘ë‹µí—¤ë”ì— ì¶”ê°€ë¡œ ì¿ í‚¤ë¥¼ ì €ì¥í•˜ëŠ” ê²ƒì´ê³  ë”°ë¼ì„œ ì‘ë‹µê°ì²´ë¥¼ í•œë²ˆë” ë¶ˆëŸ¬ì¤˜ì•¼í•œë‹¤. response.addCookie(cookie)ì—ì„œ ì‘ë‹µì— ì¿ í‚¤ë¥¼ ì¶”ê°€í•œë‹¤.
- cookieVal = URLEncoder.encode(cookieVal, "utf-8"): HTTP ì¿ í‚¤ ê°’ì—ëŠ” ë°˜ë“œì‹œ ASCII(ì˜ë¬¸, ìˆ«ì, ì¼ë¶€ ê¸°í˜¸)ë§Œ ì•ˆì „í•˜ê²Œ ë“¤ì–´ê°€ì•¼ í•˜ê¸° ë•Œë¬¸ì— ì¸ì½”ë”©í•´ì£¼ì–´ì•¼ í•œë‹¤.
- í•˜ì—¬ ë°›ì„ ë•ŒëŠ” ë‹¤ì‹œ ë””ì½”ë”©ì´ í•„ìš”í•˜ë‹¤.
- cookie.setPath("/") : ì¿ í‚¤ê°€ ì–´ë””ì„œ ìœ ìš©í•  ì§€ ì„¤ì • -> "/"ì„ ë„£ìœ¼ë©´ í•´ë‹¹ ë„ë©”ì¸ì˜ ëª¨ë“  ê²½ë¡œì—ì„œ ì´ ì¿ í‚¤ê°€ ì‚¬ìš©ëœë‹¤. ë„ë©”ì¸/homeì´ë“  ë„ë©”ì¸/popupì´ë“ ê°„ì—
- ë§Œì•½ setPath("/post")ë¼ë©´ â†’ naver.com/post ë° /postë¡œ ì‹œì‘í•˜ëŠ” ì£¼ì†Œì—ë§Œ ì¿ í‚¤ê°€ ì „ì†¡ëœë‹¤.
- cookie.setDomain("naver.com") : ì¿ í‚¤ì˜ ë„ë©”ì¸ì„ ì§€ì • -> ëª¨ë“  í•˜ìœ„ ë„ë©”ì¸(ì˜ˆ: blog.naver.com, cafe.naver.com ë“±)ì—ë„ ìë™ìœ¼ë¡œ í¬í•¨ëœë‹¤. ì¦‰ "naver.com"ê³¼ ê·¸ ì•„ë˜ ëª¨ë“  í•˜ìœ„ ë„ë©”ì¸ì´ ì´ ì¿ í‚¤ë¥¼ ì½ê³  ì“¸ ìˆ˜ ìˆë‹¤!
- return "redirect:/cookie/home" : **"redirect:"**ë¡œ ì‹œì‘í•˜ëŠ” ë¬¸ìì—´ì„ ë¦¬í„´í•˜ë©´ â†’ HTTP ë¦¬ë‹¤ì´ë ‰íŠ¸(302 Redirect) ì‘ë‹µì„ ë¸Œë¼ìš°ì €ì— ë³´ë‚¸ë‹¤ëŠ” ëœ»ì´ë‹¤.
- 302 ì‘ë‹µì„ ë°›ì€ ë¸Œë¼ìš°ì €ëŠ” ì¦‰ì‹œ redirect ì˜†ì˜ ì£¼ì†Œë¡œ getìš”ì²­ì„ ë‹¤ì‹œ ë³´ë‚¸ë‹¤. ì´ë¥¼ í†µí•´ ìë™ìœ¼ë¡œ ìƒˆë¡œê³ ì¹¨í•˜ëŠ” íš¨ê³¼ë¥¼ ì–»ì„ ìˆ˜ ìˆëŠ” ê²ƒì´ë‹¤.
- response.addCookie(cookie): ë¹¼ë¨¹ì§€ ë§ê¸°
- ì¿ í‚¤ëŠ” ì„œë²„ê°€ ì•„ë‹ˆë¼ ë¸Œë¼ìš°ì € ìì²´ì— ì €ì¥ë˜ëŠ” ì •ë³´ì´ê¸°ë•Œë¬¸ì— í•œë²ˆ ì¿ í‚¤ì˜ ì •ë³´ë¥¼ ì…ë ¥í•´ë‘ë©´ ë¸Œë¼ìš°ì €ê°€ ì²˜ë¦¬í•˜ë©´ì„œ ì•Œì•„ì„œ ì¿ í‚¤ê°€ ì´ë™í•œë‹¤.
- ì„œë²„ëŠ” ìš”ì²­ì„ ë°›ì„ ë•Œë§ˆë‹¤ ì¿ í‚¤ë¥¼ ì½ì–´ì„œ ì²˜ë¦¬í•˜ëŠ” ê²ƒì´ë‹¤. -> ì•Œë¼ë©´ ì¿ í‚¤ ê°ì²´ë¥¼ ëœ¯ì–´ì„œ ë°±ì—”ë“œ ë‹¨ì—ì„œ ì–¼ë§ˆë“ ì§€ ì•Œì•„ë‚¼ ìˆ˜ ìˆë‹¤.
```java
@Controller
public class CookieController {

    @GetMapping("/cookie/home")
    public String home() {
        return "cookie/home";
    }

    @PostMapping("/cookie/save")
    public String save(HttpServletResponse response,
                       @RequestParam(value = "cookie_name", defaultValue = "") String cookieName,
                       @RequestParam(value = "cookie_time", defaultValue = "0") int cookieTime,
                       @RequestParam(value = "cookie_var", defaultValue = "") String cookieVal){
        if(!cookieVal.equals("")){
            try {
                cookieVal = URLEncoder.encode(cookieVal, "utf-8");
            } catch (UnsupportedEncodingException e) {
                throw new RuntimeException(e);
            }
        }

        Cookie cookie = new Cookie(cookieName, cookieVal);

        cookie.setPath("/");

        cookie.setDomain("localhost");

        cookie.setMaxAge(cookieTime);
        
        response.addCookie(cookie);

        return "redirect:/cookie/home";
    }

    @GetMapping("/cookie/popup")
    public String popup() {
        return "cookie/popup";
    }
}
```

### ğŸ“Œ 1-3. ì¿ í‚¤ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
- @CookieValueë¡œ ë‚´ë¶€ì  ì²˜ë¦¬ë¥¼ í†µí•´ cookie ë‚´ë¶€ì˜ ì •ë³´ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ìˆë‹¤.
- ì¸ì½”ë”©ë˜ì–´ìˆëŠ” ì •ë³´ì´ê¸° ë•Œë¬¸ì— í•œê¸€ì˜ ê²½ìš°ëŠ” decoding í•´ì•¼í•œë‹¤.
- ëª¨ë¸ê°ì²´ì— í•´ë‹¹ ì •ë³´ë¥¼ ë‹´ì•„ì„œ home.htmlì— ëŒ€ì…í•œë‹¤.
```java
@GetMapping("/cookie/home")
    public String home(Model model,
                       @CookieValue(value = "name", defaultValue = "") String myCookieName,
                       @CookieValue(value = "age", defaultValue = "0") int myCookieAge) {
        try {
            myCookieName = URLDecoder.decode(myCookieName, "utf-8");
        } catch (UnsupportedEncodingException e) {
            throw new RuntimeException(e);
        }

        model.addAttribute("myCookieName", myCookieName);
        model.addAttribute("myCookieAge", myCookieAge);
        
        return "cookie/home";
    }
```
- th:if="..." :  ì´ ì†ì„±ì€ **â€œì£¼ì–´ì§„ ì¡°ê±´ì´ ì°¸ì¼ ë•Œë§Œ, í•´ë‹¹ íƒœê·¸(ì—¬ê¸°ì„œëŠ” div)ë¥¼ ë Œë”ë§(ì¶œë ¥)â€**í•œë‹¤ëŠ” ëœ»ì´ë‹¤.
- ê°’ì´ ë“¤ì–´ìˆê³  ageê°€ ê¸°ë³¸ê°’ì´ ì•„ë‹ˆë¼ ë­”ê°€ë¡œ ì„¤ì •ë˜ì–´ìˆìœ¼ë©´ div íƒœê·¸ë¥¼ ìƒì„±í•œë‹¤.
```html
<div th:if="${myCookieName != '' or myCookieAge > 0}">
    <hr>
    <h3>ì¿ í‚¤ì— ì €ì¥ëœ ê°’</h3>
    <ul>
        <li>myCookieName: <span th:text="${myCookieName}"></span></li>
        <li>myCookieAge: <span th:text="${myCookieAge}"></span></li>
    </ul>
</div>
```

### ğŸ“Œ 1-4. ì¿ í‚¤ ì´ìš©í•´ì„œ íŒì—…ì°½ ë„ìš°ê¸°
- ì¿ í‚¤ì— ë„ë©”ì¸ê°’ì„ nullë¡œ ë‘ë©´ ì²˜ìŒ ì¿ í‚¤ë¥¼ ìƒì„±í•œ ì •í™•íˆ ê·¸ í˜ì´ì§€ì—ì„œ ìš”ì²­í•  ë•Œë§Œ í•´ë‹¹ ì½”ë“œë¥¼ ë³´ëƒ„
- ì•„ë˜ëŠ” ì¿ í‚¤ë¥¼ ì €ì¥í•˜ëŠ” helperì´ë‹¤.
- ê³µìœ ë„ë©”ì¸ : cookie.setDomain("naver.com") ì²˜ëŸ¼ domainì„ ì„¤ì •í•˜ë©´ ì´ ì¿ í‚¤ê°€ naver.comê³¼ ê·¸ ì•„ë˜ ëª¨ë“  í•˜ìœ„ ë„ë©”ì¸(blog.naver.com, mail.naver.com, www.naver.com ë“±)ì—ì„œ ì „ë¶€ ì‚¬ìš© ê°€ëŠ¥í•´ì§„ë‹¤. ê·¸ë˜ì„œ ê³µìœ  ë„ë©”ì¸ì´ë¼ê³  ë¶€ë¥´ëŠ” ê²ƒì´ë‹¤.
- ì•„ë˜ writeCookieë©”ì„œë“œë¥¼ ì •ì˜í•œ í—¬í¼ë¥¼ ë§Œë“¤ë•Œ ìë°”ì—ì„œëŠ” íŒŒë¼ë¯¸í„° ê¸°ë³¸ê°’ì„ ì„¤ì •í•˜ëŠ” ê¸°ëŠ¥ì´ ì—†ìœ¼ë¯€ë¡œ ì¼ì¼íˆ í•˜ë‚˜ì”© ì§€ì›Œê°€ë©´ì„œ ìƒì„±ìì—ì„œ ê°’ì„ ëŒ€ì…í•˜ëŠ” ì‹ìœ¼ë¡œ ë¹Œë“œí•´ì•¼í•œë‹¤. 
```java
 * ì¿ í‚¤ë¥¼ ì €ì¥í•œë‹¤.
     *
     * @param response - HttpServletResponse ê°ì²´
     * @param name - ì¿ í‚¤ ëª…
     * @param value - ì¿ í‚¤ ê°’
     * @param maxAge - ì¿ í‚¤ ìœ ì§€ ì‹œê°„ (0ì´ë©´ ì €ì¥ ì•ˆí•¨, ìŒìˆ˜ì¼ ê²½ìš° ì¦‰ì‹œ ì‚­ì œ)
     * @param domain - ê³µìœ  ë„ë©”ì¸
     * @param path - í—ˆìš©í•  ê²½ë¡œ
     */
    public void writeCookie(HttpServletResponse response, String name, String value, int maxAge, String domain, String path) {
        if (value != null && !value.equals("")) {
            try {
                value = java.net.URLEncoder.encode(value, "utf-8");
            } catch (java.io.UnsupportedEncodingException e) {
                // ì˜¤ë¥˜ ì²˜ë¦¬
                e.printStackTrace();
            }
        }
        Cookie cookie = new Cookie(name, value);
        cookie.setPath(path);

        if (domain != null) {
            cookie.setDomain(domain);
        }
        if (maxAge > 0) {
            cookie.setMaxAge(maxAge);
        }

        response.addCookie(cookie);
    }

    /**
     * ì¿ í‚¤ë¥¼ ì €ì¥í•œë‹¤. pathê°’ì€ "/"ë¥¼ ê°•ì œ ì„¤ì •í•œë‹¤.
     */
    public void writeCookie(HttpServletResponse response, String name, String value, int maxAge, String domain) {
        this.writeCookie(response, name, value, maxAge, domain, "/");
    }

    /**
     * ì¿ í‚¤ë¥¼ ì €ì¥í•œë‹¤. pathê°’ì€ "/"ë¥¼, domainê°’ì€ nullë¡œ ê°•ì œ ì„¤ì •í•œë‹¤.
     */
    public void writeCookie(HttpServletResponse response, String name, String value, int maxAge) {
        this.writeCookie(response, name, value, maxAge, null, "/");
    }

    /**
     * ì¿ í‚¤ë¥¼ ì €ì¥í•œë‹¤. pathê°’ì€ "/"ë¥¼, domainê°’ì€ null, maxAgeê°’ì€ 0ì„ ê°•ì œ ì„¤ì •í•œë‹¤.
     */
    public void writeCookie(HttpServletResponse response, String name, String value) {
        this.writeCookie(response, name, value, 0, null, "/");
    }

    /**
     * ì¿ í‚¤ë¥¼ ì‚­ì œí•œë‹¤.
     */
    public void deleteCookie(HttpServletResponse response, String name) {
        this.writeCookie(response, name, null, -1, null, "/");
    }
```
- popup.htmlì—ì„œ ì²´í¬ë°•ìŠ¤ë¥¼ í´ë¦­í•˜ë©´ value="Y"ë¼ê³  ì •í•´ì§„ë‹¤. ì¦‰ í•´ë‹¹ í¬ìŠ¤íŠ¸ ë°©ì‹ì˜ ìš”ì²­ì—ì„œ  name="no-open"ì˜ í‚¤ê°’ì€ Yê°€ ëœë‹¤.
- ë˜ í•´ë‹¹ íŒì—…ì€ th:if="${noOpen != 'Y'}" ì´ ì¡°ê±´ í•˜ì—ì„œë§Œ ë³´ì´ê²Œ ëœë‹¤.
```html
<form class="popup" method="post" th:action="@{/cookie/popup_close}" th:if="${noOpen != 'Y'}">
        <h2>ì´ ë¶€ë¶„ì€ íŒì—…ì°½ ì˜ì—­ì…ë‹ˆë‹¤.</h2>
        <hr />
        <label>
            <input type="checkbox" name="no-open" value="Y" />
            15ì´ˆê°„ ì´ ì°½ ì—´ì§€ ì•ŠìŒ
        </label>
        <button type="submit">ë‹«ê¸°</button>
    </form>
```
- ì•„ë˜ëŠ” í¼ ê²°ê³¼ë¥¼ ë°›ì•„ì„œ ì¿ í‚¤ë¥¼ ìƒì„±í•˜ëŠ” í•¸ë“¤ëŸ¬ì´ë‹¤.
```java
@GetMapping("/cookie/popup")
    public String popup(Model model,
                        @CookieValue(value = "no-open", defaultValue = "") String noOpen) {
        model.addAttribute("noOpen", noOpen);

        return "cookie/popup";
    }

    @PostMapping("/cookie/popup_close")
    public String popupClose(HttpServletResponse response, 
                            @RequestParam(value = "no-open", defaultValue = "") String noOpen) {
        WebHelper.getInstance().writeCookie(response, "no-open", noOpen, 15);
        
        return "redirect:/cookie/popup";
    }
```
- ì—ëŸ¬: WebHelper.getInstance().writeCookie(response, "no-open", noOpen, 60); : ì—¬ê¸°ì—ì„œ í‚¤:valueì´ë¦„ì„ ì˜ ì‹ ê²½ì¨ì•¼ í•œë‹¤. ì²˜ìŒì— í‚¤ê°’ì„ "noOpen"ë¡œ í–ˆì—ˆë‹¤.
- ì‹¤í—˜: WebHelper.getInstance().writeCookie(response, "no-open", noOpen, 15, null, "/cookie") : ì´ë ‡ê²Œ ì„¤ì •í•˜ë©´ ì„¸ì…˜ í…ŒìŠ¤íŠ¸ ì˜ì—­ê³¼ ì‹¬í”Œ ë¡œê·¸ì¸ ì˜ì—­ì—ì„œëŠ” ì¿ í‚¤ê°€ ì•ˆì—´ë¦°ë‹¤.

### ğŸ“Œ 1-5. ë²ˆì™¸: íŒì—…ì°½ ì›€ì§ì´ê¸°
```js
document.addEventListener('DOMContentLoaded', function() {
            const popup = document.querySelector('#popup');
            let isDragging = false;
            let offsetX, offsetY;
        
            popup.addEventListener('mousedown', e => {
                isDragging = true;
                // ë§ˆìš°ìŠ¤ í´ë¦­ ì§€ì ê³¼ íŒì—… ì¢Œìƒë‹¨ì˜ ê±°ë¦¬
                offsetX = e.clientX - popup.offsetLeft;
                offsetY = e.clientY - popup.offsetTop;
                popup.style.cursor = 'move';
            });
        
            document.addEventListener('mousemove', e => {
                if (isDragging) {
                    popup.style.left = (e.clientX - offsetX) + 'px';
                    popup.style.top = (e.clientY - offsetY) + 'px';
                }
            });
        
            document.addEventListener('mouseup', e => {
                isDragging = false;
                popup.style.cursor = 'default';
            });
        });
```

# ğŸ“Œ 2. ì„¸ì…˜
- ì„œë²„ëŠ” ëª¨ë“  ì‚¬ìš©ìì—ê²Œ â€œì„¸ì…˜ ID(ëœë¤ ë¬¸ìì—´)â€ë¥¼ í• ë‹¹í•œë‹¤.
- ê·¸ë¦¬ê³  ì„œë²„ëŠ” ì„¸ì…˜ ID â†” ì„¸ì…˜ ê°ì²´ë¥¼ Mapì²˜ëŸ¼ ê´€ë¦¬í•˜ê³  ìˆë‹¤.
- ìµœì´ˆ ìš”ì²­ â†’ ì„œë²„ê°€ ì„¸ì…˜ IDë¥¼ ìƒì„±, Set-Cookie: JSESSIONID=xxxx ì¿ í‚¤ë¡œ ë¸Œë¼ìš°ì €ì— ì „ì†¡
- ë¸Œë¼ìš°ì €ëŠ” ì´í›„ ëª¨ë“  ìš”ì²­ì— Cookie: JSESSIONID=xxxx ìë™ìœ¼ë¡œ í¬í•¨ì‹œì¼œì„œ ì„œë²„ì— ë³´ë‚´ì¤€ë‹¤.
- ì„œë²„ëŠ” ìš”ì²­ì—ì„œ ì„¸ì…˜ ID(JSESSIONID)ë¥¼ ë³´ê³  â†’ â€œì•„! ì´ê±° ì‚¬ìš©ì Aì˜ ì„¸ì…˜ì´êµ¬ë‚˜â€ â†’ í•´ë‹¹ ì„¸ì…˜ ê°ì²´ë¥¼ ìë™ìœ¼ë¡œ ì°¾ì•„ì„œ ë„˜ê²¨ì¤€ë‹¤.
- ì²˜ìŒ ë°©ë¬¸ì‹œ getSessionì€ ì„œë²„ê°€ ìƒˆë¡œìš´ ì„¸ì…˜ ê°ì²´ë¥¼ ìƒì„±í•˜ë„ë¡ í•˜ê³  ì´ë¥¼ í†µí•´ ëœë¤í•œ ì„¸ì…˜ID(JSESSIONID)ë¥¼ ë§Œë“¤ì–´ HTTP ì‘ë‹µ í—¤ë”ì— JSESSIONID=xxxxë¥¼ ì‹¤ì–´ì„œ ë³´ë‚´ê²Œ ëœë‹¤.
- ì„¸ì…˜ì˜ ê°’ ë‹¤ì–‘í•œ ê°’ì„ ë°›ì•„ì„œ ì €ì¥í•´ì•¼í•˜ê¸° ë•Œë¬¸ì— ë¬´ì¡°ê±´ object íƒ€ì…ìœ¼ë¡œ ì €ì¥í•œë‹¤. 
- í•˜ì—¬ HttpSessionì˜ ë‚´ë¶€ êµ¬ì¡°ëŠ” Map<String, Object> attributes; ë¡œ ì´ë£¨ì–´ì ¸ ìˆë‹¤.
- ëŒ€ê·œëª¨ ì‚¬ì´íŠ¸ëŠ” ì„¸ì…˜ì„ ì‚¬ìš©í•˜ê¸°ê°€ í˜ë“¤ë‹¤. (ì ‘ì†í•  ë•Œë§ˆë‹¤ ì»´í“¨í„°ê°€ ë°”ë€ë‹¤.) -> ë§ìœ¼ë©´ db sessionìœ¼ë¡œ ì‚¬ìš©í•œë‹¤. -> ssoë°©ì‹
- ì˜êµ¬ ì‹ë³„: íšŒì› DBì— **ê³ ìœ ë²ˆí˜¸(Primary Key)**ì™€ í•¨ê»˜ ì•„ì´ë””, ë¹„ë°€ë²ˆí˜¸, ì´ë©”ì¼ ë“± ì •ë³´ ì €ì¥ -> ì‚¬ìš©ìê°€ ë¡œê·¸ì¸ ->  ì„¸ì…˜ì´ë‚˜ í† í°ì— user_id(pk)ë¥¼ ì €ì¥ -> ì„¸ì…˜/ì¿ í‚¤/í† í° ë“± â†’ user_id ê°’ì´ ê³„ì† ë”°ë¼ë‹¤ë‹˜

### ğŸ“Œ 2-1. ì„¸ì…˜ ìƒì„±
- ê²½ë¡œ ì—ëŸ¬: No static resource session/@%7B/session/save%7D. -> action ì•ì— thë¥¼ ì•ˆì¨ì£¼ì–´ì„œ ë°œìƒí•œ ë¬¸ì œì´ë‹¤. th:action="@{/session/save}" ì´ì™€ ê°™ì´ ìˆ˜ì •í•˜ì—¬ í•´ê²°í•˜ì˜€ë‹¤.
- ìµœì´ˆ ì‹¤í–‰ì‹œ  String userName = (String) session.getAttribute("user_name"); ê°€ ì—†ìœ¼ë¯€ë¡œ nullì„ ë°˜í™˜í•˜ì—¬ í™”ë©´ì—ëŠ” ë¹ˆê°’ì´ ì¶œë ¥ëœë‹¤.
- request.getSession(); // ìš”ì²­ì„ ê¸°ì¤€ìœ¼ë¡œ ì„¸ì…˜ì„ ë§Œë“¦ -> ìš”ì²­ì— ìˆëŠ” ì¿ í‚¤ë¥¼ ë³´ê³  (JSESSIONID=xxxx)ë¥¼ ë³´ê³  ì €ì¥ë˜ì–´ ìˆëŠ” ê·¸ ì„¸ì…˜ ê°ì²´ë¥¼ ëŒë ¤ì£¼ëŠ” ê²ƒ
```java
@GetMapping("/session/home")
    public String home(Model model, HttpServletRequest request) {
        HttpSession session = request.getSession(); // ìš”ì²­ì„ ê¸°ì¤€ìœ¼ë¡œ ì„¸ì…˜ì„ ë§Œë“¦

        String userName = (String) session.getAttribute("user_name");
        Integer userAge = (Integer) session.getAttribute("user_age");

        model.addAttribute("userName", userName);
        model.addAttribute("userAge", userAge);

        return "session/home";
    }

    @PostMapping("/session/save")
    public String postMethodName(HttpServletRequest request,
                                @RequestParam("user_name") String userName,
                                @RequestParam("user_age") int userAge) {
        HttpSession session = request.getSession();

        session.setAttribute("user_name", userName);
        session.setAttribute("user_age", userAge);
        
        return "redirect:/session/home";
    }
```
```html
<div th:replace="~{fragments/header :: my-header}"></div>
    <h2>Session</h2>

    <form method="post" th:action="@{/session/save}">
        <input type="text" name="user_name" placeholder="ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”.">
        <input type="text" name="user_age" placeholder="ë‚˜ì´ë¥¼ ì…ë ¥í•˜ì„¸ìš”.">
        <button type="submit">ì„¸ì…˜ì €ì¥</button>

        <hr>
        <h3>ì„¸ì…˜ì— ì €ì¥ëœ ê°’</h3>
        <ul>
            <li>ì´ë¦„: <span th:text="${userName}"></span></li>
            <li>ë‚˜ì´: <span th:text="${userAge}"></span></li>
        </ul>
    </form>
```

### ğŸ“Œ 2-2. ê°„ì´ ë¡œê·¸ì¸ êµ¬í˜„
- ì•„ë˜ëŠ” login.html ì½”ë“œì´ë‹¤. ë©”ì¸ í™”ë©´ì—ì„œ ë¡œê·¸ì¸ ê´€ë ¨ í™”ë©´ì„ ì¡°ê±´ë¶€ë¡œ ë³´ì—¬ì¤€ë‹¤. 
- th:if="${session.memberInfo == null}" ëŠ” ì´ì „ì— ë„ì› ë˜ ë¡œê·¸ì¸ ì°½ì—ì„œ ì…ë ¥í•œ ê°’ê³¼ ì»¨íŠ¸ë¡¤ëŸ¬ ì½”ë“œì—ì„œ ë¯¸ë¦¬ ì •í•´ë‘” ì•„ì´ë””ì™€ íŒ¨ìŠ¤ì›Œë“œê°€ ì¼ì¹˜í–ˆì„ ë•Œ ì„¸ì…˜ì„ ìƒì„±í•˜ê³  dbì—ì„œ ì •ë³´ë¥¼ ê°€ì ¸ì™€ì„œ ë‹´ì•„ë‘” member ê°ì²´ì˜ í‚¤ê°’ì¸ memberInfoë¥¼ í˜¸ì¶œí–ˆì„ë•Œ íšŒì› ì •ë³´ê°€ nullì´ë¼ë©´ (ì¦‰ ì•ì˜ ê³¼ì •ì„ ì‹¤í–‰í•œ ì  ì—†ê±°ë‚˜ íšŒì›ì •ë³´ê°€ ì—†ë‹¤ë©´) ë¡œê·¸ì¸ì°½ì„ ë„ìš´ë‹¤ëŠ” ëœ»ì´ë‹¤.
- ì´ í™”ë©´ì—ì„œ ì•„ì´ë””, íŒ¨ìŠ¤ì›Œë“œë¥¼ ì…ë ¥í•˜ê³  ë¡œê·¸ì¸ ìœ ì§€ ì—¬ë¶€ë„ ì„ íƒí•˜ì—¬ ì œì¶œí•˜ë©´ /session/login_okë¡œ controllerê°€ ìš”ì²­ì„ ë°›ì•„ ì²˜ë¦¬í•˜ê²Œ ëœë‹¤.
-  th:unless="${session.memberInfo == null}" ëŠ” elseë¬¸ì— í•´ë‹¹í•˜ëŠ” ê²ƒìœ¼ë¡œ ì„¸ì…˜ì˜ memberê°ì²´ê°€ ì¡´ì¬í•œë‹¤ë©´ ë‚´ë¶€ì˜ useridë¥¼ í™”ë©´ì— ë„ì›Œì£¼ë©´ì„œ ì¸ì‚¬ë¥¼ í•˜ëŠ” ê¸°ëŠ¥ì„ ë‚˜íƒ€ë‚¸ë‹¤.
```html
<body>
    <div th:replace="~{fragments/header :: my-header}"></div>
    <h2>Login</h2>

    <form method="post" th:action="@{/session/login_ok}" th:if="${session.memberInfo == null}">
        <input type="text" name="user_id" placeholder="ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”." th:value="${rememberId}">
        <input type="password" name="user_password" placeholder="ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”.">
        <label>
            <input type="checkbox" name="remember_id" value="Y">
            ì•„ì´ë”” ì €ì¥
        </label>
        <button type="submit">ë¡œê·¸ì¸</button>
    </form>

    <div th:unless="${session.memberInfo == null}">
        <h3>ì•ˆë…•í•˜ì„¸ìš”. <span th:text="${session.memberInfo.userid}"></span>ë‹˜.</h3>
        <a th:href="@{/session/logout}">ë¡œê·¸ì•„ì›ƒ</a>
    </div>
</body>
```
- ì•„ë˜ëŠ” ë¡œê·¸ì¸ í˜ì´ì§€ì˜ ë©”ì¸í™”ë©´ì„ ë‚˜íƒ€ë‚´ëŠ” ê¸°ë³¸ ì½”ë“œì´ë‹¤.
- ë¡œê·¸ì¸ ìœ ì§€ ì—¬ë¶€ë¥¼ 
```java
@GetMapping("/session/login")
    public String home(Model model,
                        @CookieValue(value = "rememberId", required = false) String rememberIdCookie) {
        model.addAttribute("rememberId", rememberIdCookie);
        return "session/login";
    }
```
- ì•„ì´ë”” ë¹„ë²ˆ ì…ë ¥í•´ì„œ ìš”ì²­í•˜ë©´ ì•„ë˜ ì»¨íŠ¸ë¡¤ëŸ¬ë¡œ ìš”ì²­ì´ ê°„ë‹¤.
- PrintWriterëŠ” ë¦¬í„´ê°’(return)ì´ ì—†ì–´ë„ PrintWriterë¡œ ë­”ê°€ë¥¼ ì“°ëŠ” ìˆœê°„ â€œì´ë¯¸ ì‘ë‹µ ë°ì´í„°ê°€ ë§Œë“¤ì–´ì§„ ê²ƒâ€ìœ¼ë¡œ ê°„ì£¼í•˜ì—¬ í†°ìº£ì´ ê·¸ëŒ€ë¡œ ë¸Œë¼ìš°ì €ë¡œ ë³´ë‚¼ ìˆ˜ ìˆê²Œí•œë‹¤.
- ìœ„ì˜ ê¸°ëŠ¥ì€ ë¹„ë°€ë²ˆí˜¸ê°€ í‹€ë ¸ì„ë•Œ ì•Œë¦¼ì°½ì„ ë„ìš°ëŠ” ìš©ë„ë¡œ ì‚¬ìš©ë˜ì—ˆë‹¤.
- ë¡œê·¸ì¸ì´ í™•ì¸ë˜ë©´ ê·¸ì œì„œì•¼ ì„¸ì…˜ì— í•´ë‹¹ íšŒì›ì˜ ì •ë³´ë¥¼ ë„£ê³  ì„¸ì…˜ idë¥¼ ë°œê¸‰í•œë‹¤.
- POJO ê°ì²´ëŠ” Plain Old Java Objectë¡œ í‰ë²”í•œ ìë°” ê°ì²´ë¥¼ ì˜ë¯¸í•œë‹¤.
- ì•„ì´ë”” ê¸°ì–µí•˜ê¸°ë¥¼ ì²´í¬í•˜ë©´ WebHelper.getInstance().writeCookie(response, "rememberId", userId, 60 * 60 * 24 * 7);ë¥¼ í†µí•´ ì‚¬ìš©ì ì…ë ¥ê°’ì„ 7ì¼ê°„ ì¿ í‚¤ì— ì €ì¥í•œë‹¤.
```java
// ì•„ì´ë”” ë¹„ë²ˆ ì…ë ¥í•´ì„œ ìš”ì²­í•˜ë©´ ì—¬ê¸°ë¡œ ì˜¨ë‹¤.
    @PostMapping("/session/login_ok")
    public String loginOk(HttpServletRequest request, 
                            HttpServletResponse response,
                            @RequestParam("user_id") String userId, // ì‚¬ìš©ìê°€ ì…ë ¥í•œ ì•„ì´ë””
                            @RequestParam("user_password") String userPassword, // ì‚¬ìš©ìê°€ ì…ë ¥í•œ ë¹„ë°€ë²ˆí˜¸
                            @RequestParam(value = "remember_id", defaultValue = "N") String rememberId) { // ì•„ì´ë”” ê¸°ì–µ ì²´í¬ì—¬ë¶€
        
        if(!userId.equals("hyungyu") || !userPassword.equals("1234")) {
            response.setStatus(403); // ê¶Œí•œ ë•Œë¬¸ì— ê±°ì ˆì´ë¼ëŠ” ì˜ë¯¸
            response.setContentType("text/html; charset=UTF-8");

            PrintWriter out = null;
            try {
                out = response.getWriter();
            }

            catch (IOException e) {
                e.printStackTrace();
            }
            out.println("<script>");
            out.println("alert('ì•„ì´ë”” ë˜ëŠ” ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.');");
            out.println("history.back();");
            out.println("</script>");
            out.flush();
            return null;
        }

        // 2) ë¡œê·¸ì¸ í›„ íšŒì›ì˜ ì •ë³´ë¥¼ ìƒì„±í•œë‹¤.
        // ì—¬ê¸°ì„œëŠ” POJO ê°ì²´ë¡œ íšŒì› ì •ë³´ë¥¼ ìƒì„±í–ˆì§€ë§Œ,
        // ì‹¤ì œë¡œëŠ” DBì—ì„œ ì¡°íšŒí•œ ì •ë³´ë¥¼ ê°ì²´ë¡œ ë§Œë“¤ì–´ì„œ ë¦¬í„´ë°›ì„ ìˆ˜ ìˆë‹¤.
        // MyBatisë¥¼ ì‚¬ìš©í•˜ì—¬ DBì—ì„œ íšŒì› ì •ë³´ë¥¼ ì¡°íšŒí•œ ê°ì²´ë¡œ ë§Œë“¤ì–´ì„œ ë¦¬í„´ë°›ì„ ìˆ˜ ìˆë‹¤.
        Member member = new Member();
        member.setUserId(userId);
        member.setUserPw(userPassword);

        // 1) request ê°ì²´ë¡œ ì‚¬ìš©ìì˜ ì„¸ì…˜ ê°ì²´ (ì •ë³´) ì°¸ì¡°
        // --> import javax.servlet.http.HttpSession;
        HttpSession session = request.getSession();

        // 3) ì„¸ì…˜ì— ì •ë³´ ì €ì¥í•˜ê¸°
        // ì„¸ì…˜ì— ì €ì¥í•  ê°’ì€ ì–´ë–¤ íƒ€ì…ì´ë“  ê°€ëŠ¥í•˜ë‹¤. --> Boxing ì²˜ë¦¬ë§Œ í•˜ë©´ëœë‹¤.
        // ê¸°ë³¸ ë°ì´í„° íƒ€ì…ì„ ì €ì¥í•  ë•ŒëŠ” Wrapper í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì.
        session.setAttribute("memberInfo", member);

        /** 3) ì•„ì´ë”” ê¸°ì–µí•˜ê¸° ì²´í¬ */
        if (rememberId.equals("Y")) {
            // ì•„ì´ë””ëŠ” 7ì¼ê°„ ì¿ í‚¤ì— ì €ì¥í•œë‹¤.
            WebHelper.getInstance().writeCookie(response, "rememberId", userId, 60 * 60 * 24 * 7);
        }

        /** 3) ì›ë˜ì˜ í˜ì´ì§€ë¡œ ë˜ëŒì•„ê°„ë‹¤. */
        return "redirect:/session/login";
    }
```
- ì•„ë˜ëŠ” ë¡œê·¸ì•„ì›ƒ ì½”ë“œì´ë‹¤.
- ì„¸ì…˜ì˜ ì¡´ì¬ì—¬ë¶€ë¥¼ í™•ì¸í•˜ê³  í•´ë‹¹ ì„¸ì…˜idì˜ ì„¸ì…˜ê³¼ ë‚´ë¶€ ì†ì„±ì„ ëª¨ë‘ ì‚­ì œí•œë‹¤.
- ì •ë³´ëŠ” ë°ì´í„°ì— ë‚¨ì•„ìˆì§€ë§Œ ì»´í“¨í„°ëŠ” ë” ì´ìƒ í•´ë‹¹ ì‚¬ìš©ìë¥¼ ê¸°ì–µí•˜ì§€ ì•ŠëŠ”ë‹¤.
```java
@GetMapping("/session/logout")
        public String logout(
                HttpServletResponse response,
                HttpServletRequest request) {
            
            /** 1) ì„¸ì…˜ì˜ ì¡´ì¬ ì—¬ë¶€ í™•ì¸ */
            HttpSession session = request.getSession();
            Member member = (Member) session.getAttribute("memberInfo");
            
            if (member == null) {
                response.setStatus(403);
                response.setContentType("text/html; charset=UTF-8");
                
                PrintWriter out = null;
                try {
                    out = response.getWriter();
                } catch (IOException e) {
                    e.printStackTrace();
                }
                out.println("<script>");
                out.println("alert('ë¡œê·¸ì¸ í›„ì— ì ‘ê·¼ ê°€ëŠ¥í•©ë‹ˆë‹¤.');");
                out.println("history.back();");
                out.println("</script>");
                out.flush();
                return null;
            }
            
            /** 2) ì„¸ì…˜ ê°’ ì‚­ì œí•˜ê¸° */
            // 1) íŠ¹ì • ê°’ ì‚­ì œí•˜ê¸°
            // session.removeAttribute("memberInfo");
            // 2) ëª¨ë“  ì„¸ì…˜ê³¼ ê·¸ ì•ˆì˜ ì†ì„± ëª¨ë‘ ì‚­ì œ
            session.invalidate();
            
            /** 3) ì›ë˜ì˜ í˜ì´ì§€ë¡œ ë˜ëŒì•„ê°„ë‹¤. */
            return "redirect:/session/login";
        }
```
- ì—ëŸ¬: Caused by: org.springframework.expression.spel.SpelEvaluationException: EL1008E: Property or field 'userid' cannot be found on object of type 'kr.hyungyu.cookiesession.Member' - maybe not public or not valid?
- <h3>ì•ˆë…•í•˜ì„¸ìš”. <span th:text="${session.memberInfo.userId}"></span>ë‹˜. ì—ì„œ useridë¡œ ì˜¤íƒ€ë¥¼ ì³¤ì—ˆìŒ.