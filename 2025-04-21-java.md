# ğŸ“Œ 0. ëŒ€í™” 
### ğŸ“Œ ğŸ“Œ 0-1. ì ‘ì† urlì— ê´€í•˜ì—¬
- "jdbc:log4jdbc:mariadb://%s:%d/%s?characterEncoding=utf8&serverTimezone=UTC";
- jdbc: JavaÂ SEê°€ ê·œì •í•œ í‘œì¤€ ì ‘ì† ìŠ¤í‚´. DriverManagerê°€ ì´ ì ‘ë‘ì‚¬ë¥¼ ë³´ê³  JDBCÂ ë“œë¼ì´ë²„ë¥¼ ê²€ìƒ‰í•œë‹¤.â€‹
- ìŠ¤í‚´(scheme)Â ì€Â URL(ì •ì‹ ëª…ì¹­Â URI)ì—ì„œ :Â ì•ì— ì˜¤ëŠ” â€œì´ ì£¼ì†Œë¥¼ ë¬´ìŠ¨ ê·œì¹™ìœ¼ë¡œ í•´ì„í•´ì•¼ í•˜ëŠ”ì§€â€ë¥¼ ì•Œë ¤ ì£¼ëŠ” ì‹ë³„ ê¼¬ë¦¬í‘œì´ë‹¤. -> ì¦‰ ë¶„ë¥˜í‘œì´ë‹¤.
- log4jdbc: net.sf.log4jdbc.DriverSpy- ê°€ â€œì§„ì§œâ€ ë“œë¼ì´ë²„ ì•ì— ë¼ì–´ë“¤ì–´ ëª¨ë“  JDBCÂ í˜¸ì¶œê³¼ SQLì„ ë¡œê·¸ë¡œ ë‚´ë³´ë‚¸ë‹¤.
- mariadb:// log4jdbcê°€ ë‚´ë¶€ì ìœ¼ë¡œ MariaDBÂ Connector/J(exÂ :Â org.mariadb.jdbc.Driver)ë¥¼ ì°¾ì•„ í˜¸ì¶œí•œë‹¤.
- %s:%d/ â†’ í˜¸ìŠ¤íŠ¸Â·í¬íŠ¸Â·ê²½ë¡œ
- characterEncoding=utf8:í´ë¼ì´ì–¸íŠ¸ â†”Â ì„œë²„ ê°„ ë¬¸ì ì¸ì½”ë”©ì„ UTFâ€‘8ë¡œ ê°•ì œ.
- serverTimezone=UTC: JDBCÂ ë“œë¼ì´ë²„ê°€ TIMESTAMP/DATE ê°’ì„ í´ë¼ì´ì–¸íŠ¸ ì‹œê°„ëŒ€ë¡œ ë³´ì •í•  ë•Œ ê¸°ì¤€ì´ ë˜ëŠ” ì„œë²„Â TZë¥¼ UTCë¡œ ì§€ì •.
- TZ: time zone -> í˜„ì§€ì‹œë¥¼ êµ¬ë³„í•˜ëŠ” ê¸°ì¤€
- UTC: 0Â°Â ê²½ë„(ì˜êµ­Â ê·¸ë¦¬ë‹ˆì¹˜) ê¸°ì¤€ ì„¸ê³„Â í˜‘ì •ì‹œ. DATETIMEÂ ê³„ì‚°í• ë•Œ ê¸°ì¤€ì´ ë¨.

# 1. ì‚½ì…, ìˆ˜ì •, ì‚­ì œ
### ğŸ“Œ 1-1. insert í•˜ëŠ” ë²•
- auto_increment ì—´ì€ insertë¬¸ì—ì„œ ì•„ì˜ˆ ì–¸ê¸‰í•˜ì§€ ì•ŠëŠ”ë‹¤.
- rs ìƒì„±ì§í›„ ì»¤ì„œëŠ” 'ì²« í–‰ ì•'ì— ìˆë‹¤. í•˜ì—¬ nextë¡œ í•œì¹¸ì´ë™í–ˆì„ë•Œ ë¹„ë¡œì†Œ ì²«ë²ˆì§¸ í–‰ì— ìœ„ì¹˜í•˜ëŠ” ê²ƒì´ë‹¤.
- rs.getInt(1): í˜„ì¬ í–‰ì˜ ì²«ë²ˆì§¸ ì»¬ëŸ¼ê°’ ë„ì¶œ
- getGeneratedKeys(): ìƒˆë¡œ ìƒê¸´ ìë™ ìƒì„± í‚¤ë“¤ì„ ëª¨ì•„ì„œ ë°˜í™˜â€
- â€œí‚¤(key)â€ëŠ” ì—´(column) ìì²´ë¥¼ ê°€ë¦¬í‚¤ëŠ” ë§ì´ ì•„ë‹ˆê³ , ê·¸ ì—´ì— ì €ì¥ëœ ê°’(value) ì„ ì˜ë¯¸í•¨. 
- getGeneratedKeys()ê°€ ëŒë ¤ì£¼ëŠ” ê²ƒì€ ì´ PK ì—´ì˜ ê°’ë“¤ë§Œ ëª¨ì•„ë‘” ResultSetì´ì§€, ì»¬ëŸ¼ ì´ë¦„ì´ë‚˜ ìŠ¤í‚¤ë§ˆ ì •ë³´ë¥¼ ë‹´ê³  ìˆì§€ëŠ” ì•ŠìŒ.
- conn.prepareStatement(sql, PreparedStatement.RETURN_GENERATED_KEYS)ì—ì„œ ì›ë˜ ë‘ë²ˆì§¸ ì¸ìë¡œ íŠ¹ì • ì—´ì„ ë„£ìœ¼ë©´ ê·¸ ì—´ì˜ ì •ë³´ë§Œ ë°›ì•„ë³¼ ìˆ˜ ìˆë‹¤.
- RETURN_GENERATED_KEYSëŠ” ë‚´ë¶€ì ìœ¼ë¡œ Statement ê°ì²´ì— autoGeneratedKeys = true í”Œë˜ê·¸ê°€ ì„¤ì •ë˜ë„ë¡ í•˜ë©° DBì— ìë™ ìƒì„± í‚¤ ê²°ê³¼ë„ ë‹¬ë¼ê³  ìš”ì²­í•˜ë„ë¡ ì„¸íŒ…ë¨. (ì›ë˜ëŠ” ë”°ë¡œ ê°’ë“¤ì˜ ê²°ê³¼ë¥¼ ë‹´ê³  ìˆì§€ ì•ŠìŒ.)
-  ë“œë¼ì´ë²„ëŠ” INSERT ê²°ê³¼ì™€ í•¨ê»˜ ì˜¨ â€œìƒì„±ëœ í‚¤ ê°’ë“¤â€ì„ ë‚´ë¶€ ë²„í¼(ì˜ˆ: generatedKeysResultSet)ì— ë³´ê´€í•©ë‹ˆë‹¤.
```java
@Slf4j
public class App05 {
    public static void main(String[] args) {

        // 1) ë°ì´í„°ë² ì´ìŠ¤ì— ì ‘ì†í•˜ê¸° ìœ„í•œ ì •ë³´ë¥¼ ë³€ìˆ˜ë¡œ êµ¬ì„±
        String host = "127.0.0.1";
        int port = 9090;
        String username = "root";
        String password = "1234";
        String database = "myschool";

        // 2) ë°ì´í„°ë² ì´ìŠ¤ì— ì ‘ì† ì¤€ë¹„
        Connection conn = null; // DBì ‘ì† ê°ì²´
        PreparedStatement pstmt = null; // Sqlë¬¸ì„ mariadbì— ì „ë‹¬í•˜ëŠ” ê°ì²´
        int result;
        ResultSet rs;
        int newPk;
        
        // ì ‘ì† ì£¼ì†Œ êµ¬ì„±
        String urlFormat = "jdbc:log4jdbc:mariadb://%s:%d/%s?characterEncoding=utf8&serverTimezone=UTC";
        String url = String.format(urlFormat, host, port, database);
        log.debug("ì ‘ì†ì£¼ì†Œ: "+ url); 

        // mariadb JDBC ë“œë¼ì´ë²„ ë¡œë“œ (í´ë˜ìŠ¤ë¥¼ ë“±ë¡)
        try {
            Class.forName("org.mariadb.jdbc.Driver");

        // DB ì ‘ì†
        conn = DriverManager.getConnection(url, username, password);

        } catch (ClassNotFoundException e) {
            log.error("Mariadb jdbc ë“œë¼ì´ë²„ ë¡œë“œ ì‹¤íŒ¨", e);
        } catch (SQLException e) {
            log.error("mariadb ì ‘ì† ì‹¤íŒ¨", e);
        }


        // 3. ìˆ˜í–‰í•  sqlë¬¸ì„ ë¬¸ìë¡œ ì¤€ë¹„
        String dname = "ì‹ ê·œí•™ê³¼";
        String loc = "ìœ„ì¹˜";
        String phone = "010-1234-1234";
        String email = "hello@gmail.com";
        int ESTABLISHED = 2025;

        String sql = "INSERT INTO departments (dname, loc, phone, EMAIL, ESTABLISHED) VALUES (?, ?, ?, ?, ?);";


        // 4. mysqlì—ê²Œ sqlë¬¸ì„ ì „ë‹¬í•˜ê³  ê²°ê³¼ë¥¼ ë°˜í™˜ë°›ê¸°
        try {
            pstmt = conn.prepareStatement(sql, PreparedStatement.RETURN_GENERATED_KEYS); // ìƒˆë¡œ ì €ì¥ë  pkê°’ì´ í•„ìš”í•˜ë‹¤ëŠ” ì˜ì‚¬ ì „ë‹¬
            pstmt.setString(1, dname);
            pstmt.setString(2, loc); 
            pstmt.setString(3, phone); 
            pstmt.setString(4, email); 
            pstmt.setInt(5, ESTABLISHED); 

        } catch (SQLException e) {
            log.error("connectionì´ ì •ìƒì ìœ¼ë¡œ ì´ë£¨ì–´ì§€ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.", e);
        }

        // 5. ì €ì¥ëœ ë°ì´í„°ì˜ ìˆ˜
        try {
            result = pstmt.executeUpdate();
            rs = pstmt.getGeneratedKeys(); // ìƒˆë¡œ ìƒê¸´ ìë™ ìƒì„± í‚¤ë“¤ì„ ëª¨ì•„ì„œ ë°˜í™˜â€
            rs.next(); // ë‹¤ìŒ ê°’ì´ ìˆìœ¼ë©´ ë‹¤ìŒê°’ìœ¼ë¡œ ë„˜ê¹€
            newPk = rs.getInt(1); 

        } catch (SQLException e) {
            log.error("ëŒ€ê¸° ìƒíƒœì˜ sqlë¬¸ì´ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.", e);
        }

        // 6. ë°ì´í„° ë² ì´ìŠ¤ ì ‘ì† í•´ì œ
        try {
            conn.close();
        } catch (SQLException e) {
        log.error("db ì ‘ì† í•´ì œ ì‹¤íŒ¨");
        }
}
}
```

### ğŸ“Œ 1-2. update í•˜ëŠ” ë²•
- update sql ìˆ˜ì •í•˜ê³  executeUpdateì‹¤í–‰í•˜ë©´ ë¨.
```java
@Slf4j
public class App06 {
    public static void main(String[] args) {

        // 1) ë°ì´í„°ë² ì´ìŠ¤ì— ì ‘ì†í•˜ê¸° ìœ„í•œ ì •ë³´ë¥¼ ë³€ìˆ˜ë¡œ êµ¬ì„±
        String host = "127.0.0.1";
        int port = 9090;
        String username = "root";
        String password = "1234";
        String database = "myschool";

        // 2) ë°ì´í„°ë² ì´ìŠ¤ì— ì ‘ì† ì¤€ë¹„
        Connection conn = null; // DBì ‘ì† ê°ì²´
        PreparedStatement pstmt = null; // Sqlë¬¸ì„ mariadbì— ì „ë‹¬í•˜ëŠ” ê°ì²´
        int result;
        
        // ì ‘ì† ì£¼ì†Œ êµ¬ì„±
        String urlFormat = "jdbc:log4jdbc:mariadb://%s:%d/%s?characterEncoding=utf8&serverTimezone=UTC";
        String url = String.format(urlFormat, host, port, database);
        log.debug("ì ‘ì†ì£¼ì†Œ: "+ url); 

        // mariadb JDBC ë“œë¼ì´ë²„ ë¡œë“œ (í´ë˜ìŠ¤ë¥¼ ë“±ë¡)
        try {
            Class.forName("org.mariadb.jdbc.Driver");

        // DB ì ‘ì†
        conn = DriverManager.getConnection(url, username, password);

        } catch (ClassNotFoundException e) {
            log.error("Mariadb jdbc ë“œë¼ì´ë²„ ë¡œë“œ ì‹¤íŒ¨", e);
        } catch (SQLException e) {
            log.error("mariadb ì ‘ì† ì‹¤íŒ¨", e);
        }


        // 3. ìˆ˜í–‰í•  sqlë¬¸ì„ ë¬¸ìë¡œ ì¤€ë¹„
        int id = 501;
        String dname = "ìˆ˜ì •ëœ í•™ê³¼";
        String loc = "ìƒˆë¡œìš´ìœ„ì¹˜";
        String phone = "010-1234-1234";
        String email = "email@naver.com";
        int ESTABLISHED = 2025;
        String hompage = "https://www.mega.com";

        String sql = "update departments set dname = ?, loc = ?, phone = ?, email = ?, ESTABLISHED = ?, homepage = ? "; // ì•„ë˜ë¡œ ë‚´ë¦´ë•Œ ë§ˆì§€ë§‰ì— ë„ì–´ì“°ê¸° í•˜ë‚˜í•´ë‘ê¸°
        sql += "where id = ?";

        // 4. mysqlì—ê²Œ sqlë¬¸ì„ ì „ë‹¬í•˜ê³  ê²°ê³¼ë¥¼ ë°˜í™˜ë°›ê¸°
        try {
            pstmt = conn.prepareStatement(sql); 
            pstmt.setString(1, dname);
            pstmt.setString(2, loc); 
            pstmt.setString(3, phone); 
            pstmt.setString(4, email); 
            pstmt.setInt(5, ESTABLISHED);
            pstmt.setString(6, hompage); 
            pstmt.setInt(7, id);

        } catch (SQLException e) {
            log.error("connectionì´ ì •ìƒì ìœ¼ë¡œ ì´ë£¨ì–´ì§€ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.", e);
        }

        // 5. ì €ì¥ëœ ë°ì´í„°ì˜ ìˆ˜
        try {
            result = pstmt.executeUpdate();
            log.debug("ìˆ˜ì •ëœ ë°ì´í„° ìˆ˜: " + result); 

        } catch (SQLException e) {
            log.error("ëŒ€ê¸° ìƒíƒœì˜ sqlë¬¸ì´ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.", e);
        }

        

        // 6. ë°ì´í„° ë² ì´ìŠ¤ ì ‘ì† í•´ì œ
        try {
            conn.close();
        } catch (SQLException e) {
        log.error("db ì ‘ì† í•´ì œ ì‹¤íŒ¨");
        }
}
}
```

### ğŸ“Œ 1-3. delete í•˜ëŠ” ë²•
- sqlë¬¸ë§Œ deleteë¡œ ìˆ˜ì •
```java
@Slf4j
public class App07 {
    public static void main(String[] args) {

        // 1) ë°ì´í„°ë² ì´ìŠ¤ì— ì ‘ì†í•˜ê¸° ìœ„í•œ ì •ë³´ë¥¼ ë³€ìˆ˜ë¡œ êµ¬ì„±
        String host = "127.0.0.1";
        int port = 9090;
        String username = "root";
        String password = "1234";
        String database = "myschool";

        // 2) ë°ì´í„°ë² ì´ìŠ¤ì— ì ‘ì† ì¤€ë¹„
        Connection conn = null; // DBì ‘ì† ê°ì²´
        PreparedStatement pstmt = null; // Sqlë¬¸ì„ mariadbì— ì „ë‹¬í•˜ëŠ” ê°ì²´
        int result;
        
        // ì ‘ì† ì£¼ì†Œ êµ¬ì„±
        String urlFormat = "jdbc:log4jdbc:mariadb://%s:%d/%s?characterEncoding=utf8&serverTimezone=UTC";
        String url = String.format(urlFormat, host, port, database);
        log.debug("ì ‘ì†ì£¼ì†Œ: "+ url); 

        // mariadb JDBC ë“œë¼ì´ë²„ ë¡œë“œ (í´ë˜ìŠ¤ë¥¼ ë“±ë¡)
        try {
            Class.forName("org.mariadb.jdbc.Driver");

        // DB ì ‘ì†
        conn = DriverManager.getConnection(url, username, password);

        } catch (ClassNotFoundException e) {
            log.error("Mariadb jdbc ë“œë¼ì´ë²„ ë¡œë“œ ì‹¤íŒ¨", e);
        } catch (SQLException e) {
            log.error("mariadb ì ‘ì† ì‹¤íŒ¨", e);
        }


        // 3. ìˆ˜í–‰í•  sqlë¬¸ì„ ë¬¸ìë¡œ ì¤€ë¹„
        int student_id = 10175;
        int subject_id = 1044;
        

        String sql = "delete from enrollments where student_id = ? and subject_id = ?";

        // 4. mysqlì—ê²Œ sqlë¬¸ì„ ì „ë‹¬í•˜ê³  ê²°ê³¼ë¥¼ ë°˜í™˜ë°›ê¸°
        try {
            pstmt = conn.prepareStatement(sql); // ìƒˆë¡œ ì €ì¥ë  pkê°’ì´ í•„ìš”í•˜ë‹¤ëŠ” ì˜ì‚¬ ì „ë‹¬
            pstmt.setInt(1, student_id);
            pstmt.setInt(2, subject_id);

        } catch (SQLException e) {
            log.error("connectionì´ ì •ìƒì ìœ¼ë¡œ ì´ë£¨ì–´ì§€ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.", e);
        }

        // 5. ì €ì¥ëœ ë°ì´í„°ì˜ ìˆ˜
        try {
            result = pstmt.executeUpdate();
            log.debug("ì‚­ì œëœ ë°ì´í„° ìˆ˜: " + result); 

        } catch (SQLException e) {
            log.error("ëŒ€ê¸° ìƒíƒœì˜ sqlë¬¸ì´ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.", e);
        }

        

        // 6. ë°ì´í„° ë² ì´ìŠ¤ ì ‘ì† í•´ì œ
        try {
            conn.close();
        } catch (SQLException e) {
        log.error("db ì ‘ì† í•´ì œ ì‹¤íŒ¨");
        }
}
}
```

# ğŸ“Œ 2. Mybatis í™œìš©
- Mapper(ë§¤í¼) ë€, MyBatisì—ì„œ Java ë©”ì„œë“œì™€ SQL ì¿¼ë¦¬ë¥¼ ì—°ê²°í•˜ëŠ” ì—­í• ì„ í•˜ëŠ” ì¤‘ìš”í•œ ê°œë…ìœ¼ë¡œ SQL ì¿¼ë¦¬ì™€ ìë°” ë©”ì„œë“œë¥¼ ì„œë¡œ ì—°ê²°ì‹œì¼œ ì£¼ëŠ” ì¤‘ê°„ ë§¤ê°œì²´ì´ë‹¤.
- ë‚˜ì¤‘ì— ì•„ë˜ factoryì—ì„œ ë§Œë“  ì„¸ì…˜ ê°ì²´ë¥¼ ì„œë¹„ìŠ¤í•  í´ë˜ìŠ¤ì—ì„œ ì—´ê³  mapperë¥¼ ì”ëœ© ì‚¬ìš©í•œ ë’¤ì— ë‹«ëŠ” êµ¬ì¡°ì´ë‹¤. ì´ˆë°˜ì— ê°ì²´ë¥¼ ê°€ì ¸ì™€ì„œ ì—°ê²°ì„ í•´ì£¼ëŠ” ê³¼ì •ì´ í•„ìš”í•˜ë‹¤.
- Mybatisì—ì„œëŠ” ì„¸ì…˜ì—ì„œ getmapperì— mapperë¥¼ í´ë˜ìŠ¤ëª…ìœ¼ë¡œ íŒŒë¼ë¯¸í„°ì— ë„£ì–´ì£¼ë©´ êµ¬í˜„ì²´ì˜ ê°ì²´ë¥¼ ìë™ ìƒì„±í•´ì¤€ë‹¤.

### ğŸ“Œ# íŠ¸ëœì­ì…˜(Transaction):
- í•˜ë‚˜ì˜ ì‘ì—… ë‹¨ìœ„(ì²˜ë¦¬ê³¼ì •)ë¥¼ ì˜ë¯¸í•˜ë©°, ëª¨ë“  ì‘ì—…ì´ --ì„±ê³µí•´ì•¼ë§Œ ìµœì¢… ì ìš©(commit)--ë˜ê³ , í•˜ë‚˜ë¼ë„ ì‹¤íŒ¨í•˜ë©´ ì „ë¶€ ì·¨ì†Œ(rollback) ë˜ì–´ì•¼ í•˜ëŠ” ì›ìì  ë‹¨ìœ„(ìª¼ê°œì§€ì§€ ì•ŠëŠ”ë‹¤. ë‹¤ë˜ê±°ë‚˜ í˜¹ì€ ë‹¤ ì•ˆë˜ê±°ë‚˜)ì´ë‹¤.
- íŠ¸ëœì­ì…˜ì˜ ì‹œì‘ì€ session = getSqlSession() í•˜ëŠ” ìˆœê°„ì´ê³ , ì»¤ë°‹/ë¡¤ë°±ì€ ê°œë°œìê°€ ì§ì ‘ commit() ë˜ëŠ” rollback()ì„ í˜¸ì¶œí•´ì•¼ ë¹„ë¡œì†Œ dbì— í•´ë‹¹ ë°˜ì˜ì„ í•´ì¤€ë‹¤.

### ğŸ“Œ 2-1. MyBatisConnectionFactory
- ì„¸ì…˜(SqlSession )ì€ ì ‘ì†ë‹¨ìœ„ í•˜ë‚˜ë¥¼ ì˜ë¯¸í•œë‹¤.
- ë³´í†µ ìš”ì²­ 1ê±´ë§ˆë‹¤ ì„¸ì…˜ 1ê°œë¥¼ ë§Œë“¤ì–´ì„œ ì²˜ë¦¬í•˜ê³ , ì‘ì—…ì´ ëë‚˜ë©´ ë‹«ëŠ” ê²Œ ì¼ë°˜ì ì¸ ë°©ì‹ì´ë‹¤.
- ì´ factoryí´ë˜ìŠ¤ë¥¼ ë§Œë“¤ê³  ì—¬ê¸°ì„œ ì‹±ê¸€í„´ìœ¼ë¡œ ë¯¸ë¦¬ ì…ë ¥í•´ë‘” ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ì†ŒìŠ¤ë¥¼ ê°€ì§€ê³  ê°ì²´ë¥¼ ìƒì„±í•´ë‘”ë‹¤. (í´ë˜ìŠ¤ ì´ˆê¸°í™” ë¸”ëŸ­ì„ í†µí•´)
- ì´í›„ mybatis-.getSqlSession() ì´ëŸ°ì‹ìœ¼ë¡œ ì•„ë˜ì˜ static ë§¤ì„œë“œë¥¼ í˜¸ì¶œí•˜ë©´ ë§Œë“¤ì–´ë‘” ì‹±ê¸€í„´ ê°ì²´ë¥¼ ì´ìš©í•˜ì—¬ ì„¸ì…˜ì„ ê°œë°©í•œë‹¤.
- sqlSessionFactory = new SqlSessionFactoryBuilder().build(reader);
ì´ í•œ ì¤„ ì•ˆì— í‰ì†Œì— ì‘ì„±í•˜ë˜ JDBC ë“œë¼ì´ë²„ ë¡œë”© + ì ‘ì† URL êµ¬ì„± + DB ì»¤ë„¥ì…˜ ìƒì„± ê³¼ì •ì´
ì „ë¶€ config.xmlì— ê¸°ë°˜í•´ì„œ ìë™ìœ¼ë¡œ ì‹¤í–‰ë˜ê³  ìˆëŠ” ê²ƒì´ë‹¤.
```java
public class MyBatisConnectionFactory {
    /-- ë°ì´í„°ë² ì´ìŠ¤ ì ‘ì† ê°ì²´ -/
    // ì‹±ê¸€í„´ ê°ì²´
    private static SqlSessionFactory  sqlSessionFactory;

    /-- XMLì— ëª…ì‹œëœ ì ‘ì† ì •ë³´ë¥¼ ì½ì–´ë“¤ì¸ë‹¤. -/
    // -> resourcesì— xmlíŒŒì¼ë¡œ ì„¤ì •ëœ ì ‘ì†ì •ë³´ë¥¼ ì½ì–´ë“¤ì„.
    // í´ë˜ìŠ¤ ì´ˆê¸°í™” ë¸”ëŸ­ (staticë¸”ëŸ­) : í´ë˜ìŠ¤ ë³€ìˆ˜ì˜ ë³µì¡í•œ ì´ˆê¸°í™”ì— ì‚¬ìš©ë˜ë©° í´ë˜ìŠ¤ê°€ ì²˜ìŒ ë¡œë”©ë  ë•Œ í•œë²ˆë§Œ ìˆ˜í–‰ëœë‹¤.
    static {
        // ì ‘ì† ì •ë³´ë¥¼ ëª…ì‹œí•˜ê³  ìˆëŠ” XMLì˜ ê²½ë¡œ ì½ê¸°
        // --> import java.io.Reader;
        // --> import org.apache.ibatis.io.Resources;
        try {
            Reader reader = Resources.getResourceAsReader("config.xml");

            // sqlSessionFactoryê°€ ì¡´ì¬í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´ ìƒì„±í•œë‹¤. (readerì—ì„œ ì½ì€ ê±¸ íŒŒë¼ë¯¸í„°ë¡œ ë„£ì–´ì„œ ê°ì²´ìƒì„± - ë¹Œë”íŒ¨í„´)
            if (sqlSessionFactory == null) {
                sqlSessionFactory = new SqlSessionFactoryBuilder().build(reader);
            }
        } catch (IOException e) {
            e.printStackTrace();
        }
    }

    /-- ë°ì´í„°ë² ì´ìŠ¤ ì ‘ì† ê°ì²´ë¥¼ í†µí•´ DATABASEì— ì ‘ì†í•œ ì„¸ì…˜ë¥¼ ë¦¬í„´í•œë‹¤. -/
    // --> import org.apache.ibatis.session.SqlSession;
    public static SqlSession getSqlSession() {
        return sqlSessionFactory.openSession();
    }
}
```

### ğŸ“Œ 2-2. Mapper
- ë¶€ì„œ í…Œì´ë¸”(departments)ì— ëŒ€í•œ CRUDê¸°ëŠ¥ì„ ì •ì˜í•˜ëŠ” ì¸í„°í˜ì´ìŠ¤
- 1. Create(ìƒì„±)  ---> INSERTë¬¸   ---> ì‚½ì… ê¸°ëŠ¥ êµ¬í˜„
- 2. Read(ì¡°íšŒ)     ---> SELECTë¬¸   ---> ì¡°íšŒ ê¸°ëŠ¥ êµ¬í˜„
- 3. Update(ìˆ˜ì •)   ---> UPDATEë¬¸   ---> ê°±ì‹  ê¸°ëŠ¥ êµ¬í˜„
- 4. Delete(ì‚­ì œ)   ---> DELETEë¬¸   ---> ì‚­ì œ ê¸°ëŠ¥ êµ¬í˜„
- MyBatisì—ì„œëŠ” Mapper ì¸í„°í˜ì´ìŠ¤ì˜ ë©”ì„œë“œì™€ Beansë¥¼ ë§¤í•‘í•˜ì—¬ ì‹¤í–‰
- (= ì–´ë–¤ ë©”ì„œë“œê°€ ì–´ë–¤ SQLì„ ì‹¤í–‰í• ì§€ ì—°ê²°í•´ì¤€ë‹¤)
- (= SQLì˜ ê²°ê³¼ë¥¼ ì–´ë–¤ ìë°” ê°ì²´ë¡œ ë³€í™˜í• ì§€ ì„¤ì •í•œë‹¤)
- INSERT, UPDATE, DELETEì˜ ê²½ìš° --> ë°˜í™˜íƒ€ì…ì€ int --> ì²˜ë¦¬ëœ ë°ì´í„°ì˜ ê±´ìˆ˜ë¥¼ ì˜ë¯¸í•œë‹¤.
- SELECT - 1ê±´ ì¡°íšŒ : Beans í´ë˜ìŠ¤ ê°ì²´ ë¦¬í„´
- SELECT - ë‹¤ê±´ ì¡°íšŒ : List<Beans í´ë˜ìŠ¤> ë¦¬í„´
- ì£¼ì˜ : ë©”ì„œë“œëŠ” ììœ ë¡­ê²Œ ì‘ì„± ê°€ëŠ¥
- MyBatisì—ì„œ SQLì— #{dname}ì²˜ëŸ¼ ì‘ì„±í•˜ë©´, ì „ë‹¬ëœ ê°ì²´ì—ì„œ getDname() ë©”ì„œë“œë¥¼ ìë™ìœ¼ë¡œ í˜¸ì¶œí•´ì„œ ê·¸ ê°’ì„ SQLì— ë°”ì¸ë”©í•œë‹¤. ì¦‰, íŒŒë¼ë¯¸í„° ì´ë¦„ì„ ê¸°ë°˜ìœ¼ë¡œ í•´ë‹¹ í•„ë“œì˜ getter ë©”ì„œë“œë¥¼ ì°¾ì•„ ì‚¬ìš©í•˜ëŠ” ë°©ì‹ì´ë‹¤.
- í•œí–‰ ì¡°íšŒ, ì‚­ì œ, ìˆ˜ì •ì€ ë³´í†µ primary keyë¥¼ whereì ˆ ì¡°ê±´ì—ì„œ ì–¸ê¸‰í•˜ì—¬ ì‚¬ìš©í•œë‹¤.
```java
@Mapper
public interface DepartmentMapper {
    /**
      * ë¶€ì„œ ì •ë³´ë¥¼ ì €ì¥í•œë‹¤.
      * 
      * --> INSERT ì‹¤í–‰ + PKì— ëŒ€í•œ ê°’ ì¶”ì¶œ
      * --> useGeneratedKeys : AUTO_INCREMENTê°€ ì ìš©ëœ ì»¬ëŸ¼ì´ë©´ ê³µìœ  ì‚¬ìš©
      * --> keyProperty : ë¦¬í„´ë°›ì„ ê²°ê³¼ê°’ì„ MODEL ê°ì²´ì—ì„œ PKì— ëŒ€ì‘ë˜ëŠ” 'ë©¤ë²„ë³€ìˆ˜'
      * --> keyColumn : í…Œì´ë¸”ì˜ Primary Key 'ì»¬ëŸ¼ëª…'
      * 
      * @param input - ì €ì¥í•  ë°ì´í„°ì— ëŒ€í•œ ì •ë³´ë¥¼ ë‹´ê³  ìˆëŠ” ê°ì²´
      * @return ì €ì¥ëœ ë°ì´í„°ì˜ ê±´ìˆ˜
      */
    @Insert("INSERT INTO departments (dname, loc, phone, email, established, homepage) VALUES (#{dname}, #{loc}, #{phone}, #{email}, #{established}, #{homepage})")
    @Options(useGeneratedKeys = true, keyProperty = "id", keyColumn = "id") // ìë™ ìƒì„±í‚¤(id)ì˜ ì •ë³´ë¥¼ ê°€ì§€ê³  ìˆìŒ.
    public int insert(Department input);

    /**
      * ë¶€ì„œ ì •ë³´ë¥¼ ìˆ˜ì •í•œë‹¤.
      * 
      * @param input - ìˆ˜ì •í•  ë°ì´í„°ì— ëŒ€í•œ ì •ë³´ë¥¼ ë‹´ê³  ìˆëŠ” ê°ì²´
      * @return ìˆ˜ì •ëœ ë°ì´í„°ì˜ ê±´ìˆ˜
      */
    @Update("UPDATE departments SET " +
            "dname=#{dname}, loc=#{loc}, phone=#{phone}, email=#{email}, established=#{established}, homepage=#{homepage} " +
            "WHERE id=#{id}")
    public int update(Department input);

    /**
      * ë¶€ì„œ ì •ë³´ë¥¼ ì‚­ì œí•œë‹¤.
      * 
      * @param input - ì‚­ì œí•  ëŒ€ìƒì˜ ì •ë³´ë¥¼ ë‹´ê³  ìˆëŠ” ê°ì²´
      * @return ì‚­ì œëœ ë°ì´í„°ì˜ ê±´ìˆ˜
      */
    @Delete("DELETE FROM departments WHERE id=#{id}")
    public int delete(Department input);

    /**
      * ë¶€ì„œ ì •ë³´ ìƒì„¸ ì¡°íšŒ (1ê±´)
      * 
      * @param input - ì¡°íšŒí•  ëŒ€ìƒì˜ ì •ë³´ë¥¼ ë‹´ê³  ìˆëŠ” ê°ì²´
      * @return ì¡°íšŒëœ ë°ì´í„°
      */
    @Select("SELECT id, dname, loc, phone, email, established, homepage FROM departments WHERE id=#{id}")
    public Department selectOne(Department input);

    /**
      * ë¶€ì„œ ì •ë³´ ëª©ë¡ ì¡°íšŒ (ë‹¤ê±´)
      * 
      * @param input - ì¡°íšŒ ì¡°ê±´ì„ ë‹´ê³  ìˆëŠ” ê°ì²´
      * @return ì¡°íšŒëœ ë°ì´í„° ëª©ë¡
      */
    @Select("SELECT id, dname, loc, phone, email, established, homepage FROM departments")
    public List<Department> selectList(Department input);
}
```

### ğŸ“Œ 2-3. "config.xml" (ë°ì´í„°ë² ì´ìŠ¤ ì ‘ê·¼ì„ ìœ„í•´ ë¯¸ë¦¬ ë§Œë“¤ì–´ë‘ëŠ” íŒŒì¼)
```xml
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE configuration PUBLIC "-//mybatis.org//DTD Config 3.0//EN" "http://mybatis.org/dtd/mybatis-3-config.dtd">

<configuration>
    <!-- MySQL ì ‘ì† ì •ë³´ë¥¼ ì§€ì •í•œë‹¤. -->
    <properties>
        <property name="hostname" value="127.0.0.1" />
        <property name="portnumber" value="9090" />
        <property name="database" value="myschool" />
        <property name="username" value="root" />
        <property name="password" value="1234" />
    </properties>

    <environments default="development">
        <environment id="development">
            <transactionManager type="JDBC" />
            <dataSource type="POOLED">
                <property name="driver" value="org.mariadb.jdbc.Driver" />
                <property name="url" value="jdbc:log4jdbc:mariadb://${hostname}:${portnumber}/${database}?characterEncoding=UTF8&amp;serverTimezone=UTC" />
                <property name="username" value="${username}" />
                <property name="password" value="${password}" />
            </dataSource>
        </environment>
    </environments>

    <!-- ì‹¤í–‰í•  SQLë¬¸ì„ ì •ì˜í•œ Mapper XMLì˜ ê²½ë¡œë¥¼ ì§€ì •í•œë‹¤. -->
    <mappers>
        <!-- XML Mapper -->
        <!-- <mapper resource="mappers/DepartmentMapper.xml" /> -->
        <!-- Interface Mapper (Java ì†ŒìŠ¤íŒŒì¼ì˜ ìœ„ì¹˜ ì§€ì •) -->
        <!-- <mapper class="kr.hyungyu.mappers.DepartmentMapper" /> -->
        <!-- Package Mapper (íŠ¹ì • íŒ¨í‚¤ì§€ ë‚´ì˜ ëª¨ë“  ì†ŒìŠ¤ì½”ë“œ ìë™ ì¸ì‹ )-->
        <package name="kr.hyungyu.mappers"/>
    </mappers>
</configuration>
```

### ğŸ“Œ 2-4. Mapper í™œìš©í•œ insert ë¬¸
- 1. getMapper(...) í˜¸ì¶œ
- 2. MyBatisê°€ DepartmentMapper ì¸í„°í˜ì´ìŠ¤ë¥¼ ë¶„ì„
- 3. ì´ ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ëŠ” ìµëª… í”„ë¡ì‹œ í´ë˜ìŠ¤ë¥¼ ë™ì ìœ¼ë¡œ ìƒì„±
- 4. ë‚´ë¶€ì ìœ¼ë¡œ XMLì˜ SQLê³¼ ì—°ê²°í•˜ëŠ” ì½”ë“œë¡œ ì±„ì›Œì§
- 5. mapperë¥¼ í†µí•´ ë©”ì„œë“œ í˜¸ì¶œ â†’ SQL ì‹¤í–‰

### ğŸ“Œ# âœ… SqlSessionì˜ ì£¼ìš” ì—­í•  ìš”ì•½

| ê¸°ëŠ¥            | ì„¤ëª…                                                         |
|-----------------|--------------------------------------------------------------|
| 1. SQL ì‹¤í–‰     | `select`, `insert`, `update`, `delete` ì‹¤í–‰                 |
| 2. íŠ¸ëœì­ì…˜ ê´€ë¦¬ | ìˆ˜ë™ ì»¤ë°‹/ë¡¤ë°± ê°€ëŠ¥ (`commit()`, `rollback()`)             |
| 3. Mapper ì œê³µ  | `getMapper()`ë¥¼ í†µí•´ Mapper ì¸í„°í˜ì´ìŠ¤ ê°ì²´ ì–»ê¸°           |
| 4. ì—°ê²° ë‹«ê¸°    | DB ì—°ê²°ì„ ë‹«ëŠ” `close()` ì œê³µ                                |

### ğŸ“Œ# log4jdbc ë¼ì´ë¸ŒëŸ¬ë¦¬
- ë””ë²„ê¹…ìš© ë¼ì´ë¸ŒëŸ¬ë¦¬ì¸ log4jdbcë¥¼ ì„¤ì¹˜í•˜ë©´ ì•„ë˜ ë¡œê·¸ë¥¼ ì–´ë–¤ ì„¤ì •ì„ í•˜ì§€ ì•Šì•„ë„ ìë™ìœ¼ë¡œ ë‚¨ê²¨ì¤€ë‹¤. ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ë‹¤ìš´ë°›ê³  connectionì„ í˜•ì„±í• ë•Œ ì œê³µí•˜ëŠ” urlì— í¬í•¨í•œë‹¤.
[DEBUG] 25-04-21 17:31:07 [insert:135] - ==>  Preparing: INSERT INTO departments (dname, loc, phone, email, established, homepage) VALUES (?, ?, ?, ?, ?, ?)
[DEBUG] 25-04-21 17:31:07 [insert:135] - ==> Parameters: ìƒˆë¡œìš´ í•™ê³¼(String), B-1(String), 010-1234-1234(String), hyungyu@naver.com(String), 2020(Integer), https://hyungyu.com(String)
[INFO ] 25-04-21 17:31:07 [sqlonly:228] - INSERT INTO departments (dname, loc, phone, email, established, homepage) VALUES ('ìƒˆë¡œìš´ í•™ê³¼', 'B-1', '010-1234-1234', 'hyungyu@naver.com', 2020, 'https://hyungyu.com')
[DEBUG] 25-04-21 17:31:07 [insert:135] - <==    Updates: 1
[INFO ] 25-04-21 17:31:07 [resultsettable:610] - 

```java
@Slf4j
public class App01 {
    public static void main(String[] args) {
        // 1. mybatis ì„¤ì • íŒŒì¼ì˜ ë‚´ìš©ì„ ë¡œë“œí•˜ëŠ” ì ‘ì† ìƒˆì…˜ ìƒì„± ë° Mapperë¡œë“œ
        SqlSession sqlSession = MyBatisConnectionFactory.getSqlSession(); // ì‹±ê¸€í„´ ì„¸ì…˜ ê°ì²´ë¥¼ ë¦¬í„´í•˜ëŠ” ë©”ì„œë“œ í˜¸ì¶œ
        DepartmentMapper departmentMapper = sqlSession.getMapper(DepartmentMapper.class); // ì¸í„°í˜ì´ìŠ¤ë„ í´ë˜ìŠ¤ì˜ ì¼ì¢… í•˜ì—¬ ì´ì™€ ê°™ì€ ë°©ì‹ìœ¼ë¡œ í´ë˜ìŠ¤ ì •ë³´ë¥¼ ë„˜ê¸´ë‹¤.

        // 2. ì €ì¥í•  ë°ì´í„°ë¥¼ beans í´ë˜ìŠ¤ì˜ ê°ì²´ë¡œ ì¤€ë¹„
        Department input = new Department();
        input.setDname("ìƒˆë¡œìš´ í•™ê³¼");
        input.setLoc("B-1");
        input.setPhone("010-1234-1234");
        input.setEmail("hyungyu@naver.com");
        input.setEstablished(2020);
        input.setHomepage("https://hyungyu.com");

        // 3. Mapperì— êµ¬í˜„ë˜ì–´ìˆëŠ” ë§¤ì„œë“œë¥¼ í˜¸ì¶œí•˜ì—¬ SQLë¬¸ì„ ì‹¤í–‰
        int output = departmentMapper.insert(input); // mapperì— ì •ì˜ëœ insertë¬¸ ì‚¬ìš©

        // 4. ê²°ê³¼ íŒë³„
        log.debug("ì €ì¥ëœ ë°ì´í„°ì˜ ìˆ˜ " + output);
        log.debug("ìƒì„±ëœ primary key " + input.getId()); // ìƒì„±ëœ primaryí‚¤ëŠ” ì…ë ¥íŒŒë¼ë¯¸í„° ê°ì²´ì— ì…‹íŒ…ëœë‹¤.

        // 5. ë°ì´í„° ë² ì´ìŠ¤ ì ‘ì† í•´ì œ
        sqlSession.commit(); // ì»¤ë°‹í•´ì•¼ íŠ¸ëœì ì…˜ì´ ì™„ë£Œë¨.
        sqlSession.close(); // ì„¸ì…˜ì˜ ì—°ê²°ì„ ê¼­ ë‹«ì•„ì£¼ì–´ì•¼í•¨.
    }   
}
```

### ğŸ“Œ 2-5. Mapper í™œìš©í•œ updateë¬¸
```java
@Slf4j
public class App02 {
    public static void main(String[] args) {
        // 1. mybatis ì„¤ì • íŒŒì¼ì˜ ë‚´ìš©ì„ ë¡œë“œí•˜ëŠ” ì ‘ì† ìƒˆì…˜ ìƒì„± ë° Mapperë¡œë“œ
        SqlSession sqlSession = MyBatisConnectionFactory.getSqlSession(); // ì‹±ê¸€í„´ ì„¸ì…˜ ê°ì²´ë¥¼ ë¦¬í„´í•˜ëŠ” ë©”ì„œë“œ í˜¸ì¶œ
        DepartmentMapper departmentMapper = sqlSession.getMapper(DepartmentMapper.class); // ì¸í„°í˜ì´ìŠ¤ë„ í´ë˜ìŠ¤ì˜ ì¼ì¢… í•˜ì—¬ ì´ì™€ ê°™ì€ ë°©ì‹ìœ¼ë¡œ í´ë˜ìŠ¤ ì •ë³´ë¥¼ ë„˜ê¸´ë‹¤.

        // 2. ì €ì¥í•  ë°ì´í„°ë¥¼ beans í´ë˜ìŠ¤ì˜ ê°ì²´ë¡œ ì¤€ë¹„
        Department input = new Department();
        input.setId(511); // ê°’ì„ ìˆ˜ì •í•  ê²ƒì´ê¸° ë•Œë¬¸ì— ìˆ˜ì •í•  ìœ„ì¹˜ì˜ ì•„ì´ë””ë„ ê°™ì´ ì²¨ë¶€í•œë‹¤.
        input.setDname("ìˆ˜ì •ëœ í•™ê³¼");
        input.setLoc("B-2");
        input.setPhone("010-1234-1234");
        input.setEmail("hyun@naver.com");
        input.setEstablished(2020);
        input.setHomepage("https://hyungyu.com");

        // 3. Mapperì— êµ¬í˜„ë˜ì–´ìˆëŠ” ë§¤ì„œë“œë¥¼ í˜¸ì¶œí•˜ì—¬ SQLë¬¸ì„ ì‹¤í–‰
        int output = departmentMapper.update(input); // mapperì— ì •ì˜ëœ updateë¬¸ ì‚¬ìš©

        // 4. ê²°ê³¼ íŒë³„
        log.debug("ìˆ˜ì •ëœ ë°ì´í„°ì˜ ìˆ˜ " + output);

        // 5. ë°ì´í„° ë² ì´ìŠ¤ ì ‘ì† í•´ì œ
        sqlSession.commit(); // ì»¤ë°‹í•´ì•¼ íŠ¸ëœì ì…˜ì´ ì™„ë£Œë¨.
        sqlSession.close(); // ì„¸ì…˜ì˜ ì—°ê²°ì„ ê¼­ ë‹«ì•„ì£¼ì–´ì•¼í•¨.
    }   
}
```

### ğŸ“Œ 2-6. Mapper í™œìš©í•œ deleteë¬¸
```java
@Slf4j
public class App03 {
    public static void main(String[] args) {
        // 1. mybatis ì„¤ì • íŒŒì¼ì˜ ë‚´ìš©ì„ ë¡œë“œí•˜ëŠ” ì ‘ì† ìƒˆì…˜ ìƒì„± ë° Mapperë¡œë“œ
        SqlSession sqlSession = MyBatisConnectionFactory.getSqlSession(); // ì‹±ê¸€í„´ ì„¸ì…˜ ê°ì²´ë¥¼ ë¦¬í„´í•˜ëŠ” ë©”ì„œë“œ í˜¸ì¶œ
        DepartmentMapper departmentMapper = sqlSession.getMapper(DepartmentMapper.class); // ì¸í„°í˜ì´ìŠ¤ë„ í´ë˜ìŠ¤ì˜ ì¼ì¢… í•˜ì—¬ ì´ì™€ ê°™ì€ ë°©ì‹ìœ¼ë¡œ í´ë˜ìŠ¤ ì •ë³´ë¥¼ ë„˜ê¸´ë‹¤.

        // 2. ì‚­ì œí•  ë°ì´í„°ë¥¼ beans í´ë˜ìŠ¤ì˜ ê°ì²´ë¡œ ì¤€ë¹„
        Department input = new Department();
        input.setId(511); // í–‰ ì „ì²´ë¥¼ ì‚­ì œí•  ê²ƒì´ê¸° ë•Œë¬¸ì— ìˆ˜ì •í•  ìœ„ì¹˜ì˜ ì•„ì´ë””ë§Œ ì²¨ë¶€

        // 3. Mapperì— êµ¬í˜„ë˜ì–´ìˆëŠ” ë§¤ì„œë“œë¥¼ í˜¸ì¶œí•˜ì—¬ SQLë¬¸ì„ ì‹¤í–‰
        int output = departmentMapper.delete(input); // mapperì— ì •ì˜ëœ deleteë¬¸ ì‚¬ìš©

        // 4. ê²°ê³¼ íŒë³„
        log.debug("ì‚­ì œëœ ë°ì´í„°ì˜ ìˆ˜ " + output);

        // 5. ë°ì´í„° ë² ì´ìŠ¤ ì ‘ì† í•´ì œ
        sqlSession.commit(); // ì»¤ë°‹í•´ì•¼ íŠ¸ëœì ì…˜ì´ ì™„ë£Œë¨.
        sqlSession.close(); // ì„¸ì…˜ì˜ ì—°ê²°ì„ ê¼­ ë‹«ì•„ì£¼ì–´ì•¼í•¨.
    }   
}
```

### ğŸ“Œ 2-7. Mapper í™œìš©í•œ selectoneë¬¸
```java
@Slf4j
public class App04 {
    public static void main(String[] args) {
        // 1. mybatis ì„¤ì • íŒŒì¼ì˜ ë‚´ìš©ì„ ë¡œë“œí•˜ëŠ” ì ‘ì† ìƒˆì…˜ ìƒì„± ë° Mapperë¡œë“œ
        SqlSession sqlSession = MyBatisConnectionFactory.getSqlSession(); // ì‹±ê¸€í„´ ì„¸ì…˜ ê°ì²´ë¥¼ ë¦¬í„´í•˜ëŠ” ë©”ì„œë“œ í˜¸ì¶œ
        DepartmentMapper departmentMapper = sqlSession.getMapper(DepartmentMapper.class); // ì¸í„°í˜ì´ìŠ¤ë„ í´ë˜ìŠ¤ì˜ ì¼ì¢… í•˜ì—¬ ì´ì™€ ê°™ì€ ë°©ì‹ìœ¼ë¡œ í´ë˜ìŠ¤ ì •ë³´ë¥¼ ë„˜ê¸´ë‹¤.

        // 2. ì¡°íšŒí•  ë°ì´í„°ë¥¼ beans í´ë˜ìŠ¤ì˜ ê°ì²´ë¡œ ì¤€ë¹„
        Department input = new Department();
        input.setId(510); 

        // 3. Mapperì— êµ¬í˜„ë˜ì–´ìˆëŠ” ë§¤ì„œë“œë¥¼ í˜¸ì¶œí•˜ì—¬ SQLë¬¸ì„ ì‹¤í–‰
        Department output = departmentMapper.selectOne(input); // mapperì— ì •ì˜ëœ deleteë¬¸ ì‚¬ìš©

        // 4. ê²°ê³¼ 
        log.debug("ì¡°íšŒê²°ê³¼ " + output.toString());

        // 5. ë°ì´í„° ë² ì´ìŠ¤ ì ‘ì† í•´ì œ
        sqlSession.close(); // ì„¸ì…˜ì˜ ì—°ê²°ì„ ê¼­ ë‹«ì•„ì£¼ì–´ì•¼í•¨.
    }   
}
```

### ğŸ“Œ 2-8. Mapper í™œìš©í•œ selectlistë¬¸
- ì–´ì§œí”¼ ì „ì²´ë¥¼ ì¡°íšŒí•˜ê¸° ë•Œë¬¸ì— ê°ì²´ë¥¼ ë”°ë¡œ ìƒì„±í•  í•„ìš”ê°€ ì—†ë‹¤.
```java
@Slf4j
public class App05 {
    public static void main(String[] args) {
        // 1. mybatis ì„¤ì • íŒŒì¼ì˜ ë‚´ìš©ì„ ë¡œë“œí•˜ëŠ” ì ‘ì† ìƒˆì…˜ ìƒì„± ë° Mapperë¡œë“œ
        SqlSession sqlSession = MyBatisConnectionFactory.getSqlSession(); // ì‹±ê¸€í„´ ì„¸ì…˜ ê°ì²´ë¥¼ ë¦¬í„´í•˜ëŠ” ë©”ì„œë“œ í˜¸ì¶œ
        DepartmentMapper departmentMapper = sqlSession.getMapper(DepartmentMapper.class); // ì¸í„°í˜ì´ìŠ¤ë„ í´ë˜ìŠ¤ì˜ ì¼ì¢… í•˜ì—¬ ì´ì™€ ê°™ì€ ë°©ì‹ìœ¼ë¡œ í´ë˜ìŠ¤ ì •ë³´ë¥¼ ë„˜ê¸´ë‹¤.

        // 2. ì „ë¶€ ì¡°íšŒí•  ê²ƒì´ë¯€ë¡œ ê°ì²´ë¥¼ ë”°ë¡œ ì¤€ë¹„í•  í•„ìš”ê°€ ì—†ìŒ.

        // 3. Mapperì— êµ¬í˜„ë˜ì–´ìˆëŠ” ë§¤ì„œë“œë¥¼ í˜¸ì¶œí•˜ì—¬ SQLë¬¸ì„ ì‹¤í–‰
        List <Department> output = departmentMapper.selectList(null); // mapperì— ì •ì˜ëœ deleteë¬¸ ì‚¬ìš©

        // 4. ê²°ê³¼ 
        log.debug("ì¡°íšŒê²°ê³¼ " + output.toString());

        // 5. ë°ì´í„° ë² ì´ìŠ¤ ì ‘ì† í•´ì œ
        sqlSession.close(); // ì„¸ì…˜ì˜ ì—°ê²°ì„ ê¼­ ë‹«ì•„ì£¼ì–´ì•¼í•¨.
    }   
}
```


