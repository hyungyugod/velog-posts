# ðŸ“Œ 0. ë³´ìŠ¤ í´ë¡ ì½”ë”© í”„ë¡œì íŠ¸
### ðŸ“Œ 0-1. ì‹œí€€ìŠ¤ ë‹¤ì´ì–´ê·¸ëž¨
- ì‹œí€€ìŠ¤ ë‹¤ì´ì–´ê·¸ëž¨ì€ UML(Unified Modeling Language) í‘œì¤€ ì¤‘ í•˜ë‚˜ë¡œ, ì‹œìŠ¤í…œ ë‚´ì—ì„œ ê°ì²´(ë˜ëŠ” ì»´í¬ë„ŒíŠ¸)ë“¤ ì‚¬ì´ì˜ ìƒí˜¸ìž‘ìš©ê³¼ ë©”ì‹œì§€ íë¦„ì„ ì‹œê°„ì˜ íë¦„ì— ë”°ë¼ ìˆœì°¨ì ìœ¼ë¡œ ì‹œê°í™”í•œ ê²ƒì´ë‹¤.
- ì´ ì‹œí€€ìŠ¤ ë‹¤ì´ì–´ê·¸ëž¨ì„ ìš°ë¦¬ í”„ë¡œì íŠ¸ì— ëŒ€í•´ ê·¸ë¦¬ê¸° ìœ„í•´ í•´ë‹¹ ì‹œí€€ìŠ¤ ë‹¤ì´ì–´ê·¸ëž¨(Sequence Diagram) ë¬¸ë²•ì„ ê³µë¶€í•œë‹¤.
- Lifeline: Lifelineì€ ë„¤ëª¨ì™€ ì ì„ ìœ¼ë¡œ ì´ë£¨ì–´ì ¸ ìžˆìœ¼ë©° ë„¤ëª¨ê°€ ê°ì²´ì˜ ê´€ì ìœ¼ë¡œ í‘œí˜„í–ˆë‹¤ë©´ í´ëž˜ìŠ¤ì´ê³  ì„œë¹„ìŠ¤ ê´€ì ìœ¼ë¡œ í‘œí˜„í–ˆìœ¼ë©´ ì»´í¬ë„ŒíŠ¸ê°€ ëœë‹¤. ì ì„ ì€ ì‹œê°„ì˜ ê²½ê³¼ë¥¼ ë‚˜íƒ€ë‚¸ë‹¤.
- Activation: Activationì€ Lifelineì˜ ì¸ìŠ¤í„´ìŠ¤ê°€ ë‹¤ë¥¸ ì¸ìŠ¤í„´ìŠ¤ì™€ ìƒí˜¸ ìž‘ìš©ì„ í•˜ë©° í™œì„±í™” ë˜ì–´ ìžˆëŠ” ê²ƒì„ ë‚˜íƒ€ë‚¸ë‹¤. Activationì€ ì§ì‚¬ê°í˜•ì˜ ë§‰ëŒ€ë¡œ Lifelineì˜ ì ì„  ê°€ìš´ë°ì— í‘œì‹œí•œë‹¤.
- ë™ê¸° ë©”ì‹œì§€: ë™ê¸° ë©”ì‹œì§€ëŠ” ì‹¤ì„ ê³¼ ê½‰ ì°¬ í™”ì‚´í‘œë¡œ í‘œí˜„ì„ í•œë‹¤. ë™ê¸° ë©”ì‹œì§€ ì´ë¯€ë¡œ ìš”ì²­ì„ ë³´ë‚¸ í›„, ê²°ê³¼ê°€ ì˜¬ ë•Œê¹Œì§€ ê¸°ë‹¤ë¦°ë‹¤.
- ë¹„ë™ê¸° ë©”ì‹œì§€: ë¹„ë™ê¸° ë©”ì‹œì§€ëŠ” ì‹¤ì„ ê³¼ ì„ ìœ¼ë¡œ ì´ë¤„ì§„ í™”ì‚´í‘œë¡œ í‘œí˜„ì„ í•œë‹¤. ë¹„ë™ê¸° ë©”ì‹œì§€ì´ë¯€ë¡œ ìš”ì²­ì„ ë³´ë‚¸ í›„, ê²°ê³¼ë¥¼ ê¸°ë‹¤ë¦¬ì§€ ì•ŠëŠ”ë‹¤.
- ìžì²´ ë©”ì‹œì§€: ìžì²´ì ìœ¼ë¡œ ìž‘ì—…ì„ ì²˜ë¦¬í•  ë•Œ, ìžì²´ ë©”ì‹œì§€ë¥¼ ì‚¬ìš©í•œë‹¤. ìžì²´ ë©”ì‹œì§€ëŠ” ë³¸ì¸ì˜ Lifelineìœ¼ë¡œ íšŒê·€í•˜ëŠ” í™”ì‚´í‘œë¥¼ ê·¸ë¦°ë‹¤.
- ë°˜í™˜ ë©”ì‹œì§€: ë™ê¸° ë©”ì‹œì§€ì—ì„œ í‘œí˜„í–ˆë˜ ê²ƒê³¼ ê°™ì´ ìš”ì²­ì— ëŒ€í•œ ê²°ê³¼ë¥¼ ë°˜í™˜í•œë‹¤. ì ì„ ê³¼ ì„ ìœ¼ë¡œ ì´ë¤„ì§„ í™”ì‚´í‘œë¡œ í‘œí˜„í•œë‹¤.
- Guard: GuardëŠ” ë‹¨ì¼ ë©”ì‹œì§€ì— ëŒ€í•´ ì¡°ê±´ì„ ëª…ì‹œí•  ìˆ˜ ìžˆëŠ” ë°©ë²•ì´ë‹¤. ì‚¬ìš©ë²•ì€ ë©”ì‹œì§€ì˜ ì•ž ìª½ì— [ ] ëŒ€ê´„í˜¸ë¡œ ê°ì‹¼ í›„ ì¡°ê±´ì„ ëª…ì‹œí•œë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ê°€ê²©ì´ 10,000ì› ì´ìƒì´ë¼ê³  í•˜ë©´ [price > 10000]ì´ë¼ê³  ëª…ì‹œí•œë‹¤.
- Sequence Fragment: ë²”ìœ„ë¡œ ì¡°ê±´ì„ ëª…ì‹œí•  ìˆ˜ ìžˆë‹¤. íŠ¹ì • ë¶€ë¶„ì— ëŒ€í•´ì„œ ë©”ì‹œì§€ë¥¼ ë°˜ë³µí•˜ê±°ë‚˜ ì¡°ê±´ì„ ëª…ì‹œí•  ë•Œ ì‚¬ìš©ëœë‹¤.
- alternative: alternativeëŠ” altë¡œ ì¤„ì—¬ì„œ ì‚¬ìš©í•œë‹¤. altëŠ” ì¡°ê±´ë¬¸ì¸ if/elseë¬¸ì„ Guardë¥¼ ì‚¬ìš©í•´ í‘œí˜„í•  ìˆ˜ ìžˆë‹¤. alt ë°•ìŠ¤ë¡œ ê°ì‹¸ì„œ if/else ë‘ê°€ì§€ ê²½ìš°ë¥¼ í‘œí˜„
- option: optionì€ optë¡œ ì¤„ì—¬ì„œ ì‚¬ìš©í•œë‹¤. optëŠ” ì¡°ê±´ë¬¸ì¸ ifë¬¸ì„ Guardë¥¼ ì‚¬ìš©í•´ í‘œí˜„í•  ìˆ˜ ìžˆë‹¤. ì¦‰, ì¡°ê±´ì— ë”°ë¼ ì„ íƒ ì‚¬í•­ì´ ë‹¨ í•œ ê°œì¼ ê²½ìš°ì— ì‚¬ìš©ëœë‹¤. ë§Œì•½ ì¡°ê±´ì„ ë§Œì¡±í•˜ì§€ ì•Šìœ¼ë©´ ì‹¤í–‰í•˜ì§€ ì•ŠëŠ”ë‹¤.
- ì¦‰ GuardëŠ” 'Aë¼ë©´ Bí•œë‹¤.' ì™€ ê°™ì´ 1ê°œì— ëŒ€í•´ 1ê°€ì§€ì˜ ê²°ê³¼ë¥¼ ë³´ì—¬ì£¼ëŠ” ë°˜ë©´, optëŠ” 'Aë¼ë©´ Bë„ í•˜ê³  Cë„ í•˜ê³  Dë„ í•˜ê³  ë“±ë“±ì„ í•œë‹¤.' ì™€ ê°™ì´ 1ê°œì— ëŒ€í•´ ì—¬ëŸ¬ ê²°ê³¼ë¥¼ ë‚˜íƒ€ë‚¼ ìˆ˜ ìžˆë‹¤.
- loop: loopì€ ë‹¨ì–´ ì˜ë¯¸ ê·¸ëŒ€ë¡œ for, whileê³¼ ê°™ì€ ë°˜ë³µë¬¸ì„ í‘œí˜„í•œë‹¤.
- parallel: parallelì€ ë‹¨ì–´ ê·¸ëŒ€ë¡œ ë³‘ë ¬ ì²˜ë¦¬ë¥¼ ì˜ë¯¸í•œë‹¤.
- ì˜ˆì‹œë¡œ aiê°€ ìž‘ì„±í•œ login ë©”ì„œë“œì˜ ì‹œí€€ìŠ¤ ë‹¤ì´ì–´ê·¸ëž¨ì„ ë³´ê³  ì •ë¦¬í•´ë³´ë„ë¡ í•˜ê² ë‹¤.
```plantuml
@startuml
skinparam dpi 200

actor Actor as "ì‚¬ìš©ìž"
participant UserRestController
participant ValidationManager
participant LoginService
participant UserMapper
participant ControllerExceptionHandler
database Database

note right of UserRestController : ë°œìƒ ê°€ëŠ¥í•œ ì˜ˆì™¸:\n- InvalidFormatException (ìœ íš¨ì„± ê²€ì‚¬ ì‹¤íŒ¨)\n- UnauthorizedException (ë¡œê·¸ì¸ ì‹¤íŒ¨)\n- Exception (ê¸°íƒ€ ì˜ˆì™¸)

Actor -> UserRestController: login(request: HttpServletRequest, userEmail: String, userPassword: String, rememberId: String)
activate UserRestController

UserRestController -> ValidationManager: ìœ íš¨ì„± ê²€ì‚¬
activate ValidationManager
ValidationManager --> UserRestController: String, String
deactivate ValidationManager

UserRestController -> LoginService: loginCheck(loginUser: User)
activate LoginService
LoginService -> UserMapper: findByEmail(userEmail: String)
activate UserMapper
UserMapper -> Database: SELECT
activate Database
Database --> UserMapper: User
deactivate Database
UserMapper --> LoginService: User
deactivate UserMapper
LoginService --> UserRestController: User
deactivate LoginService

alt ì˜ˆì™¸ ë°œìƒ
    UserRestController -> ControllerExceptionHandler: ì˜ˆì™¸ ì²˜ë¦¬
    activate ControllerExceptionHandler
    ControllerExceptionHandler --> Actor: ResponseEntity<ResponseDTO> (Error)
    deactivate ControllerExceptionHandler
else ì •ìƒ ì²˜ë¦¬
    UserRestController --> Actor: ResponseEntity<ResponseDTO> (Success)
    deactivate UserRestController
end

@enduml
```
- @startuml ~ @endumlì€ PlantUML ì‹œí€€ìŠ¤ ë‹¤ì´ì–´ê·¸ëž¨ì˜ ì‹œìž‘ê³¼ ëì„ ë‚˜íƒ€ë‚¸ë‹¤.
- skinparam dpi 200 : ë‹¤ì´ì–´ê·¸ëž¨ í•´ìƒë„(DPI) ì„¤ì •í•œë‹¤. ì´ë¯¸ì§€ë¡œ ë‚´ë³´ë‚¼ ë•Œ ì„ ëª…ë„ë¥¼ ì¡°ì •í•œë‹¤.
- actor Actor as "ì‚¬ìš©ìž" : Actorë¼ëŠ” ì‹ë³„ìžì— í•œê¸€ëª…ì¹­ "ì‚¬ìš©ìž"ë¥¼ ë¶™ì¸ë‹¤. ì‹¤ì œë¡œëŠ” actor User, actor Admin ë“±ìœ¼ë¡œë„ ë§Žì´ ì“´ë‹¤.
- í”„ë¡œì„¸ìŠ¤ì— ì°¸ì—¬í•˜ëŠ” ë‚´ë¶€ ì»´í¬ë„ŒíŠ¸: participant í‚¤ì›Œë“œë¡œ ì„ ì–¸í•˜ë©°, ì´ë¦„ì€ ì‹¤ì œ ìžë°” í´ëž˜ìŠ¤ëª…ê³¼ ë§žì¶”ëŠ” ê²Œ ë§žë‹¤. ì˜ˆ) participant UserRestController, participant ValidationManager..
- database Database: ë°ì´í„°ë² ì´ìŠ¤ë¥¼ íŠ¹ìˆ˜ ì•„ì´ì½˜(Cylinder)ìœ¼ë¡œ ë‚˜íƒ€ë‚¸ë‹¤.
```plantuml
skinparam dpi 200

actor Actor as "ì‚¬ìš©ìž"
participant UserRestController
participant ValidationManager
participant LoginService
participant UserMapper
participant ControllerExceptionHandler
database Database
```
- note right of UserRestController: UserRestController ì˜¤ë¥¸ìª½ì— **ë…¸íŠ¸(ì„¤ëª… ë°•ìŠ¤)**ë¥¼ ì¶”ê°€í•œë‹¤.
- ->ëŠ” ë™ê¸° í˜¸ì¶œì„ ì˜ë¯¸í•œë‹¤. 
- : ë’¤ì— í˜¸ì¶œ í•¨ìˆ˜ëª… ë° íŒŒë¼ë¯¸í„° í‘œê¸°í•œë‹¤.
- Actor -> UserRestController: login(...)
- activate UserRestController: **í•´ë‹¹ ê°ì²´ì˜ í™œì„±í™”(ì‹¤í–‰ ì¤‘)**ë¥¼ ì‹œê°ì ìœ¼ë¡œ ê°•ì¡°í•œë‹¤.
- UserRestController -> ValidationManager: ìœ íš¨ì„± ê²€ì‚¬
- -->: "ë˜ëŒì•„ì˜¤ëŠ” ë°˜í™˜" í™”ì‚´í‘œ (-->)
- deactivate: í™œì„±í™” í•´ì œ
```plantuml
UserRestController -> LoginService: loginCheck(loginUser: User)
activate LoginService
LoginService -> UserMapper: findByEmail(userEmail: String)
activate UserMapper
UserMapper -> Database: SELECT
activate Database
Database --> UserMapper: User
deactivate Database
UserMapper --> LoginService: User
deactivate UserMapper
LoginService --> UserRestController: User
deactivate LoginService
```
- alt ì˜ˆì™¸ ë°œìƒ ê·¸ë¦¬ê³  ifë¬¸ì— í•´ë‹¹ë˜ëŠ” ë‚´ìš©ì„ ìž‘ì„±
- else ì •ìƒ ì²˜ë¦¬: ì •ìƒì²˜ë¦¬ ë‚´ìš©í•´ í•´ë‹¹í•˜ëŠ” êµ¬ë¬¸ ìž‘ì„±
```plantuml
alt ì˜ˆì™¸ ë°œìƒ
    UserRestController -> ControllerExceptionHandler: ì˜ˆì™¸ ì²˜ë¦¬
    activate ControllerExceptionHandler
    ControllerExceptionHandler --> Actor: ResponseEntity<ResponseDTO> (Error)
    deactivate ControllerExceptionHandler
else ì •ìƒ ì²˜ë¦¬
    UserRestController --> Actor: ResponseEntity<ResponseDTO> (Success)
    deactivate UserRestController
end
```

### ðŸ“Œ 0-2. ìµœì¢… ì‹œí€€ìŠ¤ ë‹¤ì´ì–´ê·¸ëž¨ í‹€
- ì—ëŸ¬ëŠ” ì»¨íŠ¸ë¡¤ëŸ¬ì— í† ìŠ¤í•˜ë„ë¡ ì„¤ê³„ë¥¼ í•´ì„œ ëª¨ë“  ì—ëŸ¬ëŠ” ì¼ë‹¨ ì»¨íŠ¸ë¡¤ëŸ¬ë¡œ í† ìŠ¤í•˜ë©´ ë˜ê³  ì»¨íŠ¸ë¡¤ëŸ¬, ì„œë¹„ìŠ¤, ë§¤í¼ì—ì„œ í•˜ë‚˜ì˜ ì„ ë§Œ ë§Œë“¤ì–´ì„œ ê±°ê¸°ì— ì„¤ëª…ìœ¼ë¡œ ê°€ëŠ¥í•œ ì—ëŸ¬ë“¤ì„ ë‚˜ì—´í•˜ê³  ì»¨íŠ¸ë¡¤ëŸ¬ë¡œ í† ìŠ¤í•˜ë„ë¡(ìš”ì²­í•˜ë„ë¡ ì„¤ê³„)
- ë§ˆì§€ë§‰ì— ëª¨ë“  ì—ëŸ¬ëŠ” ì´ ì‚¬ì§„ì²˜ëŸ¼ ì»¨íŠ¸ë¡¤ëŸ¬ê°€ ëŒ€í‘œí•´ì„œ í•¸ë“¤ëŸ¬ì— ë˜ì§€ê³  í•¸ë“¤ëŸ¬ëŠ” ì—ëŸ¬ ê°ì²´ë¥¼ ì‚¬ìš©ìžì—ê²Œ ë°˜í™˜í•œë‹¤.
```plantuml
@startuml
skinparam dpi 150

actor Actor as "ì‚¬ìš©ìž"
participant ControllerExceptionHandler
participant UserRestController
participant ValidationManager
participant LoginService
participant UserMapper

database Database

note right of UserRestController : ë°œìƒ ê°€ëŠ¥í•œ ì˜ˆì™¸:\n- InvalidFormatException (ìœ íš¨ì„± ê²€ì‚¬ ì‹¤íŒ¨)\n- UnauthorizedException (ë¡œê·¸ì¸ ì‹¤íŒ¨)\n- Exception (ê¸°íƒ€ ì˜ˆì™¸)
note right of Actor : í”„ë¡ íŠ¸:\n- í´ë¦­ì´ë²¤íŠ¸ë¡œ ajax ìš”ì²­\n- ë¡œê·¸ì¸ í¼ì—ì„œ ìž…ë ¥í•œ ê°’ ì „ë‹¬\n- ì„±ê³µ ì‹œ refererì—ì„œ ë°›ì•„ì˜¨ ì´ì „ íŽ˜ì´ì§€ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸\n- ì‹¤íŒ¨ ì‹œ ì—ëŸ¬ ë©”ì‹œì§€ í‘œì‹œ

Actor -> UserRestController: login(request: HttpServletRequest, userEmail: String, userPassword: String, rememberId: String)
activate UserRestController

UserRestController -> ValidationManager: ìœ íš¨ì„± ê²€ì‚¬
activate ValidationManager
ValidationManager --> UserRestController: InvalidFormatException
ValidationManager --> UserRestController: ê²€ì¦ ì™„ë£Œëœ ê°’
deactivate ValidationManager

UserRestController -> LoginService: loginCheck(loginUser: User)
activate LoginService

LoginService -> UserMapper: findByEmail(userEmail: String)
activate UserMapper

UserMapper -> Database: SELECT
activate Database

' ì‘ë‹µ

Database --> UserMapper: User
deactivate Database

UserMapper --> UserRestController: SQL Exception
UserMapper --> LoginService: User
deactivate UserMapper

LoginService --> UserRestController: UnauthorizedException
LoginService --> UserRestController: user -> ë°›ì€ ê°’ì„ ì´ìš©í•´ session update
deactivate LoginService

alt ì˜ˆì™¸ ë°œìƒ
    UserRestController -> ControllerExceptionHandler: throwëœ ì—ëŸ¬/controller error
    activate ControllerExceptionHandler
    ControllerExceptionHandler --> Actor: ResponseEntity<ResponseDTO> (Error)
    deactivate ControllerExceptionHandler

else ì •ìƒ ì²˜ë¦¬
    UserRestController --> Actor: ResponseEntity<ResponseDTO> (Success)
    deactivate UserRestController
end

@enduml
```