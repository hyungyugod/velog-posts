# ğŸ“Œ 0. ë³´ìŠ¤ í´ë¡  ì½”ë”© í”„ë¡œì íŠ¸ í‰ê°€ì„œ ì‘ì„± í”„ë¡œê·¸ë¨ ì½”ë“œ
### ğŸ“Œ 0-1. ëª¨ë“ˆ ì„¤ëª… ì£¼ì„
- Github Actions í™˜ê²½ KST ìë™ ì ìš© : Github ActionsëŠ” ê¸°ë³¸ì ìœ¼ë¡œ UTC(ì„¸ê³„ í‘œì¤€ì‹œ) ê¸°ì¤€ìœ¼ë¡œ ë™ì‘í•˜ëŠ”ë° ì´ ì„¤ì •ìœ¼ë¡œ ì¸í•´ Github Actionsì—ì„œ ì‹¤í–‰ëœ ê²°ê³¼ ë¦¬í¬íŠ¸, ë¡œê·¸ ë“±ì„ í•­ìƒ KST(í•œêµ­ ì‹œê°„) ê¸°ì¤€ìœ¼ë¡œ ë‚˜ì˜¤ê²Œ í•œë‹¤.
- Github Actions : ê¹ƒí—ˆë¸Œì—ì„œ ì œê³µí•˜ëŠ” ìë™í™” ë„êµ¬ë¡œ ì†ŒìŠ¤ì½”ë“œê°€ ì €ì¥ëœ ê¹ƒí—ˆë¸Œ ì €ì¥ì†Œì—ì„œ íŠ¹ì • ì´ë²¤íŠ¸ê°€ ë°œìƒí•˜ë©´ (ì˜ˆ: push, PR, issue ë“±) ìë™ìœ¼ë¡œ ì›í•˜ëŠ” ì‘ì—…ì„ ì‹¤í–‰í•  ìˆ˜ ìˆê²Œ í•´ì¤€ë‹¤.
- ì•„ë˜ëŠ” ìì£¼ ì‚¬ìš©í•˜ëŠ” ê¹ƒí—ˆë¸Œ ì´ë²¤íŠ¸ë¥¼ ì„¤ëª…í•´ë³´ë„ë¡ í•˜ê² ë‹¤.
- push: ì½”ë“œë¥¼ ì €ì¥ì†Œì— ì˜¬ë¦¬ëŠ” ì´ë²¤íŠ¸
- PR(Pull Request) : ë‚´ ì½”ë“œ ë³€ê²½ì‚¬í•­(ë¸Œëœì¹˜)ì„ â€˜ë¦¬ë·° ë°›ê³  ì‹¶ë‹¤â€™ê³  ìš”ì²­í•˜ëŠ”ê²ƒìœ¼ë¡œ ë¸Œëœì¹˜ì—ì„œ ì‘ì—…í•œ ë³€ê²½ì‚¬í•­ì„ ë©”ì¸ì— í•©ì³ë„ ë˜ëŠ”ì§€ ê³µì‹ì ìœ¼ë¡œ ìš”ì²­í•˜ëŠ” ê²ƒì´ë‹¤.
- issue: ë²„ê·¸ ì‹ ê³ , ìƒˆë¡œìš´ ê¸°ëŠ¥ ìš”ì²­, ì‘ì—… í•  ì¼, í† ë¡  ë“±ì„ ì´ìŠˆ íŠ¸ë˜ì»¤(í•  ì¼/ë²„ê·¸ ê´€ë¦¬í•¨)ì— ë“±ë¡í•˜ëŠ” í•­ëª©ì´ë‹¤.
- fork : ë‹¤ë¥¸ ì‚¬ëŒì´ ë‚´ ì €ì¥ì†Œë¥¼ ë³µì‚¬í•´ì„œ ìì‹ ì˜ ê²ƒìœ¼ë¡œ ë§Œë“¤ë•Œ
- release : ìƒˆë¡œìš´ ë²„ì „ì„ ë°°í¬í• ë•Œ
- schedule : ì •í•´ì§„ ì‹œê°„ì— ìë™ ì‹¤í–‰ -> ë§¤ì¼ ìƒˆë²½ ë¦¬í¬íŠ¸ ìƒì„± ë“±
```python
1  """
2  âœ… --all : ì €ì¥ì†Œ ìµœì´ˆ ì»¤ë°‹ ~ ì–´ì œê¹Œì§€ ì „ì²´ ìƒì„±
3  âœ… --date YYYY-MM-DD : íŠ¹ì • ë‚ ì§œ ë³´ê³ ì„œë§Œ ìƒì„±
4  âœ… --range YYYY-MM-DD:YYYY-MM-DD : íŠ¹ì • ê¸°ê°„ ë³´ê³ ì„œ ìƒì„±
5  âœ… --exclude YYYY-MM-DD,YYYY-MM-DD,... : íŠ¹ì • ë‚ ì§œ ì œì™¸
6  âœ… Github Actions í™˜ê²½ KST ìë™ ì ìš©
7  âœ… í•™ìƒë³„ ì»¤ë°‹ í†µí•© ë¦¬ë·°
8  âœ… ì»¤ë°‹ ì‹œê° + ë©”ì‹œì§€ë³„ íŒŒì¼ ëª©ë¡ í‘œì‹œ
9  """
```

### ğŸ“Œ 0-2. ì‚¬ìš©í•œ api ì •ë¦¬
- subprocess : íŒŒì´ì¬ì—ì„œ ëª…ë ¹ í”„ë¡¬í”„íŠ¸ë‚˜ í„°ë¯¸ë„ ëª…ë ¹ì–´ (ì˜ˆ: git add -A)ë¥¼ ì‹¤í–‰í•˜ê³  ê²°ê³¼ë¥¼ íŒŒì´ì¬ ì½”ë“œë¡œ ê°€ì ¸ì˜¬ë•Œ ì‚¬ìš©í•œë‹¤.
- os: ì»´í“¨í„° í™˜ê²½ ê´€ë ¨ ì •ë³´ë¥¼ ë‹¤ë£¨ëŠ” ë„êµ¬ì´ë‹¤. (í´ë” ë§Œë“¤ê¸°, íŒŒì¼ê²½ë¡œí™•ì¸, í™˜ê²½ ë³€ìˆ˜ ì½ê¸°)
- argparse : í„°ë¯¸ë„ì—ì„œ python hello.pyì´ë ‡ê²Œ íŒŒì´ì¬ì„ ì‹¤í–‰í• ë•Œ python hello.py --name ì² ìˆ˜ ì´ëŸ° ì‹ìœ¼ë¡œ ì˜µì…˜ê°’ê³¼ ì„¤ì •ê°’ì„ ë¶™ì—¬ì„œ ì‹¤í–‰í•  ìˆ˜ ìˆê²Œ í•´ì¤€ë‹¤.
- arg (ë‚´ê°€ ë„˜ê¸°ëŠ” ì¸ìë¥¼) parse(ì´í•´í•˜ê³  ì“¸ ìˆ˜ ìˆë„ë¡ í•œë‹¤.)
- yaml : yaml ì´ íŒŒì¼ì— ì €ì¥ëœ ì •ë³´ë¥¼ íŒŒì´ì¬ì—ì„œ ì½ì–´ì˜¬ ë•Œ ì“°ëŠ” ë„êµ¬ì´ë‹¤.
- collections.defaultdict : ë”•ì…”ë„ˆë¦¬ì¸ë° ì—†ëŠ”ê°’ì„ ì°¾ìœ¼ë©´ ìë™ìœ¼ë¡œ ê¸°ë³¸ê°’ì„ ë§Œë“¤ì–´ì¤€ë‹¤.
- datetime : ë‚ ì§œì™€ ì‹œê°„ì„ ë‹¤ë£¨ëŠ” ë„êµ¬ì´ë‹¤.
- openai.OpenAI : chat gptë¥¼ ê°€ì ¸ì˜¤ê¸° ìœ„í•œ api
- tqdm : íŒŒì´ì¬ ì½”ë“œì—ì„œ ë°˜ë³µë¬¸(forë¬¸) ê°™ì€ ì‘ì—…ì´ ì˜¤ë˜ ê±¸ë¦´ ë•Œ â€œì§€ê¸ˆ ì–´ë””ê¹Œì§€ í–ˆëŠ”ì§€â€ ë§‰ëŒ€ ê·¸ë˜í”„ì²˜ëŸ¼ ë³´ì—¬ì£¼ëŠ” ë„êµ¬ì´ë‹¤.
```python
14 import subprocess
15 import os
16 import argparse
17 import yaml
18 from collections import defaultdict
19 from datetime import datetime, timedelta, timezone
20 from openai import OpenAI
21 from tqdm import tqdm
```

### ğŸ“Œ 0-3. open api ê°ì²´ ìƒì„±
- OpenAI(...) í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•˜ë ¤ë©´ ì´ë¥¼ ì‹¤ì œë¡œ ì“°ëŠ” ê°ì²´ë¥¼ ë¬´ì¡°ê±´ ë§Œë“¤ì–´ì£¼ì–´ì•¼í•˜ë¯€ë¡œ ì‚¬ìš©ì í‚¤ë¥¼ ìƒì„±ìì— ë„£ì–´ì„œ ê°ì²´ë¥¼ ìƒì„±í•œë‹¤.
- ê·¸ëŸ¬ë©´ ì•ìœ¼ë¡œ clientê°€ aiì—ê²Œ ì§ˆë¬¸ì„ í•˜ë„ë¡ ì—°ê²°í•´ì£¼ê²Œ ëœë‹¤. 
```python
# âœ… OpenAI API Key
OPENAI_API_KEY = "sk-proj-..."  # ì‹¤ì œ í‚¤ëŠ” ê¸¸ì–´ì„œ ìƒëµ
client = OpenAI(api_key=OPENAI_API_KEY)
```

### ğŸ“Œ 0-4. ì½”ë“œ ë¦¬ë·° ëŒ€ìƒì´ ì•„ë‹Œ í™•ì¥ì ì œì™¸
- ì´ë¯¸ì§€ íŒŒì¼ì€ ì½”ë“œ ë¦¬ë·° ëŒ€ìƒì´ ì•„ë‹ˆë¯€ë¡œ IMAGE_EXTENSIONS íŠœí”Œì— ë“±ë¡í•˜ê³  
- íŠ¹ì • ê¹ƒí—ˆë¸Œ IDÂ·ì´ë©”ì¼ì€ ë¦¬ë·° ëŒ€ìƒì—ì„œ ì œì™¸í•˜ë„ë¡ ì§‘í•©(set) ìœ¼ë¡œ ë³´ê´€í•œë‹¤.
```py
28 # âœ… ì œì™¸ í™•ì¥ì
29 IMAGE_EXTENSIONS = ('.png', '.jpg', '.jpeg', '.gif', '.svg', '.webp')

31 # âœ… ì œì™¸ ê³„ì •/ì´ë©”ì¼
32 EXCLUDED_USERNAMES = {"leekh4232"}
33 EXCLUDED_EMAILS = {"leekh4232@gmail.com"}
```

### ğŸ“Œ 0-5. ì½”ë“œê°€ ìë™í™” ì„œë²„ì—ì„œ ì‹¤í–‰ë ë•Œ í•œêµ­ í‘œì¤€ì‹œ ì„¤ì •
- os.environ: ë‚´ ì»´í“¨í„°ë‚˜ ì„œë²„ì˜ í™˜ê²½ ë³€ìˆ˜ë¥¼ ì½ëŠ” ê³³ (environment(í™˜ê²½ì„¤ì •))
- .get("GITHUB_ACTIONS") == "true" : í™˜ê²½ë³€ìˆ˜ ì¤‘ì—ì„œ GITHUB_ACTIONSì´ trueì´ë©´ ì´ ì½”ë“œëŠ” Github Actions(ìë™í™” ì„œë²„)ì—ì„œ ì‹¤í–‰ ì¤‘ì´ë¼ëŠ” ëœ»ì´ë‹¤.
- timezone(timedelta(hours=9))ì€ â€œì„¸ê³„í‘œì¤€ì‹œ(UTC)ë³´ë‹¤ 9ì‹œê°„ ë¹ ë¥¸ ì‹œê°„ëŒ€â€ë¥¼ ì˜ë¯¸í•œë‹¤.
- KSTëŠ” **í•œêµ­ í‘œì¤€ì‹œ(Korea Standard Time)**ì˜ ì•½ìì´ë‹¤.
```py
# âœ… KST ì ìš©
36 if os.environ.get("GITHUB_ACTIONS") == "true":
37     KST = timezone(timedelta(hours=9))
38     print("âœ… Github Actions: KST ì ìš©")
39 else:
40     KST = None
41     print("âœ… ë¡œì»¬: ë¡œì»¬ ì‹œê°„ ì‚¬ìš©")
```

### ğŸ“Œ 0-6. ëˆ„ì ë¹„ìš© ì¶”ì ìš© ë³€ìˆ˜
- ì—¬ëŸ¬ë²ˆ llmì„ í˜¸ì¶œí• ë•Œ ë‚˜ì˜¤ëŠ” ì¶”ì •ìš”ê¸ˆì„ í•©ì‚°í•´ì„œ í‘œì‹œí•œë‹¤.
```py
43 # âœ… ëˆ„ì  ë¹„ìš©
44 total_accumulated_cost = 0.0
```

### ğŸ“Œ 0-7. ê¸°ê°„ ë“±ì˜ ì‚¬ìš©ì ì„¤ì • ê°’ë“¤ì„ ì €ì¥í•˜ëŠ” ê°ì²´ ìƒì„± í•¨ìˆ˜
- ArgumentParser ê°ì²´ ë§Œë“¤ê¸°: parser = argparse.ArgumentParser(description="ğŸ“ Git ì»¤ë°‹ ê¸°ë°˜ AI ë¦¬ë·° ë° ë³´ê³ ì„œ ìƒì„±ê¸°")
- ëª…ë ¹í”„ë¡¤í”„íŠ¸ì— ì…ë ¥ëœ ì˜µì…˜ì„ í•´ì„í•˜ëŠ” ë„êµ¬ë¥¼ parserë¼ëŠ” ì´ë¦„ìœ¼ë¡œ ë§Œë“ ë‹¤. descriptionì€ ì´ í”„ë¡œê·¸ë¨ì´ ë¬´ìŠ¨ í”„ë¡œê·¸ë¨ì¸ì§€ ì„¤ëª…í•˜ëŠ” ì„¤ëª…ê¸€ì„ ì¨ë‘ëŠ” ê³³ìœ¼ë¡œ ëª…ë ¹ì–´ì— -h ë˜ëŠ” --help ì˜µì…˜ì„ ì£¼ë©´ ì´ ì„¤ëª…ì´ ê°™ì´ ë³´ì¸ë‹¤.
- parser.add_argument("--all", action="store_true")ì—ì„œ store_trueëŠ” ì´ ì˜µì…˜ì„ ì“°ë©´ ë³€ìˆ˜ê°’ì´ trueê°€ ë˜ê³  ì•ˆì“°ë©´ falseê°€ ë¨ì„ ì˜ë¯¸í•œë‹¤.
- parser.add_argument("--date", type=str)ì—ì„œ type=strì€ --data ë’¤ì— ì˜¤ëŠ” ê°’ì„ ë¬¸ìì—´ë¡œ ì €ì¥í•œë‹¤.
- return parser.parse_args(): ì„ í†µí•´ ì…ë ¥í–ˆë˜ ê°’ë“¤ì„ ë³€ìˆ˜ë¡œ ê°–ëŠ” ê°ì²´ë¥¼ ë¦¬í„´í•´ì¤€ë‹¤.
- python myscript.py --date 2024-07-14 --show ì´ëŸ° ì‹ìœ¼ë¡œ dateë¥¼ ì €ì¥í•˜ê³  show ë³€ìˆ˜ë¥¼ trueë¡œ ì„¤ì •í•´ë‘˜ ìˆ˜ ìˆëŠ” ê°ì²´ê°€ ë§Œë“¤ì–´ì§€ëŠ” ê²ƒì´ë‹¤.
- ì´ë•Œ ì´ëŸ° ê°ì²´ë¥¼ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ê°ì²´ë¼ê³  í•˜ëŠ”ë° ì—¬ëŸ¬ê°œì˜ ê°’ì„ ì´ë¦„:ê°’ í˜•íƒœë¡œ ë‹´ì•„ë‘ê³  ì ì„ ì°ì–´ì„œ ì ‘ê·¼í•  ìˆ˜ ìˆê²Œ í•˜ëŠ” ê°ì²´ë¥¼ ì˜ë¯¸í•œë‹¤.
```py
46 def parse_arguments():
47     parser = argparse.ArgumentParser(description="ğŸ“ Git ì»¤ë°‹ ê¸°ë°˜ AI ë¦¬ë·° ë° ë³´ê³ ì„œ ìƒì„±ê¸°")
48     parser.add_argument("--all", action="store_true")
49     parser.add_argument("--date", type=str)
50     parser.add_argument("--range", type=str)
51     parser.add_argument("--exclude", type=str)
52     parser.add_argument("--show", action="store_true")
53     return parser.parse_args()
```

### ğŸ“Œ 0-8. yml íŒŒì¼ì—ì„œ í•™ìƒë“¤ì˜ ì´ë©”ì¼:ì´ë¦„ì„ ë½‘ì•„ ë”•ì…”ë„ˆë¦¬ë¡œ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜ ì„¤ì •
```py
55 def load_student_mapping():
56     if os.path.exists('_students.yaml'):
57         with open('_students.yaml', encoding='utf-8') as f:
58             students_list = yaml.safe_load(f)
59         return {student['email']: student['name'] for student in students_list}
60     return {}
```

### ğŸ“Œ 0-9. git config --get remote.origin.url ëª…ë ¹ìœ¼ë¡œ ì›ê²© ì €ì¥ì†Œ(ê¹ƒí—ˆë¸Œ) URLì„ ê°€ì ¸ì˜¤ëŠ” í•¨ìˆ˜
- ì°¸ê³ ë¡œ repoëŠ” ë ˆí¬ì§€í† ë¦¬ì˜ ì¤„ì„ë§ì´ë‹¤.
- subprocessëŠ” íŒŒì´ì¬ì—ì„œ í‘œì¤€ìœ¼ë¡œ ì œê³µí•˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬(=ëª¨ë“ˆ)ì´ê¸° ë•Œë¬¸ì— ì„í¬íŠ¸í•˜ê³  ê°ì²´ ìƒì„±ì„ ì•ˆí•´ë„ ë°”ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
- subprocessë¥¼ í†µí•´ git config --get remote.origin.urlë¡œ gitì˜ ì €ì¥ì†Œ urlì„ ê°€ì ¸ì˜¨ë‹¤. ì´ë•Œ check_outputì€ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•´ì„œ ê·¸ ê²°ê³¼ë¥¼ íŒŒì´ì¬ ë³€ìˆ˜ë¡œ ë°›ì•„ì˜¤ëŠ” í•¨ìˆ˜ì´ë‹¤.
- ì´ë•Œ íŒŒì´ì¬ ì½”ë“œì—ì„œ subprocess.check_output(...) ë“±ìœ¼ë¡œ ëª…ë ¹ì„ ì‹¤í–‰í•  ë•ŒëŠ” **â€œí˜„ì¬ íŒŒì´ì¬ íŒŒì¼ì´ ì‹¤í–‰ë˜ëŠ” í´ë”â€**ì˜ ê¹ƒ ì„¤ì •ì„ ê¸°ì¤€ìœ¼ë¡œ ì›ê²© ì €ì¥ì†Œ URLì„ ê°€ì ¸ì˜¤ê²Œ ëœë‹¤.
- ì§€ê¸ˆ ì´ íŒŒì¼ì´ í˜„ì¬ ìš°ë¦¬ ë³´ìŠ¤ í´ë¡ ì½”ë”© í”„ë¡œì íŠ¸ ë‚´ë¶€ì— ìˆìœ¼ë¯€ë¡œ ì´ ê¹ƒ ì €ì¥ì†Œì˜ ì£¼ì†Œë¥¼ ê°€ì ¸ì˜¤ê²Œ ëœë‹¤.
- ì´ëŠ” ê° í´ë”ì— ìˆëŠ” .gitì´ë¼ëŠ” ìˆ¨ê²¨ì§„ í´ë” ì •ë³´ë¥¼ í™œìš©í•˜ì—¬ ì´ë£¨ì–´ì§„ë‹¤.
- SSH ë°©ì‹ (git@github.com:...)ì€ ì›¹ ë¸Œë¼ìš°ì €ì—ì„œ ë°”ë¡œ í´ë¦­í•  ìˆ˜ ì—†ê¸° ë•Œë¬¸ì— HTTPS ë°©ì‹(https://github.com/...)ìœ¼ë¡œ ë°”ê¿”ì£¼ëŠ” ì²˜ë¦¬ê°€ í•„ìš”í•˜ë‹¤.
```py
63 def get_repo_url():
64     repo_url = subprocess.check_output(
65         ['git', 'config', '--get', 'remote.origin.url'],
66         text=True, encoding='utf-8'
67     ).strip()
68     if repo_url.startswith('git@'):
69         repo_url = repo_url.replace(':', '/').replace('git@', 'https://').replace('.git', '')
70     elif repo_url.startswith('https://') and repo_url.endswith('.git'):
71         repo_url = repo_url[:-4]
72     return repo_url
```

### ğŸ“Œ 0-10. ë‚ ì§œ ë²”ìœ„ë¥¼ ë„£ì–´ë‘” ê°ì²´ë¥¼ ì¸ìë¡œ ì‹œì‘ë‚ ì§œì™€ ëë‚ ì§œë¥¼ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜
- nowì— now = datetime.now(KST) if KST else datetime.now()ì´ë ‡ê²Œ í˜„ì¬ ë‚ ì§œë¥¼ êµ¬í•˜ëŠ”ë° KSTê°€ ì„¤ì •ë˜ì–´ ìˆìœ¼ë©´ í•œêµ­ ì‹œê°„ìœ¼ë¡œ í•˜ê³  ì•„ë‹ˆë©´ ê·¸ëƒ¥ ì»´í“¨í„° ì‹œê°„ìœ¼ë¡œ í•œë‹¤.
- if args.all: ì€ ë§Œì•½ --all ì˜µì…˜(ëª¨ë“  ê¸°ê°„ ë¶„ì„)ì´ ì„ íƒë˜ì—ˆë‹¤ë©´ git log ëª…ë ¹ì„ ì´ìš©í•´ ì €ì¥ì†Œì˜ ëª¨ë“  ì»¤ë°‹ ë‚ ì§œ(YYYY-MM-DD í˜•ì‹)ë¥¼ ë§¨ ì²˜ìŒ ê²ƒë¶€í„°(ì˜¤ë˜ëœ ìˆœì„œ) ì­‰ ë¶ˆëŸ¬ì˜¨ë‹¤. ê·¸ë¦¬ê³  ê·¸ ê²°ê³¼ë¥¼ ë¬¸ìì—´ë¡œ ì €ì¥í•˜ê³ , ì•ë’¤ ê³µë°±ë„ ì œê±°í•œë‹¤.
- strptimeì€ strì„ parse timeì´ë¼ëŠ” ëœ»ìœ¼ë¡œ ë¬¸ìì—´ì„ datetimeìœ¼ë¡œ ë§Œë“¤ì–´ì¤€ë‹¤. start_date_output.split('\n')[0], "%Y-%m-%d" ì—¬ê¸°ì„œ ì¤„ ë°”ê¿ˆ ê¸°ì¤€ìœ¼ë¡œ ì²«ë²ˆì§¸ ê²ƒì„ ê°€ì ¸ì™€ì„œ "%Y-%m-%d" í˜•ì‹ì˜ datetimeìœ¼ë¡œ ë§Œë“ ë‹¤.
- timedelta: ì´ëŠ” ì‹œê°„ ê°„ê²©, ì‹œê°„ì˜ ì°¨ì´ë¥¼ ì˜ë¯¸í•œë‹¤. ì¦‰ timedelta(days=1)ì€ í•˜ë£¨ë¼ëŠ” ì‹œê°„ ê°„ê²©ì„ ë§Œë“œëŠ” ì½”ë“œì´ë‹¤. ì´ë•Œ ë¸íƒ€ë¼ëŠ” ì˜ë¯¸ëŠ”  Î”t (ë¸íƒ€ t)ì´ë‹¤.
- ë§Œì•½ elif args.date ì˜µì…˜ìœ¼ë¡œ ì…ë ¥ë˜ì—ˆë‹¤ë©´  start_date = end_date = datetime.strptime(args.date, "%Y-%m-%d")ë¡œ ì‹œì‘ì¼ê³¼ ì¢…ë£Œì¼ì„ ëª¨ë‘ ê°™ì€ ê°’ìœ¼ë¡œ ì €ì¥í•œë‹¤.
- elif args.range ì˜µì…˜ìœ¼ë¡œ ì…ë ¥ë˜ì—ˆë‹¤ë©´ parts = args.range.split(":") ì—ì„œ ì…ë ¥ê°’ì„ ì½œë¡  ê¸°ì¤€ìœ¼ë¡œ ë¶„ë¥˜í•˜ê³  í˜•ì‹ì´ í‹€ë ¸ì„ë•Œ ì´ë¥¼ ì•Œë¦¬ê³  í”„ë¡œê·¸ë¨ì„ ì¢…ë£Œí•œë‹¤.
- start_date = datetime.strptime(parts[0], "%Y-%m-%d"),  end_date = datetime.strptime(parts[1], "%Y-%m-%d") ì˜ë¦° ê°’ ì¤‘ ì•ìª½ì€ ì‹œì‘ì¼, ë’¤ìª½ì€ ì¢…ë£Œì¼ë¡œ ë³€í™˜í•˜ì—¬ ì €ì¥í•œë‹¤.
- ì˜µì…˜ì´ ì•„ë¬´ê²ƒë„ ì—†ìœ¼ë©´ start_date = end_date = now - timedelta(days=1)ì—ì„œ ì–´ì œ í•˜ë£¨ë§Œ ë¶„ì„í•˜ê²Œ ëœë‹¤.
- ê·¸ë¦¬ê³  ëë‚˜ë©´ return start_date, end_dateì´ë ‡ê²Œ ì‹œì‘ì¼ê³¼ ì¢…ë£Œì¼ì„ ë°˜í™˜í•´ì¤€ë‹¤.
```py
 def determine_date_range(args):
74     now = datetime.now(KST) if KST else datetime.now()
75     if args.all:
76         start_date_output = subprocess.check_output(
77             ['git', 'log', '--reverse', '--pretty=format:%ad', '--date=short'],
78             text=True, encoding='utf-8'
79         ).strip()
80         start_date = datetime.strptime(start_date_output.split('\n')[0], "%Y-%m-%d")
81         end_date = now - timedelta(days=1)
82     elif args.date:
83         start_date = end_date = datetime.strptime(args.date, "%Y-%m-%d")
84     elif args.range:
85         parts = args.range.split(":")
86         if len(parts) != 2:
87             print("âŒ ì˜ëª»ëœ --range í˜•ì‹ì…ë‹ˆë‹¤. YYYY-MM-DD:YYYY-MM-DD")
88             exit(1)
89         start_date = datetime.strptime(parts[0], "%Y-%m-%d")
90         end_date = datetime.strptime(parts[1], "%Y-%m-%d")
91     else:
92         start_date = end_date = now - timedelta(days=1)
93     return start_date, end_date
```

### ğŸ“Œ 0-11. ì»¤ë°‹ ë©”ì„¸ì§€ì˜ íƒ€ì…ë¶„ë¥˜ í•¨ìˆ˜
- ì»¤ë°‹ë©”ì„¸ì§€ë¥¼ ê³ ì •ëœ ê¸°ì¤€ìœ¼ë¡œ ë¶„ë¥˜í•˜ê¸° ìœ„í•œ í•¨ìˆ˜ì´ë‹¤.
- í˜„ì¬ í”„ë¡œê·¸ë¨ì—ì„œëŠ” ì“°ì´ì§€ ì•Šì§€ë§Œ ì¶”í›„ í™•ì¥ë  ìˆ˜ ìˆë‹¤.
```py
95 def categorize(message):
96     msg_lower = message.lower()
97     if msg_lower.startswith('feat:'):
98         return 'Feature'
99     elif msg_lower.startswith('fix:'):
100        return 'Bugfix'
101    elif msg_lower.startswith('docs:'):
102        return 'Documentation'
103    elif msg_lower.startswith('chore:'):
104        return 'Chore'
105    elif msg_lower.startswith('refactor:'):
106        return 'Refactor'
107    else:
108        return 'Misc'
```

### ğŸ“Œ 0-12. chat-gpt api í˜¸ì¶œ í•¨ìˆ˜
- file_contents: í•™ìƒì˜ ì½”ë“œ(ì—¬ëŸ¬ íŒŒì¼ ë‚´ìš©ì´ í•©ì³ì§„ ë¬¸ìì—´)
- current_index, total: ì „ì²´ ì¤‘ ëª‡ ë²ˆì§¸ì¸ì§€ í‘œì‹œ(í”„ë¡œê·¸ë ˆìŠ¤ë°”ìš©, ì˜µì…˜)
- global total_accumulated_costë¥¼ í†µí•´ í•¨ìˆ˜ ì•ˆì—ì„œë„ ê°’ì„ ë°”ê¿€ ìˆ˜ ìˆê²Œ ì„ ì–¸í•œë‹¤. íŒŒì´ì¬ì€ ê·¸ëƒ¥ total_accumulated_cost ì´ë ‡ê²Œ ì“°ë©´ ìƒˆë¡œ ì„ ì–¸í•œê²Œ ë¼ì„œ ê·¸ë ‡ë‹¤. (ì•ì— ë°ì´í„° íƒ€ì…ì´ ìƒëµë˜ê¸° ë•Œë¬¸)
- prompt ì•ˆì— file_contents[:3000]ë¡œ ìµœëŒ€ 3000ìê¹Œì§€ì˜ í•™ìƒì˜ ì½”ë“œë¥¼ ë„£ìŒ.
- client.chat.completions.createë¥¼ í†µí•´ gpt ëª¨ë¸ì„ ì„¤ì •í•˜ê³  systemì˜ ì—­í• ê³¼ userì˜  ë‚´ìš©ì„ ë¬¶ì–´ì„œ ë©”ì„¸ì§€ë¥¼ ë³´ë‚¸ë‹¤.
- "system"ì—ëŠ” ì‹œìŠ¤í…œ ì§€ì¹¨ì„ userì—ëŠ” ì›í•˜ëŠ” ë‚´ìš©ì„ ëª©ì ì— ë§ê²Œ ììœ ë¡­ê²Œ ë„£ì–´ì•¼ í•œë‹¤.
- review = response.choices[0].message.content.strip() ìœ¼ë¡œ ì²«ë²ˆì§¸ ë‹µë³€ì˜ í…ìŠ¤íŠ¸ë¥¼ ë¬¸ìì—´ë¡œ êº¼ë‚´ì„œ reviewë¡œ ì €ì¥í•œë‹¤.
- response.usageëŠ” ì´ë²ˆ API í˜¸ì¶œì— ì‚¬ìš©ëœ í† í° ê°œìˆ˜(=AIê°€ ì½ê³  ì“´ ë‹¨ì–´ ì¡°ê° ìˆ˜)ë¥¼ ì˜ë¯¸í•œë‹¤.
- estimated_cost = total_tokens * 0.00001 í† í° ê°œìˆ˜ì— ë‹¨ê°€ë¥¼ ê³±í•´ì„œ ëˆ„ì  ê¸ˆì•¡ì— ë”í•œë‹¤.
- prefix = f"[{current_index}/{total}] " if current_index and total else "" ì€ ì „ì²´ ë¦¬ë·° ì¤‘ ëª‡ë²ˆì§¸ì¸ì§€ í‘œì‹œí•  ì ‘ë‘ì‚¬ì´ë‹¤. [3/10] ì²˜ëŸ¼ í‘œì‹œí•˜ê²Œ ëœë‹¤.
- ì´ ê³¼ì •ì„ ê±°ì³ ìƒì„±í•œ ë¦¬ë·° ê²°ê³¼ë¥¼  return reviewë¡œ ë°˜í™˜í•œë‹¤.
```py
def get_llm_review_for_student(file_contents, current_index=None, total=None):
111     global total_accumulated_cost
112     try:
113         prompt = (
114             "ë‹¤ìŒì€ í•™ìƒì´ ì‘ì„±í•œ JAVA ë˜ëŠ” JS/TS ì½”ë“œ ì—¬ëŸ¬ íŒŒì¼ ë‚´ìš©ì…ë‹ˆë‹¤.\n\n"
... (ì¤‘ëµ) ...
123             f"```\n{file_contents[:3000]}\n```"
124         )
125
126         response = client.chat.completions.create(
127             model="gpt-4o",
128             messages=[
129                 {"role": "system", "content": "ë„ˆëŠ” ìˆ™ë ¨ëœ ì½”ë“œ ë¦¬ë·°ì–´ì•¼."},
130                 {"role": "user", "content": prompt}
131             ]
132         )
133
134         review = response.choices[0].message.content.strip()
135         usage = response.usage
136         total_tokens = usage.total_tokens
137         estimated_cost = total_tokens * 0.00001
138         total_accumulated_cost += estimated_cost
139
140         prefix = f"[{current_index}/{total}] " if current_index and total else ""
141         print(f"{prefix}ì‚¬ìš©ëŸ‰: {total_tokens} tokens, ì˜ˆìƒ ë¹„ìš©=${estimated_cost:.4f}, ëˆ„ì =${total_accumulated_cost:.4f}")
142
143         return review
144
145     except Exception as e:
146         print(f"âš ï¸ ë¦¬ë·° ìƒì„± ì‹¤íŒ¨: {e}")
147         return None
```

### ğŸ“Œ 0-13. íŒŒì¼ì„ ê°€ì ¸ì™€ì„œ ê·¸ë¥¼ ë°”íƒ•ìœ¼ë¡œ ë§ˆí¬ë‹¤ìš´ì— í‰ê°€ì„œë¥¼ ì‘ì„±í•˜ëŠ” í•¨ìˆ˜
- git log --since="2024-07-15 00:00" --until="2024-07-15 23:59" --pretty=format:%H ëª…ë ¹ì–´ëŠ” 2024-07-15ì¼ì— ì»¤ë°‹ëœ ëª¨ë“  ì»¤ë°‹ì˜ SHA í•´ì‹œê°’(ì‹ë³„ì) ë¦¬ìŠ¤íŠ¸ë¥¼ ë°›ëŠ”ë‹¤.
- SHAëŠ” â€œSecure Hash Algorithmâ€ì˜ ì•½ìì´ë©° ë°ì´í„°ë¥¼ íŠ¹ë³„í•œ ë°©ì‹ìœ¼ë¡œ ì§§ê²Œ ì¤„ì—¬ì£¼ëŠ”(=í•´ì‹±) ì•Œê³ ë¦¬ì¦˜ì˜ ì´ë¦„ì´ë‹¤. ê¹ƒì€ ê° ì»¤ë°‹ì˜ ë‚´ìš© ì „ì²´ë¥¼ í•´ì‹±í•´ì„œ â€œì ˆëŒ€ ê²¹ì¹˜ì§€ ì•ŠëŠ” ê³ ìœ í•œ ë²ˆí˜¸â€ë¡œ ë§Œë“¤ì–´ë‘”ë‹¤. %H ê°€ ì»¤ë°‹ì˜ ì „ì²´ í•´ì‹œê°’ì„ ì˜ë¯¸í•˜ëŠ” ì½”ë“œì´ë‹¤.
- ì•„ë˜ëŠ” ì´ í•¨ìˆ˜ì— í•„ìš”í•œ ì¸ìì´ë‹¤.
```py
current_date         # datetime ê°ì²´, â€˜ì§€ê¸ˆ ë°˜ë³µ ì¤‘ì¸ ë‚ ì§œâ€™
repo_url             # ì›ê²© ì €ì¥ì†Œ URL
email_to_name        # {ì´ë©”ì¼: í•™ìƒì´ë¦„} ë§¤í•‘ ë”•ì…”ë„ˆë¦¬
show_review          # ì½˜ì†”ì— ë¦¬ë·°ë¥¼ ë™ì‹œì— ë³´ì—¬ì¤„ì§€ ì—¬ë¶€(True/False)
exclude_dates        # {datetime, â€¦}  ì§‘í•© â€“ ì²˜ë¦¬ì—ì„œ ì œì™¸í•  ë‚ ì§œ
```
```py
 1 def process_day(current_date, repo_url, email_to_name, show_review, exclude_dates):
 2     # 1) ì²˜ë¦¬ ì œì™¸ ë‚ ì§œì´ë©´ ë°”ë¡œ ë°˜í™˜
 3     if current_date in exclude_dates:
 4         print(f"â­ï¸ {current_date.strftime('%Y-%m-%d')} ì œì™¸ë¨")
 5         return
 6 
 7     # 2) YYYY-MM-DD ë¬¸ìì—´ë¡œ ë³€í™˜
 8     date_str = current_date.strftime("%Y-%m-%d")
 9 
10     # 3) í•˜ë£¨(00:00~23:59) ë™ì•ˆì˜ ì»¤ë°‹ SHA í•´ì‹œ ë¦¬ìŠ¤íŠ¸ ì¶”ì¶œ
11     commit_hashes = subprocess.check_output(
12         ['git', 'log',
13          '--since', f'{date_str} 00:00',
14          '--until', f'{date_str} 23:59',
15          '--pretty=format:%H'],
16         text=True, encoding='utf-8'
17     ).strip().split('\n')
18 
19     # 4) ì»¤ë°‹ì´ ì—†ë‹¤ë©´ ê²½ê³  í›„ ì¢…ë£Œ
20     if not commit_hashes or commit_hashes == ['']:
21         print(f'âš ï¸ {date_str} ì»¤ë°‹ ì—†ìŒ, ìŠ¤í‚µ')
22         return
```
- defaultdictëŠ” â€œí‚¤ê°€ ì—†ì„ ë•Œ ì–´ë–¤ ê°’ì„ ê¸°ë³¸ê°’ìœ¼ë¡œ ì¤„ê¹Œ?â€ ë¼ëŠ” í•¨ìˆ˜ë¥¼ ì¸ìë¡œ ë°›ëŠ”ë‹¤.
- ë§Œì•½ student_logs ë”•ì…”ë„ˆë¦¬ì— ì—†ëŠ” í•™ìƒì´ ë“¤ì–´ì˜¤ë©´, ìë™ìœ¼ë¡œ defaultdict(lambda: {"files": [], "codes": []}) ë¥¼ ë§Œë“¤ì–´ ë°˜í™˜í•´ë¼â€ ë¼ëŠ” ì˜ë¯¸ì´ë‹¤.
```py
23 
24     # 5) í•™ìƒë³„(â‡’1ì°¨)Â·ì»¤ë°‹í—¤ë”ë³„(â‡’2ì°¨)ë¡œ íŒŒì¼/ì½”ë“œ ëª¨ì„ defaultdict ìƒì„±
25     student_logs = defaultdict(
26         lambda: defaultdict(lambda: {"files": [], "codes": []})
27     )
28 
29     # 6) ë¹ˆ ë¬¸ìì—´ ì œê±°
30     valid_commits = [c for c in commit_hashes if c.strip()]
31 
32     # 7) ì§„í–‰ë¥  í‘œì‹œìš© í”„ë¡œê·¸ë ˆìŠ¤ë°” ì„¤ì •
33     pbar = tqdm(total=len(valid_commits),
34                 desc=f"{date_str} í•™ìƒë³„ ì½”ë“œ ìˆ˜ì§‘",
35                 unit="ì»¤ë°‹")
36 
```
- ì»¤ë°‹ í•´ì‹œë¥¼ í†µí•´ ì»¤ë°‹ë³„ë¡œ ì‘ì„± íŒŒì¼ë“¤ê³¼ ë©”íƒ€ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¨ë‹¤.
- --pretty=format:%ad|%ae|%an|%s : ì²« ì¤„ì— ì»¤ë°‹ì˜ ë‚ ì§œ|ì´ë©”ì¼|ì´ë¦„|ë©”ì‹œì§€ë¥¼ í•œ ì¤„ë¡œ ì¶œë ¥í•œë‹¤.
- --name-only : ê·¸ ë‹¤ìŒ ì¤„ë¶€í„°ëŠ” â€œì´ ì»¤ë°‹ì—ì„œ ë³€ê²½ëœ íŒŒì¼ë“¤ì˜ ê²½ë¡œâ€ë§Œ ì¤„ë§ˆë‹¤ ì¶œë ¥í•œë‹¤.
- ê·¸ë˜ì„œ ê²°ê³¼ëŠ” ì•„ë˜ì™€ ê°™ë‹¤.
```bash
2024-07-15 16:30:45 +0900|hong@ex.com|í™ê¸¸ë™|feat: ë¡œê·¸ì¸ ê¸°ëŠ¥ ì¶”ê°€
src/login.js
src/auth.js
README.md
```
- ì´ë¥¼ ë°›ì•„ì˜¤ê³  ë¶„ì„í•˜ëŠ” ê²ƒì€ ì•„ë˜ ì½”ë“œì´ë‹¤.
```py
37     # 8) ê° ì»¤ë°‹ í•´ì‹œì— ëŒ€í•´ ë°˜ë³µ
38     for commit_hash in valid_commits:
39         try:
40             # 8â€‘1) ì»¤ë°‹ ë©”íƒ€ë°ì´í„°ì™€ íŒŒì¼ ëª©ë¡ í•œêº¼ë²ˆì— ê°€ì ¸ì˜¤ê¸°
41             output = subprocess.check_output(
42                 ['git', 'show',
43                  '--name-only',          # ë³€ê²½ëœ íŒŒì¼ ì´ë¦„ë§Œ ì¶”ê°€ ì¶œë ¥
44                  '--pretty=format:%ad|%ae|%an|%s',
45                  '--date=iso',           # ISO8601 ì‹œê°
46                  commit_hash],
47                 text=True, encoding='utf-8'
48             ).strip().split('\n')
49 
50             # 8â€‘2) ì²« ì¤„ í˜•ì‹ì´ ê¸°ëŒ€ì™€ ë‹¤ë¥´ë©´ ê±´ë„ˆëœ€
51             if not output or '|' not in output[0]:
52                 pbar.update(1)
53                 continue
54 
55             # 8â€‘3) ë©”íƒ€ë°ì´í„° ë¶„í•´
56             date_full, email, author_name, message = output[0].split('|', 3)
57             email, author_name, message = email.strip(), author_name.strip(), message.strip()
58 
59             # 8â€‘4) ì œì™¸ ëŒ€ìƒ ì‘ì„±ìì´ë©´ ê±´ë„ˆëœ€
60             if author_name in EXCLUDED_USERNAMES or email in EXCLUDED_EMAILS:
61                 pbar.update(1)
62                 continue
63 
64             # 8â€‘5) ì½”ë“œ íŒŒì¼(.java/.js/.ts)ë§Œ í•„í„°ë§
65             files = [
66                 line.strip().strip("\"'")
67                 for line in output[1:]                 # 2ë²ˆì§¸ ì¤„ë¶€í„°ëŠ” íŒŒì¼ ê²½ë¡œ
68                 if line.strip() and                   # ë¹ˆ ì¤„ ì œì™¸
69                 not line.strip().lower().endswith(IMAGE_EXTENSIONS) and
70                 line.strip().endswith(('.java', '.js', '.ts'))
71             ]
72 
73             # 8â€‘6) ì½”ë“œ íŒŒì¼ ì—†ìœ¼ë©´ ê±´ë„ˆëœ€
74             if not files:
75                 pbar.update(1)
76                 continue
77 
```
- íŒŒì¼ì´ë¦„ê³¼ í•´ì‹œë¥¼ í†µí•´ íŒŒì¼ ë‚´ë¶€ì˜ ë‚´ìš©ì„ ë½‘ì•„ëƒ„
```py
78             # 8â€‘7) ì—¬ëŸ¬ íŒŒì¼ì˜ ì†ŒìŠ¤ì™€ ë§í¬ë¥¼ ìˆ˜ì§‘
79             combined_contents = ""
80             file_links = []
81             for file in files:
82                 try:
83                     # í•´ë‹¹ ì‹œì ì˜ íŒŒì¼ ë‚´ìš©
84                     content = subprocess.check_output(
85                         ['git', 'show', f'{commit_hash}:{file}'],
86                         text=True, encoding='utf-8', errors='ignore'
87                     )
88                     combined_contents += f"\n// {file}\n{content}\n"
89 
```
- https://github.com/myorg/myrepo/blob/23a5c7c9bfe1.../src/login.js ì´ êµ¬ì¡°ëŠ” GitHubì˜ â€œblobâ€ URLë¡œ ì»¤ë°‹ í•´ì‹œë³„ë¡œ í•´ë‹¹ íŒŒì¼ì„ ë°”ë¡œ ë³¼ ìˆ˜ ìˆëŠ” ì£¼ì†Œì´ë‹¤.
- ì´ ì£¼ì†Œë¥¼ ë§ˆí¬ë‹¤ìš´ íŒŒì¼ì— - [`src/login.js`](https://github.com/myorg/myrepo/blob/23a5c7c9bfe1.../src/login.js) ì²˜ëŸ¼ ë§í¬ë¡œ ë§Œë“¤ì–´ì¤€ë‹¤.
```py
90                     # ì›¹ì—ì„œ ë³¼ ìˆ˜ ìˆëŠ” blob ë§í¬
91                     file_url = f"{repo_url}/blob/{commit_hash}/{file}"
92                     file_links.append(f"- [`{file}`]({file_url})")
93                 except subprocess.CalledProcessError:
94                     continue
95 
96             # 8â€‘8) ì½”ë“œê°€ ë¹„ì–´ ìˆìœ¼ë©´ íŒ¨ìŠ¤
97             if not combined_contents.strip():
98                 pbar.update(1)
99                 continue
100
101            # 8â€‘9) ì»¤ë°‹ ì‹œê°(ISO) â†’ datetime â†’ KST(ì„ íƒ) â†’ â€œHH:MMâ€
102            commit_dt = datetime.fromisoformat(
103                date_full.strip().replace(' ', 'T')
104            )
105            if KST:
106                commit_dt = commit_dt.astimezone(KST)
107            commit_time = commit_dt.strftime("%H:%M")
108
109            # 8â€‘10) í•™ìƒ ì´ë¦„ ë§¤í•‘(ì—†ìœ¼ë©´ ì´ë©”ì¼ ê·¸ëŒ€ë¡œ)
110            author_display = (
111                f"{email_to_name.get(email, email)} ({email})"
112                if email in email_to_name else email
113            )
114
115            # 8â€‘11) â€˜ì‹œê° - ë©”ì‹œì§€â€™ í˜•íƒœ ì œëª©
116            commit_header = f"{commit_time} - {message}"
117
```
- ë”•ì…”ë„ˆë¦¬ì— í•™ìƒë³„ë¡œ ì°¨ê³¡ ì°¨ê³¡ íŒŒì¼ì„ ìŒ“ì•„ ì €ì¥í•œë‹¤.
```py
118            # 8â€‘12) defaultdict êµ¬ì¡°ì— íŒŒì¼Â·ì½”ë“œ ì¶”ê°€
119            student_logs[author_display][commit_header]["files"].extend(file_links)
120            student_logs[author_display][commit_header]["codes"].append(combined_contents)
121
122            pbar.update(1)
123
124        except Exception as e:
125            # 8â€‘13) ì–´ë–¤ ì´ìœ ë¡œë“  ì‹¤íŒ¨í•˜ë©´ ê²½ê³  ì¶œë ¥ í›„ ê³„ì†
126            print(f"âš ï¸ {commit_hash} ì²˜ë¦¬ ì˜¤ë¥˜: {e}")
127            pbar.update(1)
128            continue
129
130    # 9) í”„ë¡œê·¸ë ˆìŠ¤ë°” ì¢…ë£Œ
131    pbar.close()
132
133    # 10) ìœ íš¨í•œ í•™ìƒ ë¡œê·¸ê°€ í•˜ë‚˜ë„ ì—†ìœ¼ë©´ ì¢…ë£Œ
134    if not student_logs:
135        print(f"âš ï¸ {date_str} ìœ íš¨í•œ í•™ìƒ ì½”ë“œ ì—†ìŒ, ìŠ¤í‚µ")
136        return
137
```
- ë§ˆí¬ë‹¤ìš´ ì‘ì„±ì„ ì‹œì‘í•˜ë©´ì„œ íŒŒì¼ì´ë¦„ì„ mdë¡œ í•˜ë©´ ë§ˆí¬ë‹¤ìš´ìœ¼ë¡œ ì‘ì„±ëœë‹¤.
- íŒŒì¼ì— ì—¬ëŸ¬ ì •ë³´ë“¤ê³¼ chat-gpt api í˜¸ì¶œ í•¨ìˆ˜ë¡œ í•™ìƒì˜ ì½”ë“œë¥¼ ë³µì‚¬í•˜ì—¬ gptì— ë¬¼ì–´ë³´ê³  ë°›ì€ ê²°ê³¼ë¥¼ ì €ì¥í•œë‹¤. (f.write)
- 
```py
138    # 11) ë³´ê³ ì„œ íŒŒì¼ ê²½ë¡œ ì¤€ë¹„
139    filename = f'_reports/{date_str}.md'
140    os.makedirs('_reports', exist_ok=True)
141    now = datetime.now(KST) if KST else datetime.now()
142
143    # 12) Markdown íŒŒì¼ ì‘ì„± ì‹œì‘
144    with open(filename, 'w', encoding='utf-8') as f:
145        f.write(f'# í”„ë¡œì íŠ¸ ì½”ë“œ ë¦¬ë·° ({date_str})\n\n')
146        f.write(f'- ì €ì¥ì†Œ: [{repo_url}]({repo_url})\n')
147        f.write(f'- ì‘ì„±ì¼: {now.strftime("%Y-%m-%d %H:%M:%S")}\n')
148        f.write(f'- ì‘ì„±ì: ì´ê´‘í˜¸ ê°•ì‚¬\n\n')
149        f.write("âš ï¸ **ë³¸ ë¦¬ë·°ëŠ” í•™ìƒë³„ ì¼ì¼ í†µí•© ë¦¬ë·°ë¡œ HTML/CSS ì œì™¸ë©ë‹ˆë‹¤.**\n\n")
150
151        total_reviews = len(student_logs)   # í•™ìƒ ìˆ˜
152        current_review = 0
153
154        # 13) í•™ìƒë³„ë¡œ ìˆœíšŒ
155        for student, commits in student_logs.items():
156            current_review += 1
157            f.write(f'## ğŸ‘¤ {student}\n\n')
158
159            # 13â€‘1) í•™ìƒì˜ ì»¤ë°‹ í—¤ë”Â·íŒŒì¼ ëª©ë¡ ì‘ì„±
160            for commit_header, data in commits.items():
161                f.write(f"### â° {commit_header}\n\n")
162                if data["files"]:
163                    f.write("**ì‘ì—…í•œ íŒŒì¼:**\n")
164                    for link in sorted(set(data["files"])):
165                        f.write(f"{link}\n")
166                    f.write("\n")
167
168            # 13â€‘2) í•™ìƒì˜ ëª¨ë“  ì½”ë“œ í•©ì³ì„œ GPTâ€‘4o ë¦¬ë·° ìš”ì²­
169            combined_code = "\n".join(
170                code
171                for commits in student_logs[student].values()
172                for code in commits["codes"]
173            )
174            review_text = get_llm_review_for_student(
175                combined_code, current_review, total_reviews
176            )
177
178            # 13â€‘3) ë¦¬ë·° ê²°ê³¼ ì €ì¥(+ì˜µì…˜ì— ë”°ë¼ ì½˜ì†” ì¶œë ¥)
179            if review_text:
180                if show_review:
181                    print(f"\nğŸ“ ë¦¬ë·° for {student}:\n{review_text}\n")
182                f.write("### ğŸ§© ë¦¬ë·°\n\n")
183                f.write(f"{review_text}\n\n")
184
185    # 14) í•¨ìˆ˜ ì¢…ë£Œ ì‹œ ì™„ë£Œ ë©”ì‹œì§€
186    print(f'âœ… {date_str} ë³´ê³ ì„œ ìƒì„± ì™„ë£Œ')
```

### ğŸ“Œ 0-14. ìœ„ì˜ ëª¨ë“  í•¨ìˆ˜ë¥¼ ìˆœì„œëŒ€ë¡œ í˜¸ì¶œí•¨ 
- ëª¨ë“  ì •ë³´ë¥¼ ì¤€ë¹„í•˜ì—¬ ì‹œì‘ ë‚ ì§œë¶€í„° 1ì”© ë‚ ì§œë¥¼ ì¦ê°€ì‹œì¼œê°€ë©´ì„œ end_dateê¹Œì§€ ëª¨ë“  ë‚ ì§œì— ëŒ€í•´ ë¦¬í¬íŠ¸ë¥¼ ì‘ì„±í•œë‹¤.
```py
def main():
    args = parse_arguments()
    repo_url = get_repo_url()
    email_to_name = load_student_mapping()
    start_date, end_date = determine_date_range(args)
    exclude_dates = {datetime.strptime(d.strip(), "%Y-%m-%d") for d in args.exclude.split(",")} if args.exclude else set()

    current_date = start_date
    while current_date <= end_date:
        process_day(current_date, repo_url, email_to_name, args.show, exclude_dates)
        current_date += timedelta(days=1)

    print('ğŸ‰ ëª¨ë“  ë³´ê³ ì„œ ìƒì„± ì™„ë£Œ')
```