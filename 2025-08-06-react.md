# ğŸ“Œ 0. redux crud í™œìš© 
### ğŸ“Œ 0-1. reduxì—ì„œ ajax ë§¤ì»¤ë‹ˆì¦˜ ì¬ì •ë¦¬
- ì´ì „ ì •ë¦¬ì—ì„œ ì²­í¬ì™€ ë¦¬ë“€ì„œì— ëŒ€í•´ ì •ë¦¬ë¥¼ ëª¨í˜¸í•˜ê²Œ í•´ì„œ í•œë²ˆ ì¬ì •ë¦¬í•˜ë ¤ê³  í•œë‹¤.
- ìš°ì„  ë¦¬ë“€ì„œëŠ” ìŠ¬ë¼ì´ìŠ¤ ë‚´ë¶€ì— ë“±ë¡í•˜ë©° ìŠ¬ë¼ì´ìŠ¤ëŠ” í•˜ë‚˜ì˜ ìƒíƒœì™€ ê·¸ ìƒíƒœë¥¼ ë³€ê²½í•˜ëŠ” ë¦¬ë“€ì„œë“¤ì„ ê´€ë¦¬í•œë‹¤.
- ê·¸ë¦¬ê³  ìŠ¬ë¼ì´ìŠ¤ëŠ” ìŠ¤í† ì–´ì— ì €ì¥í•˜ì—¬ ìŠ¬ë¼ì´ìŠ¤ contextë¥¼ ë¦¬ì•¡íŠ¸ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ë“±ë¡í•œë‹¤.
- ì²­í¬ëŠ” reduxì—ì„œ ajaxì˜ ìƒíƒœë¥¼ ê´€ë¦¬í•  ìˆ˜ ìˆë„ë¡ ajax ë‹¨ìœ„ë¥¼ ê°ì‹¸ì£¼ëŠ” ì¥ì¹˜ì´ê³  ì²­í¬ë¡œ ë§Œë“¤ë©´ redux contextëŠ” ajaxì˜ pending, fulfilled, rejectedì˜ ìƒíƒœë¥¼ ì¶”ì  ê´€ì°°í•  ìˆ˜ ìˆê²Œëœë‹¤.
- ìŠ¬ë¼ì´ìŠ¤ì—ì„œ ìƒíƒœë¥¼ ì§ì ‘ ë³€ê²½í•˜ëŠ” í•¨ìˆ˜ë¥¼ ë§Œë“œë ¤ë©´ reducersì— ì§ì ‘ ì•¡ì…˜ í•¨ìˆ˜ë¥¼ ë“±ë¡í•˜ê³  ë‹¤ë¥¸ ê³³ì—ì„œ ì´ë¥¼ ì§ì ‘ ì½”ë”©í•˜ì—¬ ì‚¬ìš©í•˜ë©´ ëœë‹¤.
- ë§Œì•½ ë³€í•˜ëŠ” ìƒíƒœë¥¼ contextì—ì„œ ê´€ì°°í•˜ê³  ê·¸ ìƒí™©ì— ë§ê²Œ ìë™ìœ¼ë¡œ ì•¡ì…˜í•¨ìˆ˜ë¥¼ ë°œë™ì‹œí‚¤ê²Œ í•˜ê³  ì‹¶ë‹¤ë©´ ì´ëŠ” extraReducersì— ìƒíƒœ, ì•¡ì…˜í•¨ìˆ˜ í˜•íƒœë¡œ ë“±ë¡í•œë‹¤.
- ë“±ë¡í•˜ë©´ í•´ë‹¹ ìƒíƒœê°€ ë°”ë€Œì—ˆì„ë•Œ ê°™ì´ ë“±ë¡í•œ ì•¡ì…˜í•¨ìˆ˜ë¥¼ redux contextë¥¼ ê´€ë¦¬í•˜ëŠ” ì»¨íŠ¸ë¡¤íƒ€ì›Œì—ì„œ ìë™ìœ¼ë¡œ ì‹¤í–‰í•´ì¤€ë‹¤.
- ì•„ë˜ì˜ ì˜ˆì—ì„œëŠ” ì²­í¬ë¡œ ë“±ë¡í•´ ê´€ì°°í•  ìˆ˜ ìˆê²Œëœ ajaxì˜ pending, fulfilled, rejected ìƒíƒœì— ë³€í™” ì¦‰ í•´ë‹¹ ìƒíƒœê°€ ë˜ì—ˆì„ ë•Œ ê°™ì´ ë“±ë¡í•œ ë¯¸ë¦¬ ì •ì˜í•´ë‘” pending, fulfilled, rejectedë¼ëŠ” í•¨ìˆ˜ê°€ ì‹¤í–‰ë˜ëŠ” ê²ƒì´ë‹¤. 
- ì•¡ì…˜í•¨ìˆ˜ ì´ë¦„ì„ ê¼­ pending, fulfilled, rejected ì´ë ‡ê²Œ í•  í•„ìš”ì—†ê³  ì›ë˜ëŠ” ê·¸ëƒ¥ í™”ì‚´í‘œ í•¨ìˆ˜ë¡œ ë°”ë¡œ ì¨ë„ ë˜ì§€ë§Œ ì—¬ê¸°ì„  ê·¸ëƒ¥ ì´ë ‡ê²Œ í•˜ì˜€ë‹¤.
- ì•„ë˜ëŠ” ì²­í¬ë¥¼ ë§Œë“œëŠ” ì½”ë“œì´ë‹¤.
```js
get: async (alias, url, callback = (payload) => {return {url: url, params: payload}}) => {
        return createAsyncThunk(alias, async (payload, {rejectWithValue}) => {
            let result = null;
            const {url, params} = callback(payload);

            try {
                result = await fetchHelper.get(url, params);
            } catch (err) {
                result = rejectWithValue(err);
            }

            return result;
        })
    },
```
- ì•„ë˜ëŠ” ì²­í¬ì˜ ìƒíƒœë³€í™”ë¥¼ ê´€ì°°í•˜ì—¬ ì‘ë™í•˜ëŠ” ì•¡ì…˜í•¨ìˆ˜ë¥¼ extraReducersì— ë“±ë¡í•˜ëŠ” ì½”ë“œì´ë‹¤.
```js
getDefaultSlice: (slideName, extraReducers = [], callback = {}, reducers = {}) => {
        return createSlice ({
            name: slideName,
            
            initialState: {
                status: 200,
                message: "OK",
                item: null,
                timstamp: null,
                loading: false,
            },

            reducers: reducers,

            extraReducers: (builder) => {
                extraReducers.forEach((v, i) => {
                    builder.addCase(v.pending, pending)
                            .addCase(v.fulfilled, callback[v.fulfilled] || fulfilled)
                            .addCase(v.rejected, rejected);
                });
            },
        });
    },
```


### ğŸ“Œ 0-2. ìˆ˜ì •
- ê°€ìš´ë°ê°€ ìˆ˜ì • ì½”ë“œì´ë‹¤. ìˆ˜ì •ì˜ ìƒíƒœë³€í™”ë¥¼ ê´€ì°°í•´ì„œ ì‘ë™í•˜ëŠ” í•¨ìˆ˜ë¥¼ ì¬ì •ì˜í•˜ëŠ”ë° ì´ë•Œ êµ³ì´ ìƒíƒœê°’ í˜•ì‹ê³¼ ê°™ì€ ê°ì²´ë¥¼ ë¦¬í„´í•˜ì§€ ì•Šê³  ê·¸ëƒ¥ ë°”ê¾¸ê³  ì‹¶ì€ ìƒíƒœê°’ë§Œ ë°”ê¾¸ì–´ì£¼ì–´ë„ ë¬´ë°©í•˜ë‹¤.
- ì´ë•Œ ë°›ì•„ì˜¨ ìˆ˜ì •ê°’ì„ ê¸°ì¤€ìœ¼ë¡œ ê¸°ì¡´ì˜ ìƒíƒœì— ë“¤ì–´ìˆë˜ ëª¨ë“  ê°ì²´ë¥¼ ìˆœíšŒí•˜ë©´ì„œ ìˆ˜ì •ëœ ì‚¬í•­ë§Œ ìˆ˜ì •ëœ ì‚¬í•­ìœ¼ë¡œ ë°”ê¾¸ì–´ì¤€ë‹¤.
```js
const ProfessorSlice = reduxHelper.getDefaultSlice("ProfessorSlice", [getList, getItem, postItem, putItem, deleteItem], {
    [postItem.fulfilled]: (state, {meta, payload}) => {
        return {
            ...state,
            loading: false,
            item: [...state.item, payload.item]
        };
    },
    [putItem.fulfilled]: (state, {meta, payload}) => {
        const updateItem = payload.item;

        state.item = state.item.map(professor => professor.id === updateItem.id ? updateItem : professor);

        state.loading = false;
    },
    [deleteItem.fulfilled]: (state, {meta, payload}) => {
        const id = meta.arg;

        return {
            ...state,
            loading: false,
            item: state.item.filter(item => item.id !== id)
        };
    }
});
```
- ê¸°ì¡´ ì…ë ¥ê°’ì€ defaultValue={professorItem?.phone}ë¡œ defaultValueë¥¼ ì‚¬ìš©í•´ì„œ ì…ë ¥í•´ë‘ê³  í¼ë°ì´í„°ê°€ ì œì¶œë˜ì—ˆì„ë•Œ ì‹¤í–‰í•  í•¨ìˆ˜ë¥¼ useCallbackìœ¼ë¡œ ê°ì‹¸ì„œ ì •ì˜í•´ë‘”ë‹¤.
- ê·¸ë¦¬ê³  ì´ë¥¼ onSubmit ì´ë²¤íŠ¸ì—ì„œ í™œìš©í•œë‹¤.
```js
const ProfessorEditContainer = styled.div``;

const ProfessorEdit = memo(() => {
    /** Path ë³€ìˆ˜ê°’ ê°€ì ¸ì˜¤ê¸° */
    const { id } = useParams();

    /** í˜ì´ì§€ ê°•ì œ ì´ë™ í•¨ìˆ˜ ìƒì„± */
    const navigate = useNavigate();

    /** ë¦¬ë•ìŠ¤ ìƒíƒœê°’ ê°€ì ¸ì˜¤ê¸° */
    const { loading, status, message, item } = useSelector((state) => state.ProfessorSlice);

    /** ë¦¬ë•ìŠ¤ ê´€ë ¨ í•¨ìˆ˜ ìƒì„± */
    const dispatch = useDispatch();

    /** ìˆ˜ì •í•  í•­ëª©ì„ idë¡œ íƒìƒ‰ */
    const professorItem = useMemo(() => {
        if (!item || Object.keys(item).length === 0) return null;
        return item.find((v) => v.id === parseInt(id));
    }, [item, id]);

    const onHandleSubmit = useCallback((e) => {
        e.preventDefault();

        const formData = new FormData(e.target);
        formData.append("id", id); // idë¥¼ ì¶”ê°€í•´ì„œ ìˆ˜ì • ìš”ì²­ìœ¼ë¡œ ì²˜ë¦¬

        (async () => {
            try {
                await dispatch(putItem(formData));
            } catch (err) {
                console.error("Error adding professor:", err);
                alert("êµìˆ˜ ì¶”ê°€ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.");
                return;
            }

            navigate(`/view/${id}`);
        })();
    }, [dispatch, id, navigate]);

    return (
        <ProfessorEditContainer>
            <Spinner loading={loading} />
            <ErrorView status={status} message={message} />
            {/* ì„œë²„ì—ì„œ ë°›ì€ ì‚¬ì§„ urlë¡œ ì…ë ¥í¼ ë°›ìŒ => ì—…ë¡œë“œë¡œ ì‚¬ì§„ urlì€ ê¸°ì¡´ê°’ ê·¸ëŒ€ë¡œ ìœ ì§€ì‹œí‚´ */}
            <input type="hidden" name="photo_url" value={professorItem?.photo_url || ""} />

            <TableInput>
                <tbody>
                    <tr>
                        <th>êµìˆ˜ì´ë¦„</th>
                        <td>
                            <input type="text" name="name" placeholder="êµìˆ˜ ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”" defaultValue={professorItem?.name} />
                        </td>
                    </tr>
                    <tr>
                        <th>ì•„ì´ë””</th>
                        <td>
                            <input type="text" name="user_id" placeholder="ì•„ì´ë””ë¥¼ ì…ë ¥í•˜ì„¸ìš”" defaultValue={professorItem?.user_id} />
                        </td>
                    </tr>
                    <tr>
                        <th>ì§ê¸‰</th>
                        <td>
                            <select name="position" defaultValue={professorItem?.position}>
                                <option value="ì¡°êµìˆ˜">ì¡°êµìˆ˜</option>
                                <option value="ë¶€êµìˆ˜">ë¶€êµìˆ˜</option>
                                <option value="ì •êµìˆ˜">ì •êµìˆ˜</option>
                            </select>
                        </td>
                    </tr>
                    <tr>
                        <th>ì…ì‚¬ì¼ì</th>
                        <td>
                            <input type="date" name="hiredate" placeholder="ì…ì‚¬ì¼ì„ ì„ íƒí•˜ì„¸ìš”" defaultValue={dayjs(professorItem?.hiredate).format("YYYY-MM-DD")} />
                        </td>
                    </tr>
                    <tr>
                        <th>ê¸‰ì—¬(ë§Œì›)</th>
                        <td>
                            <input type="number" name="sal" placeholder="ê¸‰ì—¬ë¥¼ ì…ë ¥í•˜ì„¸ìš”" defaultValue={professorItem?.sal} />
                        </td>
                    </tr>
                    <tr>
                        <th>ë³´ì§ìˆ˜ë‹¹(ë§Œì›)</th>
                        <td>
                            <input type="number" name="comm" placeholder="ë³´ì§ìˆ˜ë‹¹ì„ ì…ë ¥í•˜ì„¸ìš”" defaultValue={professorItem?.comm} />
                        </td>
                    </tr>
                    <tr>
                        <th>ì´ë©”ì¼</th>
                        <td>
                            <input type="email" name="email" placeholder="ì´ë©”ì¼ì„ ì…ë ¥í•˜ì„¸ìš”" defaultValue={professorItem?.email} />
                        </td>
                    </tr>
                    <tr>
                        <th>ì—°ë½ì²˜</th>
                        <td>
                            <input type="tel" name="phone" placeholder="ì—°ë½ì²˜ë¥¼ ì…ë ¥í•˜ì„¸ìš”" defaultValue={professorItem?.phone} />
                        </td>
                    </tr>
                    <tr>
                        <th>ì¬ì§ì—¬ë¶€</th>
                        <td>
                            <select name="status" defaultValue={professorItem?.status}>
                                <option value="ì¬ì§">ì¬ì§</option>
                                <option value="í‡´ì§">í‡´ì§</option>
                                <option value="íœ´ì§">íœ´ì§</option>
                            </select>
                        </td>
                    </tr>
                    <tr>
                        <th>í•™ê³¼ëª…</th>
                        <td>
                            {/* í•™ê³¼ ì •ë³´ë¥¼ ìœ„í•´ì„œëŠ” departmentë¥¼ ìœ„í•œ Sliceë¥¼ ì¶”ê°€í•˜ê³ , ì…€ë ‰íŠ¸ë¡œë¶€í„° ë°›ì•„ì•¼ ë°ì´í„°ë„ ë„ì „ì ìœ¼ë¡œ êµ¬ì„±í•´ì•¼ í•¨ */}
                            <select name="department_id" defaultValue={professorItem?.department_id}>
                                <option value="201">ì»´í“¨í„°ê³µí•™ê³¼</option>
                                <option value="202">ë©€í‹°ë¯¸ë””ì–´í•™ê³¼</option>
                                <option value="203">ì •ë³´í†µì‹ ê³µí•™ê³¼</option>
                                <option value="103">ê¸°ê³„ê³µí•™ê³¼</option>
                            </select>
                        </td>
                    </tr>
                </tbody>
            </TableInput>
            <Buttons>
                <button type="submit">ìˆ˜ì •í•˜ê¸°</button>
                <Link to="/"><button type="button">ì·¨ì†Œ</button></Link>
            </Buttons>
        </ProfessorEditContainer>
    );
});

export default ProfessorEdit;
```

# ğŸ“Œ 1. dashboard
### ğŸ“Œ 1-1. ë°œìƒí–ˆë˜ import ê´€ë ¨ ë¬¸ì œ
- redux contextë¥¼ í™œìš©í•˜ê¸° ìœ„í•´ì„œ ë‘ê°œì˜ í›…ì„ ê°€ì ¸ì™€ì•¼í•˜ê³  ìŠ¬ë¼ì´ìŠ¤ íŒŒì¼ì— ì •ì˜í•´ë‘” ì²­í¬ë¥¼ ê°€ì ¸ì™€ì•¼í•œë‹¤.
- ì²­í¬ë„ reduxì—ì„œ ìƒíƒœë³€í™”ë¥¼ ê´€ì°°í•˜ëŠ” ëŒ€ìƒì´ë‹ˆ ìŠ¬ë¼ì´ìŠ¤ íŒŒì¼ì— í¬í•¨í•˜ëŠ” ê²ƒì´ ë…¼ë¦¬ì ìœ¼ë¡œ ì–´ìƒ‰í•˜ì§€ëŠ” ì•Šì€ ê²ƒ ê°™ë‹¤.
```js
import { useDispatch, useSelector } from "react-redux";
import {getList} from "../slices/TitanicSlice";
```

### ğŸ“Œ 1-2. graph ì¤‘ê°„ ì§‘ê³„ ë‹¨ê³„
- ê³µí†µì ìœ¼ë¡œ itemì´ ì´ë¯¸ ì¡´ì¬í•˜ë©´ ê°€ì ¸ì˜¤ì§€ ì•Šê³  ì¡´ì¬í•˜ì§€ ì•Šìœ¼ë©´ ë°±ì—”ë“œì—ì„œ ì •ë³´ë¥¼ ë°›ì•„ì˜¨ë‹¤.
- reduceëŠ” {}ê°€ accë¡œ ë“¤ì–´ê°€ê³  ì—¬ê¸°ì— itemì´ curë¡œ ë“¤ì–´ê°€ì„œ ì—°ì‚°ì„í•˜ê³  accë¥¼ ë¦¬í„´í•˜ë©´ ì´ê±¸ ë‹¤ì‹œ ë°›ì•„ì„œ accë¡œ ì“°ê³  ê±°ê¸°ì— ë‹¤ìŒ itemì„ curë¡œ ë„£ì€ ë’¤ì— ë°˜ë³µí•˜ëŠ” êµ¬ì¡°ì´ë‹¤.
- ê²°ê³¼ì ìœ¼ë¡œ item ë‚´ë¶€ì˜ ë‚´ìš©ë“¤ì´ ì „ë¶€ ê°ê° ë‚´ë¶€ í•¨ìˆ˜ì˜ ì²˜ë¦¬ë¥¼ ê±°ì³ì„œ {}ì—¬ê¸° ì¦‰ accì— ìŒ“ì—¬ì„œ ë¦¬í„´ë˜ê²Œ ëœë‹¤.
- ì—¬ê¸°ì„œëŠ” íƒ‘ìŠ¹ìì˜ ì—°ë ¹ëŒ€ë³„ ëª…ìˆ˜ë¥¼ ë‹´ì€ accê°€ ë¦¬í„´ë˜ê³  ì •ë ¬ëœ ì—°ë ¹ëŒ€ì™€ ì—°ë ¹ëŒ€ë³„ ì‚¬ëŒìˆ˜ê°€ ë‹´ê¸´ ë°°ì—´ì´ ê°ê° keysì™€ valuesë¡œ const result = {keys, values}; ì´ì™€ê°™ì´ ë¦¬í„´ëœë‹¤.
```js
// íƒ‘ìŠ¹ì êµ¬ì„±
const Graph1 = memo(() => {
  const {loading, status, message, item} = useSelector((state) => state.TitanicSlice);

  const dispatch = useDispatch();

  useEffect(() => {
    if(item && Array.isArray(item) && item.length > 0) {
      return;
    }
    dispatch(getList());
  }, [dispatch]);

  const {keys, values} = useMemo(() => {
    if (!item){
      return {keys: null, values: null};
    }

    const ageData = item.reduce((acc, cur) => {
      const ageLevel = `${parseInt(cur.age / 10) * 10}ëŒ€`;

      if(acc[ageLevel] == undefined) {
        acc[ageLevel] = 1;
      } else {
        acc[ageLevel]++;
      }

      return acc;
    }, {});

    const keys = Object.keys(ageData).sort();

    const values = keys.map(v => ageData[v]);

    const result = {keys, values};

    return result;
  }, [item]);

  return (
    <Graph1Container>
      <Spinner loading={loading} />
      <ErrorView status={status} message={message} />

      {keys && <div>keys: {JSON.stringify(keys)}</div>}
      {values && <div>values: {JSON.stringify(values)}</div>}
    </Graph1Container>
  );
});
```
- ë‘ë²ˆì§¸ ê·¸ë˜í”„ë„ ê°™ì€ ë¡œì§ì¸ë° ì´ë²ˆì—ëŠ” itemì—ì„œ ì—°ë ¹ëŒ€ë³„ë¡œ ìƒì¡´ì ì‚¬ë§ìë¥¼ boolean ê°’ì¸ survivedì„ ì‚¬ìš©í•˜ì—¬ ë‚˜íƒ€ë‚¸ë‹¤.
- ì´í›„ ì—°ë ¹, ìƒì¡´ì ìˆ˜, ì‚¬ë§ììˆ˜ë¥¼ ê°ê° ë°°ì—´ì— ë‹´ì•„ ë¦¬í„´í•œë‹¤. (mapì„ í™œìš©í•´ ì•„ë˜ì—ì„œ ë§Œë“¤ì–´ì§„ ê°ì²´ë¥¼ ë¶„ë¦¬í•˜ì—¬ ë˜ ë°°ì—´ì„ ë§Œë“ ë‹¤.)
```js
const {keys, values} = useMemo(() => {
    if (!item){
      return {keys: [], survived: [], dead: []};
    }

    const ageData = item.reduce((acc, cur) => {
      const ageLevel = `${parseInt(cur.age / 10) * 10}ëŒ€`;

      if(acc[ageLevel] == undefined) {
        acc[ageLevel] = {survived: 0, dead: 0};
      }

      if (cur.survived) {
        acc[ageLevel].survived++;
      } else {
        acc[ageLevel].dead++;
      }

      return acc;
    }, {});
```
- ì„¸ë²ˆì§¸ ê·¸ë˜í”„ëŠ” íƒ‘ìŠ¹ìì˜ ì„±ë³„ ì •ë³´ë§Œ ë‹´ì•„ì„œ ë¦¬í„´í•˜ëŠ” êµ¬ì¡°ì´ë‹¤.
```js
const sex = useMemo(() => {
    if (!item){
      return [0, 0];
    }

    const maleData = item.reduce((acc, cur) => {
      acc[cur.sex == 'male' ? 0 : 1]++;
      return acc;
    }, [0, 0]);

    return maleData;
    }, {});
```
- 4ë²ˆì§¸ ê·¸ë˜í”„ëŠ” ì„±ë³„ë³„ ìƒì¡´ ì—¬ë¶€ë¥¼ ë‹´ì•„ ë¦¬í„´í•œë‹¤.
```js
/** ì„±ë³„ ìƒì¡´ ì—¬ë¶€ */
  const { survived, dead } = useMemo(() => {
    if (!item) {
      return { survived: [0, 0], dead: [0, 0] };
    }

    const maleData = item.reduce((acc, cur) => {
      const idx = cur.sex == 'male' ? 0 : 1;
      const key = cur.survived ? 'survived' : 'dead';
      acc[key][idx]++;
      return acc;
    }, { survived: [0, 0], dead: [0, 0] });

    return maleData;
  }, [item]);
```
- 5ë²ˆì§¸ ê·¸ë˜í”„ëŠ” ê°ì‹¤ ë“±ê¸‰ë³„ íƒ‘ìŠ¹ê°ìˆ˜, ìƒì¡´, ì‚¬ë§ì„ ë‹´ì•„ì„œ ë¦¬í„´í•œë‹¤.
```js
 /** ê°ì‹¤ë“±ê¸‰(1,2,3)ë³„ íƒ‘ìŠ¹ê°, ìƒì¡´, ì‚¬ë§ ì§‘ê³„ */
  const {passengers, survived, dead} = useMemo(() => {
    if (!item) {
      return {passengers: [0, 0, 0], survived: [0, 0, 0], dead: [0, 0, 0]};
    }

    const pclassData = item.reduce((acc, cur) => {
      const pclass = cur.pclass;
      acc.passengers[pclass-1]++;

      if (cur.survived) {
        acc.survived[pclass-1]++;
      } else {
        acc.dead[pclass-1]++;
      }

      return acc;
    }, {passengers: [0, 0, 0], survived: [0, 0, 0], dead: [0, 0, 0]});

    return pclassData;
  }, [item]);
```
- ì•„ë˜ëŠ” ê·¸ë˜í”„ êµ¬ì¡°ì´ë‹¤. CategoryScaleë¶€í„° Legendê¹Œì§€ëŠ” ì›¬ë§Œí•˜ë©´ ë„£ê³  ì¶”ê°€ë¡œ ê·¸ë˜í”„ì— ë§ëŠ” elementë§Œ BarElementì´ë ‡ê²Œ ì¶”ê°€í•œë‹¤.
- ì´í›„ ì¶”ê°€í•œ ëª¨ë“  ìš”ì†Œë¥¼ Chartì— ë“±ë¡í•˜ì—¬ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í•œë‹¤.
```js
import {
  Chart,
  CategoryScale,
  LinearScale,
  Title,
  Tooltip,
  Legend,
  BarElement,
} from 'chart.js';

import { Bar } from 'react-chartjs-2';

// Chart.jsì—ì„œ importí•œ Chartì»´í¬ë„ŒíŠ¸ ë‚´ì—ì„œ import ìš”ì†Œë“¤ì„ ë“±ë¡í•œë‹¤.
Chart.register(CategoryScale, LinearScale, Title, Tooltip, Legend, BarElement);
```
- ì•ì„œ ë§Œë“¤ì—ˆë˜ keyë¥¼ ì¼ë°˜ ë¼ë²¨ì— ë„£ê³  ë°ì´í„°ë“¤ì„ ë°ì´í„°ì…‹ì˜ dataì— ë„£ì€ í›„ ì„¤ì •ë§Œ ì¡°ì •í•˜ë©´ í‘œë¥¼ ì™„ì„±í•  ìˆ˜ ìˆë‹¤.
```js
 return (
    <Graph2Container>
      <Spinner loading={loading} />
      <ErrorView status={status} message={message} />

      {keys && survived && dead && (
        <Bar
          data={{
            labels: keys, // xì¶•
            datasets: [
              {
                label: "ìƒì¡´",
                data: survived,
                backgroundColor: "rgba(255, 99, 132, 0.5)",
                borderColor: "rgba(255, 99, 132, 1)",
                borderWidth: 1,
              },
              {
                label: "ì‚¬ë§",
                data: dead,
                backgroundColor: "rgba(54, 162, 235, 0.5)",
                borderColor: "rgba(54, 162, 235, 1)",
                borderWidth: 1,
              },
            ],
          }}
          options={{
            responsive: true,
            maintainAspectRatio: false, // ì„¸ë¡œ ë†’ì´ë¥¼ ì¡°ì ˆí•  ìˆ˜ ìˆë‹¤ (falseì¼ ê²½ìš° ë¶€ëª¨ìš”ì†Œ ë†’ì´ì— ë§ì¶¤)
            plugins: {
              legend: {
                position: "bottom", // ë²”ë¡€ì˜ ìœ„ì¹˜
              },
              title: {
                // ì œëª© ì„¤ì •
                display: true,
                text: "ì—°ë ¹ë³„ ìƒì¡´ í˜„í™©",
                font: {
                  size: 18,
                  color: "#000",
                },
              },
            },
          }}
        />
      )}
    </Graph2Container>
  );
});
```