# 📌 0. node.js 백엔드 세팅
### 📌 0-1. node.js 시작하기
- 시작할 작업폴더 안에서 yarn init 명령어를 사용하여 시작한다.
- 이후 pakage.json에서 "type": "module"을 추가해준다.
- 직접 만들어야 하는 것: .env, app.js, .gitignore, pull.bat, push.bat 들은 필요하면 직접 만들어 준다.
- 그리고 모듈 구성 방식 등은 리엑트랑 거의 동일하다. 같은 node.js 기반 이라서 그런 것 같다.

### 📌 0-2. path
- 앞의 두 경로 조각을 OS 규칙에 맞게 이어 붙이고 정규화한다.
- ..을 만나면 상위 디렉터리로 올라가는 것까지 반영해서 경로를 정리한다.
- '..' 은 상위 디렉토리로 올라가라는 의미니까, /Users/hello/world에서 한 단계 올라가면 /Users/hello가 되고, 거기에 photo.jpg가 붙어서 /Users/hello/photo.jpg라는 문자열이 만들어지는 것이다.
- 이는 그냥 파일 경로를 만드는 역할만 하고 파일을 생성하거나 하는 것은 아니다.
- const dirname = path.dirname(currentPath); currentPath에서 디렉터리 부분만 추출한다. → /Users/hello
- const basename = path.basename(currentPath); currentPath의 **마지막 경로 조각(파일명 포함)**을 추출한다. → photo.jpg
- const extname = path.extname(currentPath); currentPath의 **확장자(점 포함)**만 추출한다. → .jpg
- const parse = path.parse(currentPath); 경로를 구성 요소로 한 번에 파싱해서 객체로 돌려준다. 
- 주요 속성:
- root: 루트(예: /)
- dir: 디렉터리(예: /Users/hello)
- base: 파일명+확장자(예: photo.jpg)
- name: 파일명(예: photo)
- ext: 확장자(예: .jpg)
```js
/** (1) 모듈참조 */
import path from 'path';

/* (2) 디렉토리명과 파일명 합치기 */
const currentPath = path.join('/Users/hello/world', '../photo.jpg'); //괄호 안 두개의 값을 join으로 합쳐줌
console.log('파일 패스 : %s', currentPath);
console.log();

/* (3) 경로에서 디렉토리, 파일명, 확장자 구분하기 */
const dirname = path.dirname(currentPath);
const basename = path.basename(currentPath);
const extname = path.extname(currentPath);
console.log('디렉토리 : %s', dirname);
console.log('파일 이름 : %s', basename);
console.log('확장자 : %s', extname);
console.log();

/* (4) 경로정보 파싱 */
const parse = path.parse(currentPath);
console.log("root: " + parse.root);
console.log("dir: " + parse.dir);
console.log("name: " + parse.name);
console.log("ext: " + parse.ext);
console.log();
```

### 📌 0-3. URL
- const current = new URL('http://blog.hossam.kr:8765/hello/world.html?a=123&b=456#home') 문자열 주소를 URL 인스턴스로 파싱한다.
- 이제 current.protocol, current.host, current.pathname 등 구성요소 단위로 접근 가능해진다.
- current.search(예: '?a=123&b=456')를 받아 쿼리 스트링 파서를 만든다.
- 내부적으로 a=123, b=456 같은 키-값 쌍 iterable을 갖게 됨.
- const json = Object.fromEntries(params);
- URLSearchParams의 iterable(엔트리)을 일반 객체로 변환한다.
- 결과: { a: '123', b: '456' }
- url.format에 넣을 구성요소 객체를 만든다.
- protocol: 'https:' 처럼 콜론 포함
- hostname: 호스트명
- port: 문자열 가능(예: '8080')
- pathname: 경로
- search: '?name=nodejs&age=10' 처럼 물음표 포함한 전체 쿼리 문자열
- hash: '#target' 처럼 샵 포함한 프래그먼트
- const urlString = url.format(info);
- 위 info 객체를 바탕으로 주소 문자열을 조립한다.
- 예상 결과: https://blog.hossam.kr:8080/hello/world.html?name=nodejs&age=10#target
```js
/** (1) url 모듈과 URL 클래스 참조하기 */
import url, { URL } from 'url';

/** (2) 주소 문자열을 URL 객체로 만들기 */
const current = new URL('http://blog.hossam.kr:8765/hello/world.html?a=123&b=456#home');
console.log('href: '   + current.href);
console.log('protocol: '  + current.protocol);
console.log('host: '   + current.host);
console.log('hostname: '  + current.hostname);
console.log('port: '   + current.port);
console.log('pathname: '  + current.pathname);
console.log('search: '   + current.search);
console.log('hash: '   + current.hash);
console.log();

/** (3) 주소 문자열의 QueryString을 JSON 객체로 변환 */
const params = new URLSearchParams(current.search);
const json = Object.fromEntries(params);
console.log('JSON 객체 : %o', json);
console.log();

/** (4) JSON객체를 주소 문자열로 만들기 */
 const info = {
protocol: 'https:',
hostname: 'blog.hossam.kr',
port: '8080',
pathname: '/hello/world.html',
search: '?name=nodejs&age=10',
hash: '#target'
}

const urlString = url.format(info);
console.log('주소 문자열 : %s', urlString);
```
- 아래는 현대식방법이다.
- set을 이용해 쿼리스트링을 url에 조립한다.
```js
import { URL } from 'node:url';

const u = new URL('https://blog.hossam.kr:8080/hello/world.html');
u.searchParams.set('name', 'nodejs');
u.searchParams.set('age', '10');
u.hash = 'target';
u.toString(); // 최종 문자열
```

### 📌 0-4. os
- os.homedir(): 현재 사용자 계정의 홈 디렉터리 경로(문자열)를 반환.
- os.arch(): Node 프로세스가 동작하는 아키텍처 문자열 반환. 예: 'x64', 'arm64', 'ia32'
- os.platform(): 운영체제 플랫폼 식별 문자열 반환. 예: 'win32', 'linux', 'darwin'
- os.tmpdir(): OS가 사용하는 임시 디렉터리 경로 반환. (예: macOS/Linux: /tmp, Windows:)
- os.hostname(): 현재 시스템의 호스트명(컴퓨터 이름) 반환.
- var userInfo = os.userInfo(); 현재 사용자 계정의 정보 객체 반환. (권장: const userInfo = ...)
- os.freemem(): 사용 가능(Free) 메모리 용량을 바이트 단위 숫자로 반환.
- os.totalmem(): 전체 물리 메모리 용량을 바이트 단위 숫자로 반환.
- 여기서 아키텍처는 cpu실행환경의 종류를 의미한다.
```js
 /** (1) OS모듈 참조 */
 import os from 'os';

 /** (2) 시스템 기본 정보 */
console.log('홈 디렉토리:' + os.homedir());
console.log('시스텀 아키텍처: ' +os.arch());
console.log('os 플랫폼: ' +os.platform());
console.log('시스템 임시 디렉토리: ' +os.tmpdir());
console.log('시스템의 hostname: ' +os.hostname());
console.log();

/** (3) 사용자 계정정보 */
 var userInfo = os.userInfo();
console.log('사용자 계정명 : ' + userInfo.username);
console.log('사용자 홈 디렉토리 : ' + userInfo.homedir);
console.log('사용자 쉘 환경(Linux, Mac) : ' + userInfo.shell);
console.log();

/** (4) 메모리 용량 */
 // freemem() --> 시스템에서 현재 사용 가능한 메모리 용량
// totalmem() --> 시스템의 전체 메모리 용량
console.log('시스템의 메모리 : %d(free) / %d(total)', os.freemem(), os.totalmem());
console.log();
```
- import os from "os"; Node.js의 os 모듈을 가져온다. 운영체제 관련 정보(메모리, CPU, 네트워크 등)를 얻을 수 있다.
- const cpus = os.cpus(); 현재 시스템에 있는 논리 CPU 코어들의 정보 배열을 반환한다. 배열의 길이 = CPU 논리 코어 수.
- CPU 코어의 모델명 문자열, CPU 코어의 클럭 속도(MHz 단위), 코어의 누적 수행 시간 정보(객체) 등을 반복문으로 출력한다.
```js
/** (1) OS모듈 참조 */
import os from "os";

/** (2) CPU 정보 */
const cpus = os.cpus();
console.log("CPU 코어 수 : " + cpus.length);
console.log();

cpus.forEach((v, i) => {
    console.log("[%d번째 CPU] %s", i + 1, v.model);
    console.log("처리속도: %d", v.speed);
    console.log("수행시간 정보: %j", v.times);
    console.log();
});
```
- const nets = os.networkInterfaces(); 현재 시스템의 네트워크 인터페이스(랜카드, 가상 어댑터 등) 목록을 객체 형태로 반환.
- const item = nets[attr]; 해당 장치의 네트워크 정보 배열 가져오기.
- 반복문 돌면서 아래의 항목들을 출력한다.
- family: 주소 체계 (IPv4 또는 IPv6)
- address: 실제 IP 주소 (예: 192.168.0.5 or ::1)
- mac: MAC 주소 (네트워크 카드 물리적 주소)
- netmask: 서브넷 마스크 (예: 255.255.255.0)
```js
 /** (1) OS모듈 참조 */
 import os from "os";

 /** (2) 네트워크 정보 */
 const nets = os.networkInterfaces();

 for (const attr in nets) {
    console.group("Network 장치 이름: %s", attr);

    const item = nets[attr];

    item.forEach((v, i) => {
        console.log("주소 형식: %s", v.family);
        console.log("IP 주소: %s", v.address);
        console.log("맥주소: %s", v.mac);
        console.log("넷마스크: %s", v.netmask);
        console.log();
    });

    console.groupEnd();
 }
```