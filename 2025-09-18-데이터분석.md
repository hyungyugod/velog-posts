# ğŸ“Œ 0. ë°ì´í„° ë¶„ì„ ë¬¸ì œí’€ì´
### ğŸ“Œ 0-1. ë‚ ì§œ ë°ì´í„° ë³€í™˜ í›„ í• ë‹¹
- pd.to_datetime(raw_log["eventdatetime"])ê°€ ë³€í™˜ëœ seriesë¥¼ ë°˜í™˜í•˜ë¯€ë¡œ ì €ì¥í•˜ë ¤ë©´ ë‹¤ì‹œ í• ë‹¹í•´ì£¼ì–´ì•¼ í•œë‹¤.
```py
raw_log["eventdatetime"] = pd.to_datetime(raw_log["eventdatetime"])
```
- PandasëŠ” "eventdatetime","eventdatetime_year" ë¥¼ íŠœí”Œë¡œ ì¸ì‹í•˜ê¸° ë•Œë¬¸ì—. raw_log[("eventdatetime","eventdatetime_year")] í˜•íƒœê°€ ë˜ì–´ë²„ë ¤ì„œ, ë‹¨ì¼ ì»¬ëŸ¼ ì´ë¦„ì„ íŠœí”Œë¡œ ì°¾ìœ¼ë ¤ê³  í•˜ë‹ˆ ì—†ëŠ” ì»¬ëŸ¼ì´ë¼ê³  ì—ëŸ¬ê°€ ë°œìƒí•˜ëŠ” ê²ƒì´ë‹¤.
- í•˜ì—¬ ì•„ë˜ì²˜ëŸ¼ ì—¬ëŸ¬ê°œì˜ ì»¬ëŸ¼ì„ ê°€ì§„ ë°ì´í„°í”„ë ˆì„ì„ ì–»ê³ ìí• ë•ŒëŠ” ë¦¬ìŠ¤íŠ¸ë¡œ ë¬¶ì–´ì„œ ë„˜ê²¨ì£¼ì–´ì•¼ í•œë‹¤.
```py
raw_log[["eventdatetime","eventdatetime_year"]]
```
- ìƒˆë¡œìš´ ì»¬ëŸ¼ì— ë§Œë“¤ì–´ì§„ seriesë¥¼ ë°€ì–´ë„£ê³  ì¡°íšŒí•˜ë©´ì„œ ë‹µì•ˆì„ ì•„ë˜ì²˜ëŸ¼ ë§ˆë¬´ë¦¬í•œë‹¤.
```py
# eventdatetime ë‚ ì§œ ë°ì´í„°ë¡œ ë°”ê¾¸ê³  ì—°ì›”ì¼ì‹œë¶„ì´ˆ ë°ì´í„° ì¶”ì¶œí•˜ê¸°'
raw_log["eventdatetime"] = pd.to_datetime(raw_log["eventdatetime"])
raw_log["eventdatetime_year"] = raw_log["eventdatetime"].dt.year
raw_log["eventdatetime_month"] = raw_log["eventdatetime"].dt.month
raw_log["eventdatetime_day"] = raw_log["eventdatetime"].dt.day
raw_log["eventdatetime_hour"] = raw_log["eventdatetime"].dt.hour
raw_log["eventdatetime_minute"] = raw_log["eventdatetime"].dt.minute
raw_log["eventdatetime_second"] = raw_log["eventdatetime"].dt.second
raw_log[["eventdatetime","eventdatetime_year","eventdatetime_month","eventdatetime_day","eventdatetime_hour","eventdatetime_minute","eventdatetime_second"]].head(5)
```

### ğŸ“Œ 0-2. osversion ì¹¼ëŸ¼ì— ë“¤ì–´ê°€ìˆëŠ” ì •ë³´ë¥¼ ì—¬ëŸ¬ê°œì˜ ì¹¼ëŸ¼ìœ¼ë¡œ ë‚˜ëˆ„ê¸°
- strë³´ë‹¤ textë¼ê³  í•˜ëŠ”ê²Œ ë” ë‚«ë‹¤. -> strì€ íŒŒì´ì¬ì˜ ë‚´ì¥ ë°ì´í„°íƒ€ì…ì´ë¦„ì´ë‹¤.
- isnumeric() ëŠ” ìœ ë‹ˆì½”ë“œ ìˆ«ì ì „ë¶€(ì˜ˆ: ë¡œë§ˆ ìˆ«ì, ë™ì•„ì‹œì•„ ìˆ«ì ë“±)ê¹Œì§€ ì°¸ìœ¼ë¡œ ë³¸ë‹¤.
- ASCII ìˆ«ìë§Œ ì›í•˜ë©´ isdigit() í˜¹ì€ ch in "0123456789" ë¥¼ ì“°ëŠ” í¸ì´ ë” ì˜ˆì¸¡ ê°€ëŠ¥í•˜ë‹¤.
- applyë¥¼ í™œìš©í•´ì„œ ì¹¼ëŸ¼ì˜ ê°’ì„ ì›í™œí•˜ê²Œ ì»¤ìŠ¤í…€í•˜ì—¬ ì‚¬ìš©í•œë‹¤.
```py
def ext_ostype(text):
  box = []
  for i in text:
    if not i.isnumeric():
      box.append(i)
    
    else:
      break

  return "".join(box)

def ext_version(text):
  box = []
  for i in text:
    if i.isnumeric() or i == ".":
      box.append(i)

  return "".join(box)

raw_log["ostype(clean)"] = raw_log["osversion"].apply(ext_ostype)
raw_log["osversion(clean)"] = raw_log["osversion"].apply(ext_version)

raw_log[["osversion","ostype(clean)","osversion(clean)"]].head(5)
```
- gptê°€ ì¶”ì²œí•œ ë°©ë²•ìœ¼ë¡œ s.str.replaceëŠ” ë¬¸ìì—´ì„ ë²¡í„°í™” ì—°ì‚°í•˜ì—¬ ì¢€ ë” ë¹ ë¥´ê²Œ ì—°ì‚°ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆë‹¤.
```py
# ì•ˆì „í•˜ê²Œ ë¬¸ìì—´ dtypeìœ¼ë¡œ ë§ì¶¤
s = raw_log["osversion"].astype("string")

# OS íƒ€ì…: ì²« ìˆ«ìë¶€í„° ëê¹Œì§€ ì œê±° â†’ ì•ì˜ ìˆ«ì-ì´ì „ ë¬¸ìë§Œ ë‚¨ê¹€
raw_log["ostype(clean)"] = s.str.replace(r"\d.*$", "", regex=True).str.strip()

# ë²„ì „: ìˆ«ì/ì ë§Œ ë‚¨ê¸°ê³  ë‚˜ë¨¸ì§€ ì œê±°
raw_log["osversion(clean)"] = s.str.replace(r"[^0-9.]", "", regex=True)

raw_log[["osversion","ostype(clean)","osversion(clean)"]].head(5)
```

### ğŸ“Œ 0-3. ì œì¡°ì‚¬ ì •ë³´ ì •ë¦¬í•˜ê¸°
- startwithê°€ ì•„ë‹ˆë¼ startswithì´ë‹¤.
- ë°ì´í„° íƒ€ì…ì´ strì´ ì•„ë‹Œ ì´ìƒí•œ ë°ì´í„°ëŠ” otherë¡œ ì²˜ë¦¬í•œë‹¤.
- í…ìŠ¤íŠ¸ì˜ ì–‘ì—¬ë°±ì„ ì œê±°í•˜ê³  ì†Œë¬¸ìë¡œ ë³€ê²½í•œë‹¤. 
- ì´í›„ ë¬¸ì œ ì¡°ê±´ì— ë§ê²Œ ë°ì´í„°ë¥¼ ì •ì œí•˜ëŠ” í•¨ìˆ˜ë¥¼ applyë¥¼ í†µí•´ ì „ì²´ ì ìš©í•œë‹¤.
```py
def clean_devicemanufacturer(text):
    if not isinstance(text, str):
        return "Other"
    
    t = text.strip().lower()  # ê³µë°± ì œê±° + ì†Œë¬¸ì ë³€í™˜
    
    if t.startswith("samsung"):
        return "Samsung"
    elif t.startswith(("lge", "lg electronics", "lg")):
        return "LG"
    elif t.startswith("apple"):
        return "Apple"
    else:
        return "Other"

# ì ìš©
raw_log["devicemanufacturer"] = raw_log["devicemanufacturer"].apply(clean_devicemanufacturer)

# ê²°ê³¼ í™•ì¸
print(raw_log["devicemanufacturer"].value_counts())
```