# 1. Adapter pattern
- ì„œë¡œ ë‹¤ë¥¸ ì¸í„°í˜ì´ìŠ¤ë¥¼ ê°€ì§„ í´ë˜ìŠ¤ë“¤ì„ ê¸°ì¡´ ì‹œìŠ¤í…œì˜ ì¸í„°í˜ì´ìŠ¤ì— ë§ì¶”ê¸° ìœ„í•´ ì–´ëŒ‘í„° íŒ¨í„´ì„ ì ìš©í•œë‹¤.

### ğŸ“Œ 1-1. ì´ë¯¸ì§€ ë³€í™˜ê¸° ë§Œë“¤ê¸° (ê¸°ì´ˆ)

#### ğŸ” í•µì‹¬ ê°œë… ë° ì£¼ì˜í•  ì 
- ì„œë¡œ ë‹¤ë¥¸ ì¸í„°í˜ì´ìŠ¤ë¥¼ ê°€ì§„ í´ë˜ìŠ¤ë“¤ì„ ê¸°ì¡´ ì‹œìŠ¤í…œì˜ ì¸í„°í˜ì´ìŠ¤ì— ë§ì¶”ê¸° ìœ„í•´ ì–´ëŒ‘í„° íŒ¨í„´ì„ ì ìš©í•œë‹¤.
- ì–´ëŒ‘í„°ëŠ” ê¸°ì¡´ ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ê³ , ë‚´ë¶€ì— ì‹¤ì œ ê¸°ëŠ¥ì„ ì œê³µí•˜ëŠ” ê°ì²´(Adaptee)ë¥¼ í•„ë“œë¡œ ê°€ì§€ê³  ìˆë‹¤.
- í´ë¼ì´ì–¸íŠ¸ëŠ” ì–´ëŒ‘í„°ë¥¼ í†µí•´ ì¼ê´€ëœ ë°©ì‹ìœ¼ë¡œ ë‹¤ì–‘í•œ í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

#### ğŸ§  ê¸°ì–µí•´ì•¼ í•  íŒ¨í„´ ë˜ëŠ” ë¡œì§ íë¦„
- `ImageViewer`ë¼ëŠ” ì¸í„°í˜ì´ìŠ¤ë¥¼ ì •ì˜í•˜ê³ , ì‹œìŠ¤í…œì€ ì´ ì¸í„°í˜ì´ìŠ¤ë§Œì„ ì‹ ë¢°í•œë‹¤.
- ê° ì´ë¯¸ì§€ í´ë˜ìŠ¤(`PngImage`, `JpegImage`, `GifImage`)ëŠ” ê³ ìœ  ë©”ì„œë“œë¥¼ ì œê³µí•˜ì§€ë§Œ, `ImageViewer`ì™€ í˜¸í™˜ë˜ì§€ ì•ŠëŠ”ë‹¤.
- ê° ì´ë¯¸ì§€ í´ë˜ìŠ¤ë§ˆë‹¤ ë³„ë„ì˜ ì–´ëŒ‘í„°(`PngAdapter`, `JpegAdapter`, `GifIAdapter`)ë¥¼ ì •ì˜í•˜ê³ , ì´ë“¤ì€ `ImageViewer`ë¥¼ êµ¬í˜„í•œë‹¤.
- ì–´ëŒ‘í„°ëŠ” ìƒì„±ìì—ì„œ í•´ë‹¹ ì´ë¯¸ì§€ ê°ì²´ë¥¼ ì£¼ì…ë°›ê³ , `display()` ë©”ì„œë“œì—ì„œ ê·¸ ê°ì²´ì˜ ê¸°ëŠ¥ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•œë‹¤.

```java
public class Main {
    public static void main(String[] args) {
        ImageViewer[] box = new ImageViewer[3];
        box[0] = new PngAdapter(new PngImage());
        box[1] = new JpegAdapter(new JpegImage());
        box[2] = new GifIAdapter(new GifImage());

        for (ImageViewer i : box){
            i.display();
        }
    }
}

// ê¸°ì¡´ ì´ë¯¸ì§€ ë·°ì–´
interface ImageViewer {
    public abstract void display(); // public abstractëŠ” ìƒëµë˜ê³¤ í•œë‹¤. defaultë¥¼ ë¶™ì´ë©´(ì•ˆë¶™ì´ë©´ abstractê°€ ìë™ì´ë¯€ë¡œ) ìƒì†ìê°€ ì„ íƒì ìœ¼ë¡œ ì˜¤ë²„ë¼ì´ë“œí•  ìˆ˜ ì‡ë‹¤.
}

// ì´ë¯¸ì§€ í´ë˜ìŠ¤
class PngImage {
    public void renderPng(){
        System.out.println("PNG ì´ë¯¸ì§€ë¥¼ ë Œë”ë§í•©ë‹ˆë‹¤.");
    }
}
class JpegImage {
    public void drawJpeg(){
        System.out.println("JPEG ì´ë¯¸ì§€ë¥¼ ê·¸ë¦½ë‹ˆë‹¤.");
    }
}
class GifImage {
    public void animateGif() {
        System.out.println("GIF ì• ë‹ˆë©”ì´ì…˜ì„ ì‹¤í–‰í•©ë‹ˆë‹¤.");
    }
}

// ì–´ëí„° í´ë˜ìŠ¤ <- ê¸°ì¡´ì´ë¯¸ì§€ ë·°ì–´ì˜ displayë¡œ ê° ì´ë¯¸ì§€ í´ë˜ìŠ¤ê°€ ì‘ë™í•  ìˆ˜ ìˆê²Œí•¨.
class PngAdapter implements ImageViewer{
    private PngImage png; // ì—°ê²°ì‹œí‚¬ í´ë˜ìŠ¤ì˜ ê°ì²´ë¥¼ í•„ë“œê°’ìœ¼ë¡œ ê°–ëŠ”ë‹¤.

    PngAdapter(PngImage png){
        this.png = png;
    }

    @Override
    public void display() { // ê¸°ì¡´ì˜ ì‘ë™ë°©ì‹ìœ¼ë¡œ ìƒˆë¡œìš´ ê¸°ëŠ¥ì„ êµ¬í˜„
    png.renderPng();
    }
}
class JpegAdapter implements ImageViewer{
    private JpegImage jpeg;

    JpegAdapter(JpegImage  jpeg){
        this.jpeg = jpeg;
    }

    @Override
    public void display() {
    jpeg.drawJpeg();
    }
}
class GifIAdapter implements ImageViewer{
    private GifImage gif;

    GifIAdapter(GifImage gif){
        this.gif = gif;
    }

    @Override
    public void display() {
        gif.animateGif();
    }
}
```

### ğŸ“Œ 1-2. ì˜¤ë””ì˜¤ í†µí•© ì»¨íŠ¸ë¡¤ëŸ¬ ì‹œìŠ¤í…œ

#### ğŸ” í•µì‹¬ ê°œë… ë° ì£¼ì˜í•  ì 
- ì„œë¡œ ë‹¤ë¥¸ ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬(Mp3Service, FlacEngine, OggTool)ë¥¼ í†µí•© ì¸í„°í˜ì´ìŠ¤(AudioControlUnit)ë¡œ ì¼ê´€ë˜ê²Œ ì œì–´í•˜ëŠ” ì–´ëŒ‘í„° íŒ¨í„´ì„ êµ¬í˜„í•˜ì˜€ë‹¤.
- ê° ì–´ëŒ‘í„° í´ë˜ìŠ¤ëŠ” ìƒíƒœ í™œì„±í™”, ì¬ìƒ, ë¡œê·¸ ì €ì¥ ë“±ì˜ ê³µí†µ ê¸°ëŠ¥ì„ ì¸í„°í˜ì´ìŠ¤ë¡œ ì¶”ìƒí™”í•˜ì—¬ í´ë¼ì´ì–¸íŠ¸ ì½”ë“œ(Main)ê°€ íŠ¹ì • êµ¬í˜„ì— ì˜ì¡´í•˜ì§€ ì•Šë„ë¡ êµ¬ì„±í•˜ì˜€ë‹¤.
- `instanceof`ë¥¼ í†µí•´ ê° ì–´ëŒ‘í„°ì˜ ê³ ìœ  ê¸°ëŠ¥(setEqualizer, boostVolume)ì„ ì¡°ê±´ì ìœ¼ë¡œ ì²˜ë¦¬í•˜ì˜€ë‹¤.

#### ğŸ§  ê¸°ì–µí•´ì•¼ í•  íŒ¨í„´ ë˜ëŠ” ë¡œì§ íë¦„
- (1ë‹¨ê³„ â†’ ì–´ëŒ‘í„° íŒ¨í„´ìœ¼ë¡œ ì¸í„°í˜ì´ìŠ¤ í†µí•©)  
  ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ í´ë˜ìŠ¤ëŠ” ê°ê¸° ë‹¤ë¥¸ ë©”ì„œë“œì™€ ìƒíƒœ ëª…ì¹­ì„ ê°€ì§€ë¯€ë¡œ, `AudioControlUnit` ì¸í„°í˜ì´ìŠ¤ë¡œ ì¶”ìƒí™”í•œ ì–´ëŒ‘í„° í´ë˜ìŠ¤ë¥¼ êµ¬í˜„í•œë‹¤.

- (2ë‹¨ê³„ â†’ í´ë¼ì´ì–¸íŠ¸ì—ì„œ ì¸í„°í˜ì´ìŠ¤ ê¸°ë°˜ ì²˜ë¦¬)  
  `List<AudioControlUnit>` í˜•íƒœë¡œ ì–´ëŒ‘í„°ë“¤ì„ ì €ì¥í•˜ê³ , `play`, `activate`, `logPlay` ë©”ì„œë“œë¥¼ ë°˜ë³µë¬¸ìœ¼ë¡œ í˜¸ì¶œí•¨ìœ¼ë¡œì¨ í¬ë§·ì— ê´€ê³„ì—†ëŠ” ì¼ê´€ëœ ì¬ìƒ íë¦„ì„ êµ¬ì„±í•œë‹¤.

- (3ë‹¨ê³„ â†’ ê°œë³„ í¬ë§·ë³„ ê³ ìœ  ê¸°ëŠ¥ ë¶„ê¸° ì²˜ë¦¬)  
  `instanceof`ë¡œ íƒ€ì…ì„ ì²´í¬í•œ í›„ Mp3Adapterì˜ `setEqualizer`, FlacAdapterì˜ `boostVolume` ë“± ì¶”ê°€ ê¸°ëŠ¥ì„ ì¡°ê±´ì ìœ¼ë¡œ ìˆ˜í–‰í•œë‹¤.


```java

public class Main {
    public static void main(String[] args) {
        List<AudioControlUnit> box = new ArrayList<>();
        box.add(new Mp3Adapter(new Mp3Service()));
        box.add(new FlacEngineAdapter(new FlacEngine()));
        box.add(new OggToolAdapter(new OggTool()));

        for (AudioControlUnit i : box) {
            i.play();
            i.activate();
            i.logPlay();
        }

        System.out.println("---------------------");
        
        for (AudioControlUnit i : box) {
            System.out.println(i.getFormatName());
            System.out.println(i.isActive() ? "í™œì„±":"ë¹„í™œì„±");
            i.getLog();
            if (i instanceof Mp3Adapter){
                ((Mp3Adapter)i).setEqualizer("Bass");
            }

            else if (i instanceof FlacEngineAdapter) {
                ((FlacEngineAdapter) i).boostVolume(50);
            }
        }
}
}

// ê¸°ì¡´ ì¸í„°í˜ì´ìŠ¤
interface AudioControlUnit {
    void play();
    String getFormatName();
    boolean isActive();
    void activate();
    void logPlay();
    String getLog();
}

// ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ë“¤(ì´ë¼í•˜ì í•˜ëŠ” í´ë˜ìŠ¤)
class Mp3Service {
    private boolean enabled = false;

    public boolean isEnabled() {
        return enabled;
    }

    public void mp3Play(){
        System.out.println("mp3ê°€ ì¬ìƒë©ë‹ˆë‹¤.");
    }

    public String getMp3Type(){
        return "MP3";
    }

    public void setEqualizer(String mode){
        System.out.printf("%sëª¨ë“œë¡œ ì„¸íŒ…ë˜ì—ˆìŠµë‹ˆë‹¤.\n", mode);
    }

    public void turnMp3(){
        if (enabled) enabled = false;
        else enabled = true;
    }

    public boolean MP3status(){
        return enabled;
    }
}
class FlacEngine {
    private boolean enabled = false;
    public boolean isEnabled() {
        return enabled;
    }

    void executeFlac() {
        System.out.println("Flacì„ ì‹¤í–‰í•©ë‹ˆë‹¤.");
    }

    String format(){
        return "FLAC";
    }

    void boostVolume(int level){
        System.out.printf("ë³¼ë¥¨ì„ %dë¡œ ì¡°ì •í•©ë‹ˆë‹¤.\n", level);
    }

    public void turnFlac(){
        if (enabled) enabled = false;
        else enabled = true;
    }

    public boolean Flacstatus(){
        return enabled;
    }

}
class OggTool {
    private boolean enabled = false;
    public boolean isEnabled() {
        return enabled;
    }

    void runOgg(){
        System.out.println("oggë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤.");
    }

    String info(){
        return "OGG";
    }

    public void turnOgg(){
        if (enabled) enabled = false;
        else enabled = true;
    }

    public boolean Oggstatus(){
        return enabled;
    }
}

// ê¸°ì¡´ ì¸í„°í˜ì´ìŠ¤ì— ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì—°ê²°ì‹œí‚¤ê¸° ìœ„í•œ ì–´ëŒ‘í„° í´ë˜ìŠ¤
class Mp3Adapter implements AudioControlUnit {
    private Mp3Service mp3;

    List <LocalDateTime> list = new ArrayList(); 


    public Mp3Adapter(Mp3Service mp3) {
        this.mp3 = mp3;
    }

    void setEqualizer(String mode){
        if (mp3.isEnabled()){
        System.out.printf("EQë¥¼ %së¡œ ì„¤ì •í•©ë‹ˆë‹¤.\n", mode);
        }
    }

    @Override
    public void activate() {
        mp3.turnMp3();
        System.out.println("mp3ê°€ í™œì„±í™”ë˜ì—ˆìŠµë‹ˆë‹¤.");
    }

    @Override
    public String getFormatName() {
        return mp3.getMp3Type();
    }

    @Override
    public String getLog() {
        return list.get(list.size()-1).toString();
    }

    @Override
    public boolean isActive() {
        return mp3.MP3status();
    }

    @Override
    public void logPlay() {
        list.add(LocalDateTime.now());
    }

    @Override
    public void play() {
        mp3.mp3Play();
    }
}
class FlacEngineAdapter implements AudioControlUnit {
    private FlacEngine flacEngine;
    List <LocalDateTime> list = new ArrayList();

    public FlacEngineAdapter(FlacEngine flacEngine) {
        this.flacEngine = flacEngine;
    }

    @Override
    public void activate() {
        flacEngine.turnFlac();
        System.out.println("Flacì´ í™œì„±í™”ë˜ì—ˆìŠµë‹ˆë‹¤.");
    }

    @Override
    public String getFormatName() {
        return flacEngine.format();
    }

    @Override
    public String getLog() {
        return list.get(list.size()-1).toString();
    }

    @Override
    public boolean isActive() {
        return flacEngine.Flacstatus();
    }

    @Override
    public void logPlay() {
        list.add(LocalDateTime.now());
    }

    @Override
    public void play() {
        flacEngine.executeFlac();
    }
    
    public void boostVolume(int level){
        if (flacEngine.isEnabled()){
            System.out.printf("ë³¼ë¥¨ì„ %së¡œ ì„¤ì •í•©ë‹ˆë‹¤.\n", level);
        }
    }
}
class OggToolAdapter implements AudioControlUnit {
    private OggTool oggTool;
    List <LocalDateTime> list = new ArrayList();

    public OggToolAdapter(OggTool oggTool) {
        this.oggTool = oggTool;
    }

    @Override
    public void activate() {
        oggTool.turnOgg();
        System.out.println("oggê°€ í™œì„±í™”ë˜ì—ˆìŠµë‹ˆë‹¤.");
    }

    @Override
    public String getFormatName() {
        return oggTool.info();
    }

    @Override
    public String getLog() {
        return list.get(list.size()-1).toString();
    }

    @Override
    public boolean isActive() {
        return oggTool.Oggstatus();
    }

    @Override
    public void logPlay() {
        list.add(LocalDateTime.now());
    }

    @Override
    public void play() {
        oggTool.runOgg();
    }
}
```