# ğŸ“Œ 0. ëŒ€í™”
### ğŸ“Œ 0-1. gradleì´ javaë¥¼ ëª»ì°¾ì•„ì„œ ë¹Œë“œë¥¼ ëª»í•˜ëŠ” ë¬¸ì œ
- ê³„ì† gradleì´ ê¹”ë ¤ìˆëŠ” ìë°” 17ë²„ì „ì´ ì•„ë‹ˆë¼ 21ë²„ì „ì„ ì°¾ëŠ” ë¬¸ì œê°€ ë°œìƒí•˜ì˜€ë‹¤.
- VSCodeì—ì„œ Project JDKì™€ Gradleì´ ì‚¬ìš©í•  JDKëŠ” ì™„ì „íˆ ë‹¤ë¥´ê²Œ ê´€ë¦¬ë˜ê¸° ë•Œë¬¸ì— java.import.gradle.java.home ì˜µì…˜ìœ¼ë¡œ Gradle ë¹Œë“œì— ì“¸ JDK ê²½ë¡œë¥¼ ê°•ì œë¡œ ì§€ì •í•´ì•¼ ì§„ì§œë¡œ ë°”ë€ë‹¤. 
- ë˜í•œ ì´ì „ì— ì‹œìŠ¤í…œì´ ë°”ë¡œ javaì™€ gradleì„ ì°¾ì„ ìˆ˜ ìˆê²Œ í™˜ê²½ë³€ìˆ˜ ì„¸íŒ…ì´ ë˜ì–´ìˆëŠ”ì§€ í™•ì¸í•´ì•¼í•˜ê³  "Java: Configure Java Runtime"ì—ì„œ ì§ì ‘ ê²½ë¡œë„ 17ë²„ì „ìœ¼ë¡œ ì˜ ì„¤ì •ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸í•´ì•¼ í•œë‹¤.
- ì„¤ì • í›„ì—ëŠ” VSCode & ëª¨ë“  í„°ë¯¸ë„/ì°½ ì™„ì „íˆ ì¬ì‹œì‘í•œë‹¤.
- ì•„ë˜ ì²˜ëŸ¼ vsì½”ë“œ ì„¤ì •ì„ ì¶”ê°€í•˜ë‹ˆ ë¬¸ì œê°€ í•´ê²°ë˜ì—ˆë‹¤.
```json
"java.jdt.ls.java.home": "C:/jdk-17.0.2",
    "java.configuration.runtimes": [
        {
            "name": "JavaSE-17",
            "path": "C:/jdk-17.0.2",
            "default": true
        }
    ],
    "java.import.gradle.java.home": "C:/jdk-17.0.2",
    "java.import.maven.java.home": "C:/jdk-17.0.2"
```

# ğŸ“Œ 1. department service í…ŒìŠ¤íŠ¸
- ì„œë¹„ìŠ¤ë¥¼ ê°€ë™í•˜ê¸° ìœ„í•œ ëª¨ë¸ê³¼ ë©”í¼ë¥¼ ë§Œë“ ë‹¤.
- ìŠ¤í”„ë§-ë§ˆì´ë°”í‹°ìŠ¤ ë¼ì´ë¸ŒëŸ¬ë¦¬ ë•ì— ë§¤í¼ì— @mapperë¥¼ ë¶™ì—¬ì„œ ìŠ¤í”„ë§ ë¹ˆìœ¼ë¡œ ì¸ì‹ë˜ê¸° ë•Œë¬¸ì— ì¿¼ë¦¬ì‹¤í–‰ ìˆœê°„ë§ˆë‹¤ íˆì¹´ë¦¬ cpê°€ ë§Œë“¤ì–´ ë†“ì€ ì„¸ì…˜ì„ ë¹Œë ¤ì˜¬ ìˆ˜ ìˆë‹¤.
- modelê°™ì€ ë°ì´í„° ê°ì²´ëŠ” êµ³ì´ ë¹ˆìœ¼ë¡œ ë“±ë¡í•˜ì§€ ì•ŠëŠ”ë‹¤. -> ë§¤ë²ˆ ìƒˆë¡œìš´ ê°ì²´ì— ì •ë³´ë¥¼ ë‹´ì•„ì„œ ìš´ìš©í•´ì•¼í•˜ëŠ”ë° ë¹ˆìœ¼ë¡œ ë“±ë¡í•˜ë©´ ì‹±ê¸€í„´ìœ¼ë¡œ ìƒì„±ë˜ì–´ ë°ì´í„° ê°ì²´ëŠ” ë¹ˆìœ¼ë¡œ ë“±ë¡í•  í•„ìš”ê°€ ì—†ëŠ” ê²ƒì´ë‹¤.
- ëŒ€ë¶€ë¶„ì˜ IDEì™€ ë¹Œë“œ ë„êµ¬(Gradle, Maven)ëŠ” í…ŒìŠ¤íŠ¸ íŒŒì¼ì´ ì‹¤ì œ ì½”ë“œì™€ ê°™ì€ íŒ¨í‚¤ì§€ êµ¬ì¡°ì— ìˆì„ ë•Œ ìë™ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ ëŒ€ìƒì„ ì—°ê²°í•´ì£¼ê¸° ë•Œë¬¸ì— í´ë” êµ¬ì¡°ë¥¼ mainì´ë‘ testê°€ ë˜‘ê°™ì•„ì§€ëŠ” ê²ƒì´ ë§ë‹¤.
- ì˜ˆì œê°€ ì•„ë˜ì—ì„œ í•œê²Œ ë” ì—„ë°€í•œê±° ê°™ì•„ì„œ ì•„ë˜ë§Œ ì½”ë“œë¥¼ ì‚½ì…í•œë‹¤.

```java
@Autowired
private DepartmentService departmentService;
```

- ìœ„ì—ì„œ ì´ë ‡ê²Œ í•´ë„ ê°€ëŠ¥í–ˆë˜ ì´ìœ ëŠ” ìŠ¤í”„ë§ì´ DepartmentService íƒ€ì…ì˜ ë¹ˆì„ ì°¾ì•„ì„œ ìë™ìœ¼ë¡œ ë„£ì–´ì£¼ëŠ”ë° ì‚¬ì‹¤ ì‹¤ì œë¡œ ì»¨í…Œì´ë„ˆ ì•ˆì— ë“¤ì–´ìˆëŠ” ê±´ (@serviceë¥¼ í†µí•´)DepartmentServiceImplì˜ ê°ì²´ì´ì§€ë§Œ ì´ ê°ì²´ëŠ” DepartmentService ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„(implements) í–ˆìœ¼ë‹ˆê¹Œ íƒ€ì… í˜¸í™˜ì´ ë˜ì–´  DepartmentService departmentService = new DepartmentServiceImpl(); ì´ë ‡ê²Œ ê°ì²´ë¥¼ ìƒì„±í•´ì¤€ë‹¤.
- ì´ë•Œ ë¶€ëª¨ í´ë˜ìŠ¤ì—ì„œ ì •ì˜ëœ í•¨ìˆ˜ëŠ” ë¶€ëª¨ê°€ ê·¸ëƒ¥ ì‚¬ìš©í•  ìˆ˜ ìˆê³ (ëª…ë ¹ë‚´ë¦¬ê¸°) ê·¸ ì‹¤í–‰ì€ êµ¬í˜„ì²´ì˜ ë©”ì„œë“œê°€ ì‹¤í–‰ëœë‹¤. (ë‹¤í˜•ì„±)
- í•˜ì§€ë§Œ ë§Œì•½ êµ¬í˜„ì²´ê°€ ë‘ê°œë¼ë©´ ì–´ë–¤ êµ¬í˜„ì²´ë¥¼ ë„£ì–´ì¤„ì§€ ëª¨ë¥´ê¸° ë•Œë¬¸ì— ìŠ¤í”„ë§ì—ì„œ ì—ëŸ¬ê°€ë‚œë‹¤. ê·¸ë•ŒëŠ” implì„ ì§ì ‘ ë„£ì–´ì£¼ì.

# ğŸ“Œ 2. professor service í…ŒìŠ¤íŠ¸
- ê°™ì€ ì‘ì—…ì„ ë˜ í•˜ë‹¤ë³´ë‹ˆ íŠ¸ëœì­ì…˜ ì²˜ë¦¬ê°€ ë¹ ì§„ ê²ƒ ê°™ì•„ ì•Œì•„ë³´ì•˜ë‹¤.
- íŠ¸ëœì­ì…˜ì„ ì²˜ë¦¬í•  ë©”ì„œë“œ ìœ„ì—  @Transactionalì„ ë¶™ì—¬ì„œ í•˜ë‚˜ì˜ íŠ¸ëœì­ì…˜ìœ¼ë¡œ ë¬¶ìœ¼ë©´ ì»¤ë°‹ê³¼ ë¡¤ë°± ê¸°ëŠ¥ì„ í”„ë¡ì‹œ íŒ¨í„´ì„ ì´ìš©í•˜ì—¬ ë„£ì–´ì¤€ë‹¤.
- ì´ëŠ” ì´ë¯¸ ìŠ¤í”„ë§ ë¹ˆ(Bean)ìœ¼ë¡œ ë“±ë¡ë˜ì–´ ìˆëŠ” í´ë˜ìŠ¤ì— íŠ¸ëœì­ì…˜ ì²˜ë¦¬ë¥¼ ì¶”ê°€í•´ì£¼ëŠ” ì–´ë…¸í…Œì´ì…˜ì´ë‹¤.
- ê·¸ë¦¬ê³  service êµ¬ë™ì„ í…ŒìŠ¤íŠ¸ í•˜ëŠ” ê²ƒì´ê¸° ë•Œë¬¸ì— ë‚´ë¶€ êµ¬í˜„ì€ ì•„ì˜ˆ ì„œë¹„ìŠ¤ë‘ ê°™ì•„ì§€ëŠ” ê²Œ ë§ë‹¤. ì¦‰ ë©”ì„œë“œë“¤ì´ mapperì¸ê²Œ ë§ë‹¤.
```java
@Slf4j
@SpringBootTest
public class ProfessorMapperTest {

    @Autowired
    private ProfessorMapper professorMapper;

    @Test
    @DisplayName("êµìˆ˜ ì¶”ê°€ í…ŒìŠ¤íŠ¸")
    void insertProfessor() {
        Professor input = new Professor();
        input.setName("ì„±í˜„ê·œ");
        input.setUserId("hyungyu");
        input.setPosition("êµìˆ˜");
        input.setSal(500);
        input.setHiredate("2020-03-01");
        input.setComm(30);
        input.setEmail("hyungyu@myschool.ac.kr");
        input.setPhone("010-1234-5678");
        input.setPhotoUrl("https://photo.myschool.ac.kr/hong.jpg");
        input.setStatus("ì¬ì§");
        input.setDepartmentId(101);

        int output = professorMapper.insert(input);

        log.debug("ì €ì¥ëœ ë°ì´í„°ì˜ ìˆ˜ : " + output);
        log.debug("ìƒì„±ëœ Primary Key : " + input.getId());
    }

    @Test
    @DisplayName("êµìˆ˜ ìˆ˜ì • í…ŒìŠ¤íŠ¸")
    void updateProfessor() {
        Professor input = new Professor();
        input.setId(9932); // ì‹¤ì œ ì¡´ì¬í•˜ëŠ” PKë¡œ ë³€ê²½ í•„ìš”
        input.setName("ì„±í˜„ê·œ(ìˆ˜ì •)");
        input.setUserId("hyungyud");
        input.setPosition("ë¶€êµìˆ˜");
        input.setSal(550);
        input.setHiredate("2021-03-01");
        input.setComm(35);
        input.setEmail("hyungyu@myschool.ac.kr");
        input.setPhone("010-1234-5678");
        input.setPhotoUrl("https://photo.myschool.ac.kr/hong.jpg");
        input.setStatus("íœ´ì§");
        input.setDepartmentId(402);

        int output = professorMapper.update(input);
        log.debug("ìˆ˜ì •ëœ ë°ì´í„°ì˜ ìˆ˜ : " + output);
    }

    @Test
    @DisplayName("êµìˆ˜ ì‚­ì œ í…ŒìŠ¤íŠ¸")
    void deleteProfessor() {
        Professor input = new Professor();
        input.setId(9932); // ì‹¤ì œ ì¡´ì¬í•˜ëŠ” PKë¡œ ë³€ê²½ í•„ìš”
        int output = professorMapper.delete(input);
        log.debug("ì‚­ì œëœ ë°ì´í„°ì˜ ìˆ˜ : " + output);
    }

    @Test
    @DisplayName("í•˜ë‚˜ì˜ êµìˆ˜ ì¡°íšŒ í…ŒìŠ¤íŠ¸")
    void selectOneProfessor() {
        Professor input = new Professor();
        input.setId(9931); // ì‹¤ì œ ì¡´ì¬í•˜ëŠ” PKë¡œ ë³€ê²½ í•„ìš”
        Professor output = professorMapper.selectOne(input);
        log.debug("ì¡°íšŒê²°ê³¼ : " + (output != null ? output.toString() : "null"));
    }

    @Test
    @DisplayName("êµìˆ˜ ëª©ë¡ ì¡°íšŒ í…ŒìŠ¤íŠ¸")
    void selectListProfessor() {
        Professor input = new Professor();
        List<Professor> output = professorMapper.selectList(input);
        log.debug("ì¡°íšŒê²°ê³¼ : " + output.toString());
    }

    @Test
    @DisplayName("êµìˆ˜ ëª©ë¡ ì¹´ìš´íŠ¸ í…ŒìŠ¤íŠ¸")
    void selectCountProfessor() {
        Professor input = new Professor();
        input.setName(""); 
        input.setPosition("");
        input.setDepartmentId(0);
        int output = professorMapper.selectCount(input);
        log.debug("ì¡°íšŒëœ ë°ì´í„° ìˆ˜ : " + output);
    }

    @Test
    @DisplayName("íŠ¹ì • í•™ê³¼ êµìˆ˜ ì¼ê´„ ì‚­ì œ í…ŒìŠ¤íŠ¸")
    @Transactional
    void deleteByDepartmentId() {
        Professor input = new Professor();
        input.setDepartmentId(403); // ì‹¤ì œ ì¡´ì¬í•˜ëŠ” í•™ê³¼ PKë¡œ ë³€ê²½ í•„ìš”
        int output = professorMapper.deleteByDepartmentId(input);
        log.debug("ì‚­ì œëœ ë°ì´í„°ì˜ ìˆ˜ : " + output);
    }
}
```

