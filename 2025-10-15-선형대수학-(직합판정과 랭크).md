# 📌 1. 직합 판정

## 공통 판정 원칙
- 유일표현: 임의의 $\mathbf{v}\in V$가 $\mathbf{v}=\mathbf{u}+\mathbf{w}$ ($\mathbf{u}\in U,\ \mathbf{w}\in W$) **단 하나**로 표현 ⟺ $V=U\oplus W$.
- 교집합: $U\cap W=\{\mathbf{0}\}$ 이면 **직합 가능**(차원 합도 확인).

---

## 예제 2.11  —  $\mathbb{R}^2$의 표준축 분해
- 정의: $U=\{(x,0)\},\quad W=\{(0,y)\}$.
- 유일표현: 임의 $(a,b)$에 대해 $(a,b)=(a,0)+(0,b)$ **유일**.
- 교집합: $U\cap W=\{(0,0)\}$.
- 결론: $\mathbb{R}^2=U\oplus W$.

---

## 예제 2.12  —  $U=\text{span}\{(1,0)\},\ W=\text{span}\{(0,1)\},\ S=\text{span}\{(1,1)\}$
- $\mathbb{R}^2=U\oplus W$  
  - 유일표현: $(a,b)=a(1,0)+b(0,1)$ **유일**.  
  - 교집합: $U\cap W=\{(0,0)\}$.
- $\mathbb{R}^2=U\oplus S$  
  - 유일표현: $(a,b)=(a-b)(1,0)+b(1,1)$ **유일**.  
  - 교집합: $U\cap S=\{(0,0)\}$.
- 보충: $W\ne S$ (생성 벡터가 다름).

---

## 예제 2.14  —  행렬공간의 대칭/반대칭 분해
- 공간: $V=M_{n\times n}(\mathbb{R})$  
  $U=\{A: A^T=A\}$ (대칭), $W=\{A: A^T=-A\}$ (반대칭).
- 유일표현(구성식):  
  임의 $A$에 대해
  $$A=\underbrace{\frac{A+A^T}{2}}_{\in U}+\underbrace{\frac{A-A^T}{2}}_{\in W} \quad\text{(유일)}.$$
- 교집합: $A\in U\cap W\Rightarrow A=A^T=-A \Rightarrow A=0$.
- 결론: $M_{n\times n}(\mathbb{R})=U\oplus W$.

---

## 예제 2.15  —  $V=M_{2\times2}(\mathbb{R})$에서
- 정의(표시된 형태):  
  $U=\left\{\begin{bmatrix}a&b\\0&d\end{bmatrix}\right\},\ 
   W=\left\{\begin{bmatrix}0&c\\0&0\end{bmatrix}\right\}$.
- 합의 형상: $U+W=\left\{\begin{bmatrix}a&b+c\\0&d\end{bmatrix}\right\}$ = **상삼각 행렬 전체** ⊂ $V$.
- 유일표현(상삼각 내부에서는?):  
  $\begin{bmatrix}a&\beta\\0&d\end{bmatrix}
   =\begin{bmatrix}a&b\\0&d\end{bmatrix}
   +\begin{bmatrix}0&c\\0&0\end{bmatrix}$ with $\beta=b+c$ → 표현은 **여러 쌍** 가능.
- 교집합: $U\cap W=\left\{\begin{bmatrix}0&c\\0&0\end{bmatrix}\right\}\neq\{0\}$.
- 결론:  
  1) $U+W$는 $V$가 아니라 상삼각 부분공간.  
  2) $U\oplus W$ **아님**(교집합 비자명, 유일표현 실패).

---

## 예제 2.16  —  함수공간의 짝/홀 분해
- 공간: $F=\{f:\mathbb{R}\to\mathbb{R}\}$  
  $U=\{f:f(-x)=f(x)\}$ (짝함수), $W=\{f:f(-x)=-f(x)\}$ (홀함수).
- 유일표현(정해진 공식):  
  $$f(x)=\underbrace{\frac{f(x)+f(-x)}{2}}_{f_e\in U}
        +\underbrace{\frac{f(x)-f(-x)}{2}}_{f_o\in W} \quad\text{(유일)}.$$
- 교집합: $f\in U\cap W \Rightarrow f(x)=f(-x)=-f(-x)\Rightarrow f\equiv0$.
- 결론: $F=U\oplus W$.

---

## 예제 2.17  —  $\mathbb{R}^3$에서의 세 부분공간
- 정의(표준형):  
  $U=\{(x_1,x_2,x_3)\mid x_1+x_2+x_3=0\}$,  
  $W=\{(x_1,x_2,x_3)\mid x_1=x_3\}$,  
  $S=\{(0,0,x_3)\}$.
- 차원: $\dim U=2,\ \dim W=2,\ \dim S=1$.
- 교집합
  - $U\cap W=\text{span}\{(1,-2,1)\}$ (차원 1, 비자명)  
  - $U\cap S=\{\mathbf{0}\}$, $W\cap S=\{\mathbf{0}\}$
- 유일표현/직합
  - $U+W=\mathbb{R}^3$ (차원합 $2+2-1=3$) **but** $U\cap W\neq\{0\}$ → $\mathbb{R}^3\ne U\oplus W$.  
  - $U\oplus S=\mathbb{R}^3$ (교집합 0, 차원합 $2+1=3$).  
  - $W\oplus S=\mathbb{R}^3$ (교집합 0, 차원합 $2+1=3$).

<br>

# 📌 2. 행공간·열공간·영공간, 가역성과 계수(랭크), 계수 관련 성질

---

## 2-1. 행공간(Row), 열공간(Col), 영공간(Null) 

### 정의 ( $A\in\mathbb{R}^{m\times n}$ )
- **행공간**: $\operatorname{Row}(A)=\operatorname{span}\{\text{A의 행벡터들}\}\subset\mathbb{R}^n$
- **열공간**: $\operatorname{Col}(A)=\operatorname{span}\{\text{A의 열벡터들}\}\subset\mathbb{R}^m$
- **영공간(해공간)**: $N(A)=\{x\in\mathbb{R}^n\mid Ax=\mathbf{0}\}$  
- **계수(랭크)**: $\operatorname{rank}(A)=\dim(\operatorname{Row}(A))=\dim(\operatorname{Col}(A))$
- **퇴화수(널리티)**: $\operatorname{nullity}(A)=\dim(N(A))$

### 랭크-널리티 정리
- $\boxed{\ \operatorname{rank}(A)+\operatorname{nullity}(A)=n\ }$  (열의 개수)

> **직관**: 피벗(의존성 끊는 축) 개수 = 랭크, 자유변수 개수 = 널리티. 열의 총수는 “피벗+자유”로 딱 나뉜다.

---

## 2-2. 행·열공간의 기저 잡는 법 (행사다리꼴/기약형 활용)

- $A \xrightarrow{\text{행연산}} R$ (RREF, 기약행사다리꼴)
  - **행공간 기저**: $R$의 **영이 아닌 행들**이 $\operatorname{Row}(A)$의 기저.
  - **열공간 기저**: $R$의 **피벗 열에 해당하는 $A$의 원래 열들**이 $\operatorname{Col}(A)$의 기저.  
    (주의: RREF의 열이 아니라 **원래 $A$의 대응 열**)
  - **영공간 기저**: $Rx=\mathbf{0}$의 **자유변수로 표현한 해벡터들**.

- **행동치(row equivalence)**: $A$와 $R$은 같은 행공간·같은 랭크를 가진다.

> **직관**: 행연산은 “행의 선형결합”만 바꾸므로 행들이 만드는 공간(행공간)은 그대로다. 피벗 열은 다른 열을 설명하는 축이어서 “열공간의 뼈대(기저)”가 된다.

---

## 2-3. 연립일차방정식 $Ax=b$ 해의 존재·유일성 판정

증강행렬 $[A\mid b]$의 랭크와 비교:

| 경우 | 필요충분조건 | 의미 |
|---|---|---|
| 유일해 | $\operatorname{rank}([A\mid b])=\operatorname{rank}(A)=n$ | 피벗이 모든 열에 존재(자유변수 0개) |
| 무수히 많음 | $\operatorname{rank}([A\mid b])=\operatorname{rank}(A)<n$ | 일관성 O, 자유변수 ≥1 |
| 해 없음 | $\operatorname{rank}([A\mid b])>\operatorname{rank}(A)$ | 모순 행(0…0\|비0) 발생 |

> **직관**: “증강 후 랭크가 늘었다”는 건 방정식에 **추가 제약만** 생겨 모순을 만들었다는 뜻 → 해 없음.  
> 유일해는 “열 전부 피벗” = 자유가 없다.

---

## 2-4. 정방행렬과 가역성

$n\times n$ 정방 $A$에 대해 아래는 모두 동치.

1) $A$가 **가역**이다.  
2) $A^{-1}$가 존재한다.  
3) $\det(A)\ne 0$.  
4) 모든 $b$에 대해 $Ax=b$의 해가 **유일**하다.  
5) $Ax=\mathbf{0}$의 해가 **자명해**뿐이다.  
6) $A$의 열(또는 행)이 $\mathbb{R}^n$의 **기저**이다.  
7) $\operatorname{rank}(A)=n$.  
8) $\operatorname{nullity}(A)=0$.  
9) $\operatorname{rank}([A\mid b])=\operatorname{rank}(A)=n$.  
10) $A$는 $I_n$과 **행동치**이다(행연산으로 $I_n$이 됨).

> **직관**: “가역”은 한마디로 **완전한 축  $n$개**를 가진다는 뜻 → 열/행이 독립, 랭크 $n$, 역행렬 존재, 행렬식 0 아님… 전부 같은 말.

---

## 2-5. 랭크 관련 기본 성질

### (A) 보편 성질 ( $A\in\mathbb{R}^{m\times n},\ B$ 형상 적합 )
1. $0\le \operatorname{rank}(A)\le \min(m,n)$  
   ↳ **직관**: 독립 벡터 개수는 행·열 수를 넘지 못한다.
2. $\operatorname{rank}(A)=\operatorname{rank}(A^{\mathsf T})$  
   ↳ 행·열 독립성은 서로 거울관계.
3. $\operatorname{rank}(AB)\le \min\{\operatorname{rank}(A),\operatorname{rank}(B)\}$  
   ↳ **가장 약한 고리**가 전체 정보를 제한. (좁은 문을 두 번 지나면 더 넓어지지 않음)
4. **실베스터 부등식**( $A:{m\times n},\ B:{n\times p}$ ):
    $$
    \boxed{ \ \operatorname{rank}(A) + \operatorname{rank}(B) - n \ \leq\ \operatorname{rank}(AB)\ \leq\ \min\{\operatorname{rank}(A),\operatorname{rank}(B)\} \ }
    $$

   ↳ **직관**: $AB$는 $B$의 열공간을 $A$가 다시 걸러낸 결과. 두 번 걸러도 “겹치는 최소 정보”는 남는다.

### (B) 합과 영곱
1. $\operatorname{rank}(A+B)\le \operatorname{rank}(A)+\operatorname{rank}(B)$  
   ↳ 두 공간을 합치면 독립축이 최대 **합**을 넘지 못한다.
2. $AB=0 \ \Rightarrow\ \operatorname{rank}(A)+\operatorname{rank}(B)\le n$  
   ↳ $B$의 출력이 전부 $A$의 영공간으로 떨어진다 → 두 랭크가 동시에 클 수 없다.

### (C) 수반행렬(adj)과 랭크(정방 $n\times n$)
- $\operatorname{rank}(A)=n \ \Leftrightarrow\ \operatorname{rank}(\operatorname{adj}A)=n$  
- $\operatorname{rank}(A)=n-1 \ \Leftrightarrow\ \operatorname{rank}(\operatorname{adj}A)=1$  
- (참고) $\operatorname{rank}(A)\le n-2 \Rightarrow \operatorname{adj}A=0$  
  ↳ **직관**: 행렬식이 0에 “얼마나 가까운지”가 수반행렬의 크기를 가늠한다. 한 축만 무너지면(랭크 $n-1$) adj는 **한 축만** 남는다.

---

## 2-6. 핵심
- **랭크** = 독립축 개수(피벗 수), **널리티** = 자유도.  
- **행연산**은 행공간 보존, **피벗 열**은 열공간의 뼈대.  
- **$AB$의 랭크**는 두 번 거르는 체: “더 작은 체”와 “겹치는 정보”가 결정.

