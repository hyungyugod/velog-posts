# ğŸ“Œ 0. ê³µê³µ ë°ì´í„° ë¶„ì„ ì„¸íŒ…
### ğŸ“Œ 0-1. ê³µê³µë°ì´í„°
- https://www.data.go.kr/index.doì—ì„œ ê³µê³µ ë°ì´í„°ë¥¼ ë°›ì•„ì˜¬ ìˆ˜ ìˆë‹¤.
- ì§€ìì²´ë‚˜ ì¤€ ê³µê³µê¸°ê´€ ê°™ì€ ëª¨ë“  ë°ì´í„°ë¥¼ ìœ„ ì‚¬ì´íŠ¸ì—ì„œ ì‚¬ìš©í•œë‹¤.

### ğŸ“Œ 0-2. í•œê¸€ ê¹¨ì§ ë°©ì§€
- ì½”ë“œì— ìˆëŠ” !ëŠ” â€œì§€ê¸ˆ íŒŒì´ì¬ì´ ì•„ë‹ˆë¼ í„°ë¯¸ë„ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•´!â€ë¼ëŠ” ëœ»ì´ë‹¤. (pyí™˜ê²½ì—ì„œ ì‚¬ìš©í•˜ë©´ ì—ëŸ¬ê°€ ë‚˜ì§€ë§Œ ì½”ë©í™˜ê²½ì—ì„œ ì¨ì„œ ê´œì°®ì€ ê²ƒ ê°™ë‹¤.)
- sudo: ê´€ë¦¬ì ê¶Œí•œìœ¼ë¡œ ì‹¤í–‰(ë¦¬ëˆ…ìŠ¤/ìš°ë¶„íˆ¬ ê³„ì—´).
- apt-get install: ìš°ë¶„íˆ¬ì˜ íŒ¨í‚¤ì§€ ì„¤ì¹˜ ëª…ë ¹.
- -y: â€œëª¨ë“  ì§ˆë¬¸ì— Yesâ€ë¥¼ ìë™ìœ¼ë¡œ ì„ íƒ â†’ ì¤‘ê°„ì— ë©ˆì¶”ì§€ ì•Šê²Œ.
- fonts-nanum: ë‚˜ëˆ” ê³„ì—´ í°íŠ¸ ë¬¶ìŒ íŒ¨í‚¤ì§€
- fc-cache: Fontconfig(í°íŠ¸ ê²€ìƒ‰ ì‹œìŠ¤í…œ)ì˜ ìºì‹œë¥¼ ìƒˆë¡œ ë§Œë“¦.
- -f(force): ê°•ì œë¡œ ê°±ì‹ .
- -v(verbose): ì§„í–‰ ë‚´ìš©ì„ ìì„¸íˆ ì¶œë ¥.
- ìƒˆ í°íŠ¸ë¥¼ ì‹œìŠ¤í…œì´ â€œì•Œì•„ë³´ê²Œâ€ í•˜ëŠ” ë‹¨ê³„
- rm: ì‚­ì œ.
- -r: ë””ë ‰í„°ë¦¬ ì•ˆì„ ì¬ê·€ì ìœ¼ë¡œ ì‹¹ ì§€ì›€.
- -f: ë¬»ì§€ ë§ê³  ê°•ì œ ì‚­ì œ.
- ê²½ë¡œ ~/.cache/matplotlib: Matplotlibì´ ë‚´ë¶€ì ìœ¼ë¡œ ì“°ëŠ” ìºì‹œ í´ë”.
- í°íŠ¸ë¥¼ ë°”ê¿¨ëŠ”ë°ë„ ê·¸ë˜í”„ì—ì„œ ì˜ˆì „ í°íŠ¸ê°€ ë‚˜ì˜¬ ë•Œ, ì´ ìºì‹œë¥¼ ì§€ì›Œ ìƒˆ ì„¤ì •ì„ í™•ì‹¤íˆ ë°˜ì˜í•˜ê²Œ í•œë‹¤.
```py
### ğŸ“Œ# Colab í•œê¸€ ê¹¨ì§ˆ ê²½ìš°,

!sudo apt-get install -y fonts-nanum   # NanumBarunGothic
!sudo fc-cache -fv
!rm ~/.cache/matplotlib -rf

# ëŸ°íƒ€ì„ì—ì„œ "ëŸ°íƒ€ì„ë‹¤ì‹œì‹œì‘" í•  ê²ƒ
```
- plt.rcëŠ” Matplotlibì˜ ëŸ°íƒ€ì„ ì„¤ì •(rc) ì„ ë°”ê¾¸ëŠ” í•¨ìˆ˜ì´ë‹¤.
- 'font' ê·¸ë£¹ì˜ familyë¥¼ 'NanumBarunGothic'ìœ¼ë¡œ ì§€ì • â†’ ì´í›„ ê·¸ë ¤ì§€ëŠ” ëª¨ë“  ê·¸ë˜í”„ì˜ ê¸°ë³¸ ê¸€ê¼´ì´ ë°”ë€ë‹¤.
```py
# í•œê¸€ í°íŠ¸ ì§€ì •
plt.rc('font', family='NanumBarunGothic')
```

### ğŸ“Œ 0-3. warnings ì„¸íŒ…
- warnings ëª¨ë“ˆ: íŒŒì´ì¬ì˜ ê²½ê³  ì‹œìŠ¤í…œì„ ì œì–´í•œë‹¤.
- filterwarnings(action='ignore'): ëª¨ë“  ê²½ê³ ë¥¼ í™”ë©´ì— í‘œì‹œí•˜ì§€ ì•Šê²Œ ë§Œë“ ë‹¤.
- ì¥ì : ë…¸íŠ¸ë¶ ì¶œë ¥ì´ ê¹¨ë—í•´ì§.
- ë‹¨ì : ì¤‘ìš”í•œ íŒíŠ¸ë„ ì•ˆ ë³´ì—¬ì„œ ë¬¸ì œ ì›ì¸ì„ ë†“ì¹  ìˆ˜ ìˆìŒ.
```py
import warnings
warnings.filterwarnings(action='ignore')
```

### ğŸ“Œ 0-4. í‘œì‹œêµ¬ê°„ ì¡°ì •
- pd.set_option â†’ íŒë‹¤ìŠ¤ì˜ ì¶œë ¥/ë™ì‘ ê´€ë ¨ ì„¤ì •ì„ ë°”ê¿€ ìˆ˜ ìˆëŠ” í•¨ìˆ˜.
- 'display.max_columns' â†’ ë°ì´í„°í”„ë ˆì„ ì¶œë ¥ ì‹œ í•œ í™”ë©´ì— ìµœëŒ€ ëª‡ ê°œì˜ ì—´(column) ì„ ë³´ì—¬ì¤„ì§€ ì •í•˜ëŠ” ì˜µì…˜.
- 100 â†’ ê¸°ë³¸ì€ ë³´í†µ 20 ì •ë„ì¸ë°, ì—¬ê¸°ì„œëŠ” ìµœëŒ€ 100ê°œ ì—´ê¹Œì§€ í‘œì‹œí•˜ê² ë‹¤ëŠ” ëœ».
- íš¨ê³¼: ì—´ì´ ë§ì€ ë°ì´í„°í”„ë ˆì„(ì˜ˆ: 50~80ê°œ ì—´)ì´ ìˆì„ ë•Œ, ì˜†ì— ...ë¡œ ìƒëµí•˜ì§€ ì•Šê³  ì „ë¶€ ë‹¤ ë³´ì´ê²Œ í•´ì¤Œ.
- 'display.max_rows' â†’ ì´ë²ˆì—” í–‰(row) ì¶œë ¥ ì œí•œ.
- 100 â†’ ë°ì´í„°í”„ë ˆì„ì„ ì¶œë ¥í•  ë•Œ ìµœëŒ€ 100í–‰ê¹Œì§€ ë³´ì—¬ì¤€ë‹¤ëŠ” ëœ». ê¸°ë³¸ê°’ì€ ë³´í†µ 10í–‰ ì •ë„ë§Œ ë‚˜ì˜¤ê³  ì¤‘ê°„ì— ...ë¡œ ìƒëµë˜ëŠ”ë°, ì´ê±¸ ëŠ˜ë¦° ê²ƒ
```py
# pandasì—ì„œ ì»¬ëŸ¼ ë˜ëŠ” í–‰ í‘œì‹œêµ¬ê°„ ì¡°ì • ì˜ˆ:
pd.set_option('display.max_columns', 100)
pd.set_option('display.max_rows',100)
```

# ğŸ“Œ 1. ê³µê³µë°ì´í„° íƒìƒ‰
### ğŸ“Œ 1-1. ë°ì´í„°íƒìƒ‰ì€ ìš°ì„  ë²”ìœ„ë¥¼ ì¢í˜€ë‘ê³ 
- ì„œìš¸ ì‚¬ì—…ì¥ì— ëŒ€í•œ ë°ì´í„°ë¥¼ ë‹¤ë£°ë•Œ ì´ë””ì•¼ë¥¼ ì°¾ê³  ì‹¶ìœ¼ë©´ ì „ì²´ ë°ì´í„°ì—ì„œ ì´ë””ì•¼ë¥¼ ì°¾ëŠ” ê²ƒë³´ë‹¤ ì¹´í˜ ì¤‘ì—ì„œ ì´ë””ì•¼ë¥¼ ì°¾ëŠ” ê²ƒì´ í•©ë¦¬ì ì´ë‹¤. 
- í•˜ì—¬ headë‚˜ infoê°™ì€ ëª…ë ¹ì–´ë¡œ ì¹¼ëŸ¼ì„ íŒŒì•…í•˜ì—¬ í•„ìš”í•œ ì¢…ë¥˜ì˜ ì—…ì¢…ë§Œ ì°¾ìœ¼ë©´ ëœë‹¤.
```py
# ë²”ìœ„ë¥¼ ì¢í˜€ë‘ê³  ë°ì´í„° íƒìƒ‰í•˜ê¸°
shop_coffee = shop[shop["ìƒê¶Œì—…ì¢…ì†Œë¶„ë¥˜ëª…"] == 'ì¹´í˜']
```

### ğŸ“Œ 1-2. ì´ë¦„ì´ í¬í•¨ëœ ë°ì´í„° ì°¾ê¸°
- í•´ë‹¹ ì¹¼ëŸ¼ì˜ ë°ì´í„° íƒ€ì…ì€ objectì´ë¯€ë¡œ ìš°ì„  strë¡œ ë§Œë“  ë’¤ì— strê°ì²´ì˜ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ë¶„ë¥˜í•´ë‚¸ë‹¤.
```py
shop_coffee[shop_coffee["ìƒí˜¸ëª…"] == "ì´ë””ì•¼"]
shop_coffee[shop_coffee["ìƒí˜¸ëª…"].str.startswith("ì´ë””ì•¼")]
shop_coffee[shop_coffee["ìƒí˜¸ëª…"].str.endswith("ì´ë””ì•¼")]
shop_coffee[shop_coffee["ìƒí˜¸ëª…"].str.contains("ì´ë””ì•¼")]
```

### ğŸ“Œ 1-3. í”¼ë²—í…Œì´ë¸”ë¡œ í†µê³„ë‚´ê¸°
- ì•„ë˜ëŠ” ê° ì¹´í˜ë¥¼ ì‹œêµ°êµ¬ëª… ê¸°ì¤€ìœ¼ë¡œ group byí•˜ë©´ì„œ ìƒê°€ì—…ì†Œë²ˆí˜¸ ê°œìˆ˜ë¥¼ countí•œ ì§‘ê³„ ê²°ê³¼ë¥¼ ë‚˜íƒ€ë‚¸ í”¼ë²—í…Œì´ë¸”ì„ ë³´ì´ëŠ” ì½”ë“œì´ë‹¤.
```py
shop_coffee_idy = shop_coffee[shop_coffee["ìƒí˜¸ëª…"].str.startswith("ì´ë””ì•¼")]
shop_coffee_mega = shop_coffee[shop_coffee["ìƒí˜¸ëª…"].str.startswith("ë©”ê°€ì»¤í”¼")]

# pivot_table()ì„ ì´ìš©í•´ì„œã…¡ ì–´ëŠ ì‹œêµ°êµ¬ì— ë§¤ì¥ì´ ë§ê³  ì ì€ì§€ í™•ì¸:
pd.pivot_table(shop_coffee_mega, index = "ì‹œêµ°êµ¬ëª…", values="ìƒê°€ì—…ì†Œë²ˆí˜¸", aggfunc="count")
pd.pivot_table(shop_coffee_idy, index = "ì‹œêµ°êµ¬ëª…", values="ìƒê°€ì—…ì†Œë²ˆí˜¸", aggfunc="count")
```
- sort_valuesë¥¼ í™œìš©í•˜ì—¬ seriesì˜ valueë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì •ë ¬ì„ í•  ìˆ˜ ìˆë‹¤. 
- ê¸°ë³¸ê°’ì€ ì˜¤ë¦„ì°¨ìˆœì´ë‹¤.
- ascendingê°’ì„ Falseë¡œ ëª…ì‹œì ìœ¼ë¡œ ì¤Œìœ¼ë¡œì„œ ë‚´ë¦¼ì°¨ìˆœìœ¼ë¡œ ì •ë ¬í•  ìˆ˜ ìˆë‹¤.
```py
pd.pivot_table(shop_coffee_idy, index = "ì‹œêµ°êµ¬ëª…", values="ìƒê°€ì—…ì†Œë²ˆí˜¸", aggfunc="count").sort_values(by="ìƒê°€ì—…ì†Œë²ˆí˜¸", ascending=False)
```

# ğŸ“Œ 2. folium ë°ì´í„° ì‹œê°í™”
### ğŸ“Œ 2-1. ì§€ë„ì— ìœ„ì¹˜ë°ì´í„° ì‹œê°í™”í•˜ê¸° ì¼ë°˜
- í˜„ì—…ì—ì„œëŠ” ë³´í†µ íƒœë¸”ë¡œë¼ëŠ” ì „ë¬¸ ì‹œê°í™” íˆ´ì„ ì‚¬ìš©í•œë‹¤.
- foliumì´ë¼ëŠ” ë°ì´í„° ì‹œê°í™” íˆ´ì„ ì‚¬ìš©í•œë‹¤.
- folium.Mapì— ìœ„ë„, ê²½ë„ë¥¼ ì…ë ¥í•˜ë©´ í•´ë‹¹ ìœ„ì¹˜ê°€ ì¤‘ì•™ì´ë˜ëŠ” ì§€ë„ë¥¼ ë³´ì—¬ì¤€ë‹¤.
- folium.Marker([37.609666,127.051622]).add_to(map1) : Markerì— ìœ„ë„,ê²½ë„ë¥¼ ì£¼ê³  ì ì„ ì°ì„ ìœ„ì¹˜ë¥¼ add_toë¡œ ì œê³µí•˜ë©´ í•´ë‹¹ ì§€ë„ì— í•´ë‹¹ ìœ„ë„ê²½ë„ì— ë§ˆì»¤ë¥¼ ì°ëŠ”ë‹¤.
```py
import folium
# 1) í‘œì‹œí•  ì§€ë„ ë§Œë“¤ê¸° (ìœ„ë„/ê²½ë„) -> ìœ„ë„ ê²½ë„ ì •ë³´ê°€ ì´ë¯¸ ìˆìŒ
map1 = folium.Map([37.609666,127.051622])
# 2) 1) ì§€ë„ì—ë‹¤ ë§ˆí‚¹í‘œì‹œ
folium.Marker([37.609666,127.051622]).add_to(map1)
```

### ğŸ“Œ 2-2. ì§€ë„ìœ„ì— ì—¬ëŸ¬ ìœ„ì¹˜ë¥¼ í‘œì‹œí•˜ê¸°
- ì¹´í˜ ë°ì´í„°ì…‹ì„ ê°€ì ¸ì™€ì„œ ëª¨ë“  ì¹´í˜ì˜ ìœ„ì¹˜ë¥¼ ì§€ë„í•˜ê³  ì‹¶ì„ë•ŒëŠ” forë¬¸ê³¼ locë¥¼ í†µí•´ ì •í™•í•œ ìœ„ë„ê°’ê³¼ ê²½ë„ê°’ì„ ë°ì´í„°ì…‹ì˜ ì¸ë±ìŠ¤ë¥¼ ëŒë©´ì„œ ì…ë ¥í•œë‹¤. 
- í•´ë‹¹ ìœ„ë„ê²½ë„ë¡œ folium.Marker([a,b]).add_to(map2) ì´ ëª…ë ¹ì„ ì‹¤í–‰í•œë‹¤.
```py
# 2) 1) ì§€ë„ì—ë‹¤ ë§ˆí‚¹í‘œì‹œ
shop_coffee_idy[["ìœ„ë„","ê²½ë„"]].loc[2512,"ìœ„ë„"] #37.5933276477628

for i in shop_coffee_idy.index:
  a = shop_coffee_idy[["ìœ„ë„","ê²½ë„"]].loc[i,"ìœ„ë„"]
  b = shop_coffee_idy[["ìœ„ë„","ê²½ë„"]].loc[i,"ê²½ë„"]

  folium.Marker([a,b]).add_to(map2)
```
### ğŸ“Œ 2-3. MarkerClusterë¥¼ í™œìš©í•˜ì—¬ ì¢€ ë” ë³´ê¸°ì¢‹ê²Œ ë§ˆí‚¹í•˜ê¸°
- ê¸°ì¡´ì—ëŠ” ë„ˆë¬´ ë§ì€ ë°ì´í„°ê°€ ì§€ë„ìœ„ì— ë°€ì§‘í•˜ì—¬ ì°í˜€ìˆì–´ ë³´ê¸° ë¶ˆí¸í–ˆë‹¤.
- ì´ë¥¼ ê°œì„ í•˜ê¸° ìœ„í•´ ì¤‘ê°„ì— ì±„ê°™ì€ ê²ƒìœ¼ë¡œ(ìƒˆë¡œìš´ íš¨ê³¼ë¥¼ ì ìš©í•˜ì—¬) í•œë²ˆ ê±¸ëŸ¬ì„œ ê¹”ë”í•˜ê²Œ ì •ë¦¬í•˜ì—¬ í‘œì‹œí•  ìˆ˜ ìˆë„ë¡ í•œë‹¤.
- MarkerClusterëŠ” ì¤Œì— ë”°ë¼ ëª¨ì—¬ìˆëŠ” ë¶€ë¶„ì€ ì›ì— ëª¨ì—¬ìˆëŠ” ìˆ«ìë¡œ í‰ì³ì„œ ë³´ì—¬ì£¼ê³  í™•ëŒ€í•˜ë©´ ì ì  ë§ˆì»¤ê°€ ë‚˜íƒ€ë‚˜ëŠ” ì—­í• ì„ í•œë‹¤.
```py
from folium.plugins import MarkerCluster

mcluster = MarkerCluster()

# 1)
map3 = folium.Map([37.548490,126.994028])
mc = mcluster.add_to(map3)

for i in shop_coffee_idy.index:
  a = shop_coffee_idy.loc[i,"ìœ„ë„"]
  b = shop_coffee_idy.loc[i,"ê²½ë„"]

  folium.Marker([a,b]).add_to(mc)
```
- ë§ˆì»¤ì— íˆ´íŒê³¼ íŒì—… ì •ë³´ë„ ì¶”ê°€í•  ìˆ˜ ìˆë‹¤ ì•„ë˜ì™€ ê°™ì´ ë°˜ë³µë¬¸ ëŒë•Œ ë°ì´í„°ë¥¼ ë½‘ì•„ë‚´ê³  Markerí•¨ìˆ˜ì— ë§¤ê°œë³€ìˆ˜ë¥¼ ì¶”ê°€í•´ì£¼ë©´ ëœë‹¤.
```py
mc = mcluster.add_to(map3)

for i in shop_coffee_idy.index:
  a = shop_coffee_idy.loc[i,"ìœ„ë„"]
  b = shop_coffee_idy.loc[i,"ê²½ë„"]
  c = shop_coffee_idy.loc[i,"ì‹œêµ°êµ¬ëª…"]
  d = shop_coffee_idy.loc[i,"ìƒí˜¸ëª…"]

  folium.Marker([a,b], 
                tooltip=c,
                popup=d).add_to(mc)
```

### ğŸ“Œ 2-4. HeatMapìœ¼ë¡œ ì‹œê°í™”í•˜ê¸°
- min_opacityëŠ” ìµœì†Œ íˆ¬ëª…ë„ë¡œ íˆíŠ¸ë§µì´ ì–¼ë§ˆë‚˜ íˆ¬ëª…í• ì§€ë¥¼ ì„¤ì •í•´ì¤€ë‹¤.
```py
from folium.plugins import HeatMap

map4 = folium.Map([37.548490,126.994028])

HeatMap(shop_coffee_idy[["ìœ„ë„","ê²½ë„"]], 
        min_opacity=0.2).add_to(map4)
```
