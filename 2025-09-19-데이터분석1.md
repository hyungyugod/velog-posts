# 📌 0. 데이터분석 문제풀이
### 📌 0-1. channel 컬럼 정리
- contain의 역할은 파이썬에서는 그냥 in으로 하면 된다. 
```py
def clean_channel(text):
    if not isinstance(text, str):
        return text

    if "google" in text:
        return "google"
    elif "daum" in text:
        return "daum"
    elif "naver" in text:
        return "naver"
    elif "apple" in text:
        return "apple"
    elif "web" in text:
        return "web"
    else:
        return text

raw_log["channel"] = raw_log["channel"].apply(clean_channel)
print(raw_log["channel"].value_counts())
```

### 📌 0-2. split을 이용하여 .이나 _ 기준으로 데이터 분리한 컬럼 생성하기
```py
def split_viewcategory(text):
  if not isinstance(text, str):
        return text

  if "_" not in text:
    answer = text.split(".")
    return answer[0]

  else: 
    answer = text.split("_")
    return answer[0]

def split_viewed(text):
  if not isinstance(text, str):
        return text

  answer = text.split(".")
  return answer[0]

def split_viewaction(text):
  if not isinstance(text, str):
        return text

  answer = text.split(".")
  return answer[1]

raw_log["viewcategory"] = raw_log["inappeventcategory"].apply(split_viewcategory)
raw_log["viewed"] = raw_log["inappeventcategory"].apply(split_viewed)
raw_log["viewaction"] = raw_log["inappeventcategory"].apply(split_viewaction)

raw_log[["inappeventcategory","viewcategory","viewed","viewaction"]].head(5)
```

### 📌 0-3. 제시된 필요없는 컬럼 제거
```py
drop_cols = ["osversion","devicemanufacturer","canonicaldeviceuuid","channel","event_rank"]
raw_log = raw_log.drop(columns=drop_cols).head(5)
```

### 📌 0-4. 컬럼명 변경
```py
raw_log.rename(columns = {'eventcategory':'event_category', 'isfirstactivity':'is_first_activity', 
                          'apppackagename':'app_package_name', 'appversion':'app_version',
                          'devicetype':'device_type', 'sourcetype':'source_type', #'params_campaign', 'params_medium','params_term',
                          'inappeventcategory':'in_app_event_category', 'inappeventlabel':'in_app_event_label',
                          'eventdatetime':'event_datetime', 'rowuuid':'row_uuid', 'isfirstgoalactivity':'is_first_goal_activity',
                          'userid':'user_id', 'eventdatetime_year':'event_datetime_year', 'eventdatetime_month':'event_datetime_month', 'eventdatetime_day':'event_datetime_day',
                          'eventdatetime_hour':'event_datetime_hour', 'eventdatetime_minute':'event_datetime_minute', 'eventdatetime_second':'event_datetime_second', 
                          'ostype(clean)':'os_type', 'osversion(clean)':'os_version', 'devicemanufacturer(clean)':'device_manufacturer', 
                          'channel(clean)':'channel', 'viewcategory':'view_category', 'viewid':'view_id', 'viewaction':'view_action'})
```