# ğŸ“Œ 0. ë³´ìŠ¤ í´ë¡  ì½”ë”© í”„ë¡œì íŠ¸
- ë³´ìŠ¤ ì‚¬ì´íŠ¸ í´ë¡  ì½”ë”©ì„ ì‹œì‘í•˜ë©´ì„œ ê´€ë ¨ ë¸”ë¡œê·¸ë‚˜ ì •ë³´ë“¤ì„ ì •ë¦¬í•˜ê¸° ì‹œì‘í•œë‹¤.
### ğŸ“Œ 0-1. ê°œë°œ ê´€ë ¨ ìš©ì–´
- low(í”Œë¡œìš°): ì‚¬ìš©ì(ê³ ê°/ê´€ë¦¬ì)ê°€ ì‡¼í•‘ëª° ì‚¬ì´íŠ¸ì—ì„œ íšŒì›ê°€ì…, ìƒí’ˆê²€ìƒ‰, ì¥ë°”êµ¬ë‹ˆ ë‹´ê¸°, ì£¼ë¬¸ ë“± ì–´ë–¤ ìˆœì„œë¡œ ì–´ë–¤ ê¸°ëŠ¥ì„ ì´ìš©í•˜ëŠ”ì§€ì— ëŒ€í•œ **ì „ì²´ì ì¸ ì‚¬ìš© íë¦„(ìœ ì € í”Œë¡œìš°)**ì„ ë„ì‹ì´ë‚˜ ë‹¨ê³„ë³„ë¡œ ì •ë¦¬í•œ ê²ƒì´ë‹¤. (ì˜ˆì‹œ: íšŒì›ê°€ì… â†’ ë¡œê·¸ì¸ â†’ ìƒí’ˆê²€ìƒ‰ â†’ ì¥ë°”êµ¬ë‹ˆ ì¶”ê°€ â†’ ì£¼ë¬¸ â†’ ê²°ì œ ë“±)
- IA(Information Architecture, ì •ë³´ êµ¬ì¡°ë„): ì‚¬ì´íŠ¸ ë‚´ ê° ë©”ë‰´, ê¸°ëŠ¥, í˜ì´ì§€, ì •ë³´(ìƒí’ˆ, ê³ ê°ì •ë³´, ì£¼ë¬¸ ë“±)ê°€ ì–´ë–»ê²Œ ë¶„ë¥˜ë˜ê³ , ì–´ë–»ê²Œ ì—°ê²°ë˜ëŠ”ì§€ êµ¬ì¡°í™”í•œ ì„¤ê³„ë„.
(ì˜ˆì‹œ: ë©”ì¸ ë©”ë‰´ â†’ ìƒí’ˆ ëª©ë¡ â†’ ìƒí’ˆ ìƒì„¸ â†’ ì¥ë°”êµ¬ë‹ˆ, í˜¹ì€ ê´€ë¦¬ì ë©”ë‰´ êµ¬ì„± ë“±)
- ERD(Entity Relationship Diagram, ERD/ë°ì´í„°ë² ì´ìŠ¤ ê°œì²´-ê´€ê³„ë„): ë°ì´í„°ë² ì´ìŠ¤ì— ì–´ë–¤ í…Œì´ë¸”ì´ ìˆê³ (ì˜ˆ: íšŒì›, ìƒí’ˆ, ì£¼ë¬¸), í…Œì´ë¸”ë¼ë¦¬ ì–´ë–¤ ê´€ê³„(1:N, N:M ë“±)ë¡œ ì—°ê²°ë˜ì–´ ìˆëŠ”ì§€ ë„ì‹í™”í•œ ê²ƒì´ë‹¤. (ì˜ˆì‹œ: íšŒì›(1) : ì£¼ë¬¸(N), ìƒí’ˆ(1) : ì£¼ë¬¸ìƒì„¸(N) ë“±)
- MUL: MULì€ Multiple Keyì˜ ì•½ìì´ë‹¤. "ì¤‘ë³µì„ í—ˆìš©í•˜ëŠ” ì¸ë±ìŠ¤", ì¦‰ ë™ì¼í•œ ê°’ì´ ì—¬ëŸ¬ í–‰ì— ë“¤ì–´ê°ˆ ìˆ˜ ìˆëŠ” ì»¬ëŸ¼ì— ì¸ë±ìŠ¤ê°€ ê±¸ë ¤ìˆë‹¤ëŠ” ì˜ë¯¸ì•¼.

### ğŸ“Œ 0-2. db ì„¤ê³„ ì ˆì°¨ (ë¬¼ë¦¬ì  ì„¤ê³„ ì „ê¹Œì§€)
- ìš”êµ¬ì‚¬í•­ ë¶„ì„: í˜„ì¬ ì§„í–‰ ì¤‘ì¸ ì ˆì°¨ë¡œ ëª¨ë“  ê¸°ëŠ¥ë“¤ì„ ë‚˜ì—´í•˜ê³  ê¸°ëŠ¥ë“¤ì„ depth ê¸°ì¤€ìœ¼ë¡œ ë§ˆì¸ë“œë§µ í˜•ì‹ìœ¼ë¡œ ë¨¼ì € ëŒ€ê°• ë‚˜ëˆˆ í›„ì— ê·¸ ê·¸ë¦¼ì„ ì°¸ê³  í•˜ì—¬ ë‹¨ìœ„ë³„ë¡œ í•„ìš”í•œ ê¸°ëŠ¥ë“¤ì„ ì •ë¦¬í•˜ëŠ” ì¤‘ì— ìˆë‹¤.
- ê°œë…ì  ì„¤ê³„ (ERD): ì•ì„œ ë¶„ì„í•œ ìš”êµ¬ì‚¬í•­ì„ ë°”íƒ•ìœ¼ë¡œ, ì •ë³´(ë°ì´í„°)ë“¤ ê°„ì˜ ê´€ê³„ì™€ êµ¬ì¡°ë¥¼ ì‹œê°ì ìœ¼ë¡œ ì„¤ê³„í•  ì˜ˆì •ì´ë‹¤. ì¦‰, â€œì–´ë–¤ ë°ì´í„°(ì—”í„°í‹°)ë“¤ì´ í•„ìš”í•˜ê³ , ì–´ë–»ê²Œ ì—°ê²°ë˜ëŠ”ê°€?â€ë¥¼ ê·¸ë¦¼(ERD)ìœ¼ë¡œ í‘œí˜„í•˜ëŠ” ê²ƒì´ë‹¤. (1:nê´€ê³„ê°™ì€ ê²ƒê¹Œì§€)
- ë…¼ë¦¬ì  ì„¤ê³„ (ë¦´ë ˆì´ì…˜ ìŠ¤í‚¤ë§ˆ): ì •í™•íˆ ëª¨ë“  ì†ì„±ì„ ì •ë¦¬í•˜ê³  ì†ì„±ì˜ ì„¤ì •ê°’ë“¤, pk, fk, nn ë“±ì„ ì„¤ì •í•˜ê³  ì„ ì—„ë°€í•˜ê²Œ ì •ì˜í•œë‹¤. ì´ë¥¼ ë¦´ë ˆì´ì…˜(í…Œì´ë¸”)ë¡œ ë§Œë“¤ë©´ì„œ ìŠ¤í‚¤ë§ˆë¥¼ êµ¬ì„±í•  ì˜ˆì •ì´ë‹¤. 

### ğŸ“Œ 0-3. ERD ê·¸ë¦¬ê¸°( db ë§Œë“¤ í•­ëª©ë¼ë¦¬ì˜ ë…¼ë¦¬ì  ê´€ê³„ )
- ìš°ì„  ìš”êµ¬ì‚¬í•­ ì •ì˜ì„œë‚˜ êµ¬ì¡°ë„ë¥¼ ë³´ê³  dbë¥¼ ë§Œë“¤ í•­ëª©ì„ ì •í•˜ëŠ”ê²Œ ì¢‹ì€ ê²ƒ ê°™ë‹¤. ê¸°ì—…ì˜ ì†Œê°œë‚˜ ê°€ì¹˜ ë“±ì€ ì–´ì§œí”¼ ë³€í•˜ëŠ” ì •ë³´ê°€ ì•„ë‹ˆê¸°ë•Œë¬¸ì— ê·¸ëƒ¥ ì •ì  htmlë¡œ êµ¬í˜„í•´ë„ ì¶©ë¶„í•˜ê¸° ë•Œë¬¸ì´ë‹¤.
- ERDì—ì„œ ì„ ì€ ë°ì´í„°ë“¤ì´ ë…¼ë¦¬ì ìœ¼ë¡œ ì—°ê²°ë˜ì–´ ìˆì„ ë•Œ ê¸‹ëŠ” ê²ƒì´ë‹¤.
- ê·¸ë¦¬ê³  ë§Œì•½ ì£¼ë¬¸ì •ë³´ dbì— ì£¼ë¬¸ ìƒí’ˆì„ ë‹¤ ë„£ìœ¼ë©´ dbê°€ ë³µì¡í•´ì§ˆ ìˆ˜ ìˆìœ¼ë¯€ë¡œ ì£¼ë¬¸ ìƒí’ˆ ê´€ë ¨ëœ dbë¥¼ ë”°ë¡œ ë§Œë“¤ì–´ì„œ í•´ë‹¹ í…Œì´ë¸”ì„ ì°¸ì¡°í•˜ëŠ” ë°©ì‹ì´ dbë¥¼ ê¹¨ë—í•˜ê²Œ ìœ ì§€í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì¸ ê²ƒ ê°™ë‹¤.
- ì£¼ë¬¸ì •ë³´ì™€ ì£¼ë¬¸ ë²ˆí˜¸ì— ë”°ë¥¸ ì£¼ë¬¸ ìƒí’ˆ í…Œì´ë¸”ì„ ë¶„ë¦¬í•˜ì—¬ (í•œ ì£¼ë¬¸ë²ˆí˜¸ì— ìƒí’ˆì´ ë§ì•„ì§ˆ ìˆ˜ ìˆìœ¼ë¯€ë¡œ) dbë¥¼ ê¹”ë”í•˜ê²Œ ë‚˜ëˆ„ì—ˆê³  ì´ë•Œ ì£¼ë¬¸ ìƒí’ˆì€ ìƒì„±ë ë•Œ ìƒí’ˆì—ì„œ ê°€ì ¸ì˜¤ëŠ”ê²Œ ì•„ë‹ˆë¼ ìƒí’ˆì˜ ì •ë³´ë¥¼ ê°€ì ¸ì™€ì„œ (select) ê·¸ë•Œë§ˆë‹¤ insertí•˜ì—¬ êµ¬ì„±í•œë‹¤. (ì°¸ì¡°ê´€ê³„ì— ì˜í•´ ìƒí’ˆì´ ì‚­ì œë  ë•Œ ì£¼ë¬¸ë‚´ì—­ì´ ê°™ì´ ì‚­ì œí•˜ëŠ” ê²ƒì„ ë°©ì§€í•˜ê¸° ìœ„í•˜ì—¬)

# ğŸ“Œ 1. ì²´í¬ë°•ìŠ¤ ë§Œë“¤ì–´ì„œ êµìˆ˜ ê²€ìƒ‰í•˜ê¸°
### ğŸ“Œ 1-1. check box ì„¤ì • -> th:checkedë¡œ í•œë²ˆ ì„ íƒë˜ë©´ ìƒíƒœìœ ì§€í•˜ê¸°
```html
<label>
    <input type="checkbox" name="position" value="êµìˆ˜" th:checked="${#arrays.contains(position,'êµìˆ˜')}"/> êµìˆ˜
</label>
<label>
    <input type="checkbox" name="position" value="ë¶€êµìˆ˜" th:checked="${#arrays.contains(position,'ë¶€êµìˆ˜')}"/> ë¶€êµìˆ˜
</label>
<label>
    <input type="checkbox" name="position" value="ì¡°êµìˆ˜" th:checked="${#arrays.contains(position,'ì¡°êµìˆ˜')}"/> ì¡°êµìˆ˜
</label>
<label>
    <input type="checkbox" name="position" value="ì „ì„ê°•ì‚¬" th:checked="${#arrays.contains(position,'ì „ì„ê°•ì‚¬')}"/> ì „ì„ê°•ì‚¬
</label>
```

### ğŸ“Œ 1-2. ìƒí™©ë§ˆë‹¤ ë°”ë€ŒëŠ” ê°’ì„ ì„¤ì •ì— ë‘ê³  ëŒì–´ì˜¤ê¸°
- - ì»´íŒŒì¼ í•œ ìƒíƒœë¡œ ë°°í¬í•˜ë¯€ë¡œ ì½”ë“œì— ì¼ë°˜ ìë£Œí˜•ìœ¼ë¡œ ì˜ˆë¥¼ë“¤ì–´ int listCount = 0; ì´ëŸ° ì‹ìœ¼ë¡œ ë°•ì•„ë‘ë©´ ì„œë¹„ìŠ¤ë¥¼ ë°›ì•„ë³¸ ì…ì¥ì—ì„œ ì§ì ‘ ì½”ë“œë¥¼ ìˆ˜ì •í•´ì•¼í•˜ë¯€ë¡œ ë¶ˆí¸í•˜ë‹¤. ê·¸ëƒ¥ ì´ê°’ì„ í™˜ê²½ì„¤ì •ì— ë¹¼ë‘ê³  ì¸ìš©í•˜ë©´ ë°›ì•„ë³´ëŠ” ì‚¬ìš©ìë“¤ë„ í¸í•˜ê²Œ ì´ìš©í•  ìˆ˜ ìˆë‹¤.
- ì•„ë˜ëŠ” application propertiesì´ë‹¤.
```python
## í˜ì´ì§€ ë²ˆí˜¸ êµ¬í˜„ ì„¤ì •

### í˜ì´ì§€ ë²ˆí˜¸ë¥¼ í‘œì‹œí•  ë•Œ í•œ í˜ì´ì§€ì— í‘œì‹œí•  í˜ì´ì§€ ë²ˆí˜¸ì˜ ê°œìˆ˜
myschool.page.listCount=10

### í•œ ê·¸ë£¹ë‹¹ í‘œì‹œí•  í˜ì´ì§€ ë²ˆí˜¸ ìˆ˜
myschool.page.groupCount=5
```
- ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ ì•„ë˜ì™€ ê°™ì´ ì‚¬ìš©
```java
@Value("${myschool.page.listCount}")
private int listCount;

@Value("${myschool.page.groupCount}")
private int groupCount;
```

### ğŸ“Œ 1-3. ê°’ì„ ëª¨ë¸ì´ ë³´ë‚´ì„œ ìƒíƒœìœ ì§€í•˜ê¸°
- ìš”ì²­ ì¿¼ë¦¬ìŠ¤íŠ¸ë§ì—ì„œ ëŒì–´ì™€ì„œ ëª¨ë¸ì— ë‹´ì•„ ë¦¬í„´í•˜ì—¬ viewì— ë°˜ì˜í•˜ê³  ìƒíƒœìœ ì§€í•œë‹¤.
- ì´ë•Œ ë“¤ì–´ì˜¤ëŠ” ìš”ì²­ì„ ì‰¼í‘œë‹¨ìœ„ë¡œ ì•Œì•„ì„œ ëŠì–´ì¤€ë‹¤.
```java
 @RequestParam(value = "position", required = false, defaultValue = "") String[] position
  model.addAttribute("position", position);
```

### ğŸ“Œ 1-4. ì²´í¬ ë°•ìŠ¤ ê°’ì„ ë°°ì—´ì— ë‹´ì•„ ê°€ì„œ dbì—ì„œ í•´ë‹¹ë˜ëŠ” ê°’ë§Œ inìœ¼ë¡œ ì¡°íšŒí•˜ê¸°
- ìš°ì„  ëª¨ë¸ ê°ì²´ì— positionArray í•„ë“œë¥¼ ë§Œë“  ë’¤ ìš”ì²­ì—ì„œ ë°›ì•„ì˜¨ ì²´í¬ë°•ìŠ¤í•œ í•­ëª©ì˜ ë°°ì—´ì„ DTOì— ë‹´ì•„ ë¦¬í„´í•œë‹¤.
```java
ProfessorSearchParam.setPositionArray(position);
```
- ì•„ë˜ëŠ” ì „ì²´ mybatis selectList ì½”ë“œì´ë‹¤.
```java
@Select("<script>"+
        "SELECT p.id, name, user_id, position, sal, hiredate, comm, p.email, p.phone, photo_url, status, d.dname FROM professors AS p " 
        + "join departments AS d on p.department_id = d.id "
        + "<where>" 
        + "<trim prefix='(' suffix=')' prefixOverrides='AND |OR'> "
        + " <if test=\"name != null and name != ''\"> name like concat('%', #{name}, '%')</if> " 
        + "<if test=\"userId != null and userId != ''\">or user_id like concat('%', #{userId}, '%')</if> "
        + "</trim> "
        + "<if test='departmentId != 0'>AND p.department_id = #{departmentId}</if>"
        + "<if test='positionArray != null and positionArray.length > 0'> "
        + "AND position in "
        + "<foreach item='item' index='index' collection='positionArray' open='(' separator=',' close=')' >"
        + "#{item}"
        + "</foreach>"
        + "</if>"
        +"</where> "
        + "order by p.id desc "
        + "<if test='listCount > 0'>limit #{offset}, #{listCount}</if>"
        + "</script>")
        @ResultMap ("resultMap")
    public List<Professor> selectList(Professor input);
```
- ì£¼ëª©í•´ì•¼ í•  ë¶€ë¶„ì€ 
```java
"<if test='positionArray != null and positionArray.length > 0'> "
        + "AND position in "
    + "<foreach item='item' index='index' collection='positionArray' open='(' separator=',' close=')'>"
        + "#{item}"
    + "</foreach>"
+ "</if>"
```
- ì´ ë¶€ë¶„ì´ë‹¤.
- open='(': ê´„í˜¸ ì—¬ëŠ” ê²ƒì´ê³ 
- separator=',': ì½¤ë§ˆë¡œ êµ¬ë¶„ì´ë©°
- close=')': ê´„í˜¸ ë‹«ëŠ” ê²ƒì´ë‹¤.
- ë„ì–´ì“°ê¸° ì£¼ì˜í•´ì•¼í•œë‹¤.

```html
<ul class="pagination">
    <!-- ì´ì „ í˜ì´ì§€ ê·¸ë£¹ ì´ë™ ë²„íŠ¼ -->
    <li th:if="${pageHelper.prevPage > 0}"> 
        <a th:href="@{/professor(keyword=${keyword}, department_id=${departmentId}, position=${#strings.arrayJoin(position, ',')}, page=${pageHelper.prevPage})}">â—€</a>
    </li>
    <li th:unless="${pageHelper.prevPage > 0}"><a class="btn2">â—€</a></li>

    <!-- í˜ì´ì§€ ë²ˆí˜¸ ë§í¬ -->
    <li th:each="i : ${#numbers.sequence(pageHelper.startPage, pageHelper.endPage)}">
        <a th:if="${i == pageHelper.nowPage}" class="active" th:text="${i}" ></a>
        <a th:unless="${i == pageHelper.nowPage}" th:text="${i}"
            th:href="@{/professor(keyword=${keyword}, department_id=${departmentId}, position=${#strings.arrayJoin(position, ',')}, page=${i})}" ></a>
    </li>

    <!-- ë‹¤ìŒ í˜ì´ì§€ ê·¸ë£¹ ì´ë™ ë²„íŠ¼ -->
    <li th:if="${pageHelper.nextPage > 0}">
        <a th:href="@{/professor(keyword=${keyword}, department_id=${departmentId}, position=${#strings.arrayJoin(position, ',')}, page=${pageHelper.nextPage})}">â–¶</a>
    </li>
    <li  th:unless="${pageHelper.nextPage > 0}"><a class="btn2">â–¶</a></li>
</ul>
```
- position=${#strings.arrayJoin(position, ',')} : ì¿¼ë¦¬ìŠ¤íŠ¸ë§ì— position ë¦¬ìŠ¤íŠ¸ì— ìˆëŠ” ê°’ì„ ,ìœ¼ë¡œ ì—°ê²°í•œ ë¬¸ìì—´ë¡œ ë§Œë“¤ì–´ ë„£ëŠ”ë‹¤.
- Thymeleaf ê³µì‹ ìœ í‹¸ ê°ì²´ ì´ë¦„ì´ #strings, #numbers, #dates, #lists ë“± ëª¨ë‘ ë³µìˆ˜í˜•ì´ê¸° ë•Œë¬¸ì— stringìœ¼ë¡œ ì“°ë©´ ì˜¤ë¥˜ê°€ ë‚œë‹¤.
- script ê¼­ í‘œê¸°í•´ì£¼ê¸°



